(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function l(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(c){if(c.ep)return;c.ep=!0;const d=l(c);fetch(c.href,d)}})();var Ec={exports:{}},Sl={};var Mm;function ip(){if(Mm)return Sl;Mm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,c,d){var f=null;if(d!==void 0&&(f=""+d),c.key!==void 0&&(f=""+c.key),"key"in c){d={};for(var g in c)g!=="key"&&(d[g]=c[g])}else d=c;return c=d.ref,{$$typeof:i,type:r,key:f,ref:c!==void 0?c:null,props:d}}return Sl.Fragment=n,Sl.jsx=l,Sl.jsxs=l,Sl}var zm;function lp(){return zm||(zm=1,Ec.exports=ip()),Ec.exports}var h=lp(),jc={exports:{}},xe={};var Bm;function rp(){if(Bm)return xe;Bm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.iterator;function A(_){return _===null||typeof _!="object"?null:(_=N&&_[N]||_["@@iterator"],typeof _=="function"?_:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,Q={};function Y(_,z,X){this.props=_,this.context=z,this.refs=Q,this.updater=X||U}Y.prototype.isReactComponent={},Y.prototype.setState=function(_,z){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,z,"setState")},Y.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function q(){}q.prototype=Y.prototype;function M(_,z,X){this.props=_,this.context=z,this.refs=Q,this.updater=X||U}var P=M.prototype=new q;P.constructor=M,H(P,Y.prototype),P.isPureReactComponent=!0;var oe=Array.isArray;function re(){}var te={H:null,A:null,T:null,S:null},_e=Object.prototype.hasOwnProperty;function V(_,z,X){var ae=X.ref;return{$$typeof:i,type:_,key:z,ref:ae!==void 0?ae:null,props:X}}function je(_,z){return V(_.type,z,_.props)}function Ke(_){return typeof _=="object"&&_!==null&&_.$$typeof===i}function Le(_){var z={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(X){return z[X]})}var mt=/\/+/g;function ot(_,z){return typeof _=="object"&&_!==null&&_.key!=null?Le(""+_.key):z.toString(36)}function I(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(re,re):(_.status="pending",_.then(function(z){_.status==="pending"&&(_.status="fulfilled",_.value=z)},function(z){_.status==="pending"&&(_.status="rejected",_.reason=z)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function C(_,z,X,ae,ge){var be=typeof _;(be==="undefined"||be==="boolean")&&(_=null);var le=!1;if(_===null)le=!0;else switch(be){case"bigint":case"string":case"number":le=!0;break;case"object":switch(_.$$typeof){case i:case n:le=!0;break;case b:return le=_._init,C(le(_._payload),z,X,ae,ge)}}if(le)return ge=ge(_),le=ae===""?"."+ot(_,0):ae,oe(ge)?(X="",le!=null&&(X=le.replace(mt,"$&/")+"/"),C(ge,z,X,"",function(fa){return fa})):ge!=null&&(Ke(ge)&&(ge=je(ge,X+(ge.key==null||_&&_.key===ge.key?"":(""+ge.key).replace(mt,"$&/")+"/")+le)),z.push(ge)),1;le=0;var ue=ae===""?".":ae+":";if(oe(_))for(var ze=0;ze<_.length;ze++)ae=_[ze],be=ue+ot(ae,ze),le+=C(ae,z,X,be,ge);else if(ze=A(_),typeof ze=="function")for(_=ze.call(_),ze=0;!(ae=_.next()).done;)ae=ae.value,be=ue+ot(ae,ze++),le+=C(ae,z,X,be,ge);else if(be==="object"){if(typeof _.then=="function")return C(I(_),z,X,ae,ge);throw z=String(_),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return le}function $(_,z,X){if(_==null)return _;var ae=[],ge=0;return C(_,ae,"","",function(be){return z.call(X,be,ge++)}),ae}function W(_){if(_._status===-1){var z=_._result;z=z(),z.then(function(X){(_._status===0||_._status===-1)&&(_._status=1,_._result=X)},function(X){(_._status===0||_._status===-1)&&(_._status=2,_._result=X)}),_._status===-1&&(_._status=0,_._result=z)}if(_._status===1)return _._result.default;throw _._result}var he=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},Z={map:$,forEach:function(_,z,X){$(_,function(){z.apply(this,arguments)},X)},count:function(_){var z=0;return $(_,function(){z++}),z},toArray:function(_){return $(_,function(z){return z})||[]},only:function(_){if(!Ke(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return xe.Activity=S,xe.Children=Z,xe.Component=Y,xe.Fragment=l,xe.Profiler=c,xe.PureComponent=M,xe.StrictMode=r,xe.Suspense=p,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,xe.__COMPILER_RUNTIME={__proto__:null,c:function(_){return te.H.useMemoCache(_)}},xe.cache=function(_){return function(){return _.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(_,z,X){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var ae=H({},_.props),ge=_.key;if(z!=null)for(be in z.key!==void 0&&(ge=""+z.key),z)!_e.call(z,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&z.ref===void 0||(ae[be]=z[be]);var be=arguments.length-2;if(be===1)ae.children=X;else if(1<be){for(var le=Array(be),ue=0;ue<be;ue++)le[ue]=arguments[ue+2];ae.children=le}return V(_.type,ge,ae)},xe.createContext=function(_){return _={$$typeof:f,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:d,_context:_},_},xe.createElement=function(_,z,X){var ae,ge={},be=null;if(z!=null)for(ae in z.key!==void 0&&(be=""+z.key),z)_e.call(z,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ge[ae]=z[ae]);var le=arguments.length-2;if(le===1)ge.children=X;else if(1<le){for(var ue=Array(le),ze=0;ze<le;ze++)ue[ze]=arguments[ze+2];ge.children=ue}if(_&&_.defaultProps)for(ae in le=_.defaultProps,le)ge[ae]===void 0&&(ge[ae]=le[ae]);return V(_,be,ge)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(_){return{$$typeof:g,render:_}},xe.isValidElement=Ke,xe.lazy=function(_){return{$$typeof:b,_payload:{_status:-1,_result:_},_init:W}},xe.memo=function(_,z){return{$$typeof:y,type:_,compare:z===void 0?null:z}},xe.startTransition=function(_){var z=te.T,X={};te.T=X;try{var ae=_(),ge=te.S;ge!==null&&ge(X,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(re,he)}catch(be){he(be)}finally{z!==null&&X.types!==null&&(z.types=X.types),te.T=z}},xe.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},xe.use=function(_){return te.H.use(_)},xe.useActionState=function(_,z,X){return te.H.useActionState(_,z,X)},xe.useCallback=function(_,z){return te.H.useCallback(_,z)},xe.useContext=function(_){return te.H.useContext(_)},xe.useDebugValue=function(){},xe.useDeferredValue=function(_,z){return te.H.useDeferredValue(_,z)},xe.useEffect=function(_,z){return te.H.useEffect(_,z)},xe.useEffectEvent=function(_){return te.H.useEffectEvent(_)},xe.useId=function(){return te.H.useId()},xe.useImperativeHandle=function(_,z,X){return te.H.useImperativeHandle(_,z,X)},xe.useInsertionEffect=function(_,z){return te.H.useInsertionEffect(_,z)},xe.useLayoutEffect=function(_,z){return te.H.useLayoutEffect(_,z)},xe.useMemo=function(_,z){return te.H.useMemo(_,z)},xe.useOptimistic=function(_,z){return te.H.useOptimistic(_,z)},xe.useReducer=function(_,z,X){return te.H.useReducer(_,z,X)},xe.useRef=function(_){return te.H.useRef(_)},xe.useState=function(_){return te.H.useState(_)},xe.useSyncExternalStore=function(_,z,X){return te.H.useSyncExternalStore(_,z,X)},xe.useTransition=function(){return te.H.useTransition()},xe.version="19.2.3",xe}var Lm;function Fc(){return Lm||(Lm=1,jc.exports=rp()),jc.exports}var j=Fc(),Nc={exports:{}},Tl={},Ac={exports:{}},Cc={};var qm;function op(){return qm||(qm=1,(function(i){function n(C,$){var W=C.length;C.push($);e:for(;0<W;){var he=W-1>>>1,Z=C[he];if(0<c(Z,$))C[he]=$,C[W]=Z,W=he;else break e}}function l(C){return C.length===0?null:C[0]}function r(C){if(C.length===0)return null;var $=C[0],W=C.pop();if(W!==$){C[0]=W;e:for(var he=0,Z=C.length,_=Z>>>1;he<_;){var z=2*(he+1)-1,X=C[z],ae=z+1,ge=C[ae];if(0>c(X,W))ae<Z&&0>c(ge,X)?(C[he]=ge,C[ae]=W,he=ae):(C[he]=X,C[z]=W,he=z);else if(ae<Z&&0>c(ge,W))C[he]=ge,C[ae]=W,he=ae;else break e}}return $}function c(C,$){var W=C.sortIndex-$.sortIndex;return W!==0?W:C.id-$.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var f=Date,g=f.now();i.unstable_now=function(){return f.now()-g}}var p=[],y=[],b=1,S=null,N=3,A=!1,U=!1,H=!1,Q=!1,Y=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function P(C){for(var $=l(y);$!==null;){if($.callback===null)r(y);else if($.startTime<=C)r(y),$.sortIndex=$.expirationTime,n(p,$);else break;$=l(y)}}function oe(C){if(H=!1,P(C),!U)if(l(p)!==null)U=!0,re||(re=!0,Le());else{var $=l(y);$!==null&&I(oe,$.startTime-C)}}var re=!1,te=-1,_e=5,V=-1;function je(){return Q?!0:!(i.unstable_now()-V<_e)}function Ke(){if(Q=!1,re){var C=i.unstable_now();V=C;var $=!0;try{e:{U=!1,H&&(H=!1,q(te),te=-1),A=!0;var W=N;try{t:{for(P(C),S=l(p);S!==null&&!(S.expirationTime>C&&je());){var he=S.callback;if(typeof he=="function"){S.callback=null,N=S.priorityLevel;var Z=he(S.expirationTime<=C);if(C=i.unstable_now(),typeof Z=="function"){S.callback=Z,P(C),$=!0;break t}S===l(p)&&r(p),P(C)}else r(p);S=l(p)}if(S!==null)$=!0;else{var _=l(y);_!==null&&I(oe,_.startTime-C),$=!1}}break e}finally{S=null,N=W,A=!1}$=void 0}}finally{$?Le():re=!1}}}var Le;if(typeof M=="function")Le=function(){M(Ke)};else if(typeof MessageChannel<"u"){var mt=new MessageChannel,ot=mt.port2;mt.port1.onmessage=Ke,Le=function(){ot.postMessage(null)}}else Le=function(){Y(Ke,0)};function I(C,$){te=Y(function(){C(i.unstable_now())},$)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(C){C.callback=null},i.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_e=0<C?Math.floor(1e3/C):5},i.unstable_getCurrentPriorityLevel=function(){return N},i.unstable_next=function(C){switch(N){case 1:case 2:case 3:var $=3;break;default:$=N}var W=N;N=$;try{return C()}finally{N=W}},i.unstable_requestPaint=function(){Q=!0},i.unstable_runWithPriority=function(C,$){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var W=N;N=C;try{return $()}finally{N=W}},i.unstable_scheduleCallback=function(C,$,W){var he=i.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?he+W:he):W=he,C){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=W+Z,C={id:b++,callback:$,priorityLevel:C,startTime:W,expirationTime:Z,sortIndex:-1},W>he?(C.sortIndex=W,n(y,C),l(p)===null&&C===l(y)&&(H?(q(te),te=-1):H=!0,I(oe,W-he))):(C.sortIndex=Z,n(p,C),U||A||(U=!0,re||(re=!0,Le()))),C},i.unstable_shouldYield=je,i.unstable_wrapCallback=function(C){var $=N;return function(){var W=N;N=$;try{return C.apply(this,arguments)}finally{N=W}}}})(Cc)),Cc}var Hm;function up(){return Hm||(Hm=1,Ac.exports=op()),Ac.exports}var Oc={exports:{}},qt={};var $m;function cp(){if($m)return qt;$m=1;var i=Fc();function n(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(p,y,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:S==null?null:""+S,children:p,containerInfo:y,implementation:b}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,qt.createPortal=function(p,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return d(p,y,null,b)},qt.flushSync=function(p){var y=f.T,b=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=y,r.p=b,r.d.f()}},qt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},qt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},qt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var b=y.as,S=g(b,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,A=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:N,fetchPriority:A}):b==="script"&&r.d.X(p,{crossOrigin:S,integrity:N,fetchPriority:A,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},qt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},qt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,S=g(b,y.crossOrigin);r.d.L(p,b,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},qt.preloadModule=function(p,y){if(typeof p=="string")if(y){var b=g(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},qt.requestFormReset=function(p){r.d.r(p)},qt.unstable_batchedUpdates=function(p,y){return p(y)},qt.useFormState=function(p,y,b){return f.H.useFormState(p,y,b)},qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},qt.version="19.2.3",qt}var Gm;function dp(){if(Gm)return Oc.exports;Gm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Oc.exports=cp(),Oc.exports}var Vm;function hp(){if(Vm)return Tl;Vm=1;var i=up(),n=Fc(),l=dp();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(r(188))}function y(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,s=t;;){var o=a.return;if(o===null)break;var u=o.alternate;if(u===null){if(s=o.return,s!==null){a=s;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===a)return p(o),e;if(u===s)return p(o),t;u=u.sibling}throw Error(r(188))}if(a.return!==s.return)a=o,s=u;else{for(var m=!1,v=o.child;v;){if(v===a){m=!0,a=o,s=u;break}if(v===s){m=!0,s=o,a=u;break}v=v.sibling}if(!m){for(v=u.child;v;){if(v===a){m=!0,a=u,s=o;break}if(v===s){m=!0,s=u,a=o;break}v=v.sibling}if(!m)throw Error(r(189))}}if(a.alternate!==s)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,N=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),M=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),je=Symbol.for("react.memo_cache_sentinel"),Ke=Symbol.iterator;function Le(e){return e===null||typeof e!="object"?null:(e=Ke&&e[Ke]||e["@@iterator"],typeof e=="function"?e:null)}var mt=Symbol.for("react.client.reference");function ot(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===mt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case Y:return"Profiler";case Q:return"StrictMode";case oe:return"Suspense";case re:return"SuspenseList";case V:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case M:return e.displayName||"Context";case q:return(e._context.displayName||"Context")+".Consumer";case P:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case te:return t=e.displayName||null,t!==null?t:ot(e.type)||"Memo";case _e:t=e._payload,e=e._init;try{return ot(e(t))}catch{}}return null}var I=Array.isArray,C=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},he=[],Z=-1;function _(e){return{current:e}}function z(e){0>Z||(e.current=he[Z],he[Z]=null,Z--)}function X(e,t){Z++,he[Z]=e.current,e.current=t}var ae=_(null),ge=_(null),be=_(null),le=_(null);function ue(e,t){switch(X(be,t),X(ge,e),X(ae,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=sm(t),e=im(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(ae),X(ae,e)}function ze(){z(ae),z(ge),z(be)}function fa(e){e.memoizedState!==null&&X(le,e);var t=ae.current,a=im(t,e.type);t!==a&&(X(ge,e),X(ae,a))}function zt(e){ge.current===e&&(z(ae),z(ge)),le.current===e&&(z(le),bl._currentValue=W)}var ma,ga;function Aa(e){if(ma===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ma=t&&t[1]||"",ga=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ma+e+ga}var Ca=!1;function ls(e,t){if(!e||Ca)return"";Ca=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(B){var D=B}Reflect.construct(e,[],J)}else{try{J.call()}catch(B){D=B}e.call(J.prototype)}}else{try{throw Error()}catch(B){D=B}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(B){if(B&&D&&typeof B.stack=="string")return[B.stack,D.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),m=u[0],v=u[1];if(m&&v){var w=m.split(`
`),R=v.split(`
`);for(o=s=0;s<w.length&&!w[s].includes("DetermineComponentFrameRoot");)s++;for(;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;if(s===w.length||o===R.length)for(s=w.length-1,o=R.length-1;1<=s&&0<=o&&w[s]!==R[o];)o--;for(;1<=s&&0<=o;s--,o--)if(w[s]!==R[o]){if(s!==1||o!==1)do if(s--,o--,0>o||w[s]!==R[o]){var G=`
`+w[s].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=s&&0<=o);break}}}finally{Ca=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Aa(a):""}function Oa(e,t){switch(e.tag){case 26:case 27:case 5:return Aa(e.type);case 16:return Aa("Lazy");case 13:return e.child!==t&&t!==null?Aa("Suspense Fallback"):Aa("Suspense");case 19:return Aa("SuspenseList");case 0:case 15:return ls(e.type,!1);case 11:return ls(e.type.render,!1);case 1:return ls(e.type,!0);case 31:return Aa("Activity");default:return""}}function Ka(e){try{var t="",a=null;do t+=Oa(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Yt=Object.prototype.hasOwnProperty,ya=i.unstable_scheduleCallback,Ms=i.unstable_cancelCallback,Vl=i.unstable_shouldYield,En=i.unstable_requestPaint,_t=i.unstable_now,tt=i.unstable_getCurrentPriorityLevel,jn=i.unstable_ImmediatePriority,We=i.unstable_UserBlockingPriority,Qa=i.unstable_NormalPriority,ka=i.unstable_LowPriority,Nn=i.unstable_IdlePriority,Ra=i.log,rs=i.unstable_setDisableYieldValue,At=null,at=null;function gt(e){if(typeof Ra=="function"&&rs(e),at&&typeof at.setStrictMode=="function")try{at.setStrictMode(At,e)}catch{}}var nt=Math.clz32?Math.clz32:Ua,zs=Math.log,pa=Math.LN2;function Ua(e){return e>>>=0,e===0?32:31-(zs(e)/pa|0)|0}var Kt=256,Da=262144,tn=4194304;function Bt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ja(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var o=0,u=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var v=s&134217727;return v!==0?(s=v&~u,s!==0?o=Bt(s):(m&=v,m!==0?o=Bt(m):a||(a=v&~e,a!==0&&(o=Bt(a))))):(v=s&~u,v!==0?o=Bt(v):m!==0?o=Bt(m):a||(a=s&~e,a!==0&&(o=Bt(a)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:o}function va(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function an(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nn(){var e=tn;return tn<<=1,(tn&62914560)===0&&(tn=4194304),e}function Ma(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Xa(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Bs(e,t,a,s,o,u){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,w=e.expirationTimes,R=e.hiddenUpdates;for(a=m&~a;0<a;){var G=31-nt(a),J=1<<G;v[G]=0,w[G]=-1;var D=R[G];if(D!==null)for(R[G]=null,G=0;G<D.length;G++){var B=D[G];B!==null&&(B.lane&=-536870913)}a&=~J}s!==0&&os(e,s,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(m&~t))}function os(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-nt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function us(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-nt(a),o=1<<s;o&t|e[s]&t&&(e[s]|=t),a&=~o}}function Ia(e,t){var a=t&-t;return a=(a&42)!==0?1:sn(a),(a&(e.suspendedLanes|t))!==0?0:a}function sn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ht(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function An(){var e=$.p;return e!==0?e:(e=window.event,e===void 0?32:Am(e.type))}function Ls(e,t){var a=$.p;try{return $.p=e,t()}finally{$.p=a}}var za=Math.random().toString(36).slice(2),ut="__reactFiber$"+za,Ct="__reactProps$"+za,wt="__reactContainer$"+za,ea="__reactEvents$"+za,To="__reactListeners$"+za,Eo="__reactHandles$"+za,Yl="__reactResources$"+za,Xe="__reactMarker$"+za;function Ba(e){delete e[ut],delete e[Ct],delete e[ea],delete e[To],delete e[Eo]}function ct(e){var t=e[ut];if(t)return t;for(var a=e.parentNode;a;){if(t=a[wt]||a[ut]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=hm(e);e!==null;){if(a=e[ut])return a;e=hm(e)}return t}e=a,a=e.parentNode}return null}function $t(e){if(e=e[ut]||e[wt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Qt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Za(e){var t=e[Yl];return t||(t=e[Yl]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function dt(e){e[Xe]=!0}var Ui=new Set,Cn={};function ta(e,t){On(e,t),On(e+"Capture",t)}function On(e,t){for(Cn[e]=t,e=0;e<t.length;e++)Ui.add(t[e])}var jo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kl={},Di={};function Ql(e){return Yt.call(Di,e)?!0:Yt.call(Kl,e)?!1:jo.test(e)?Di[e]=!0:(Kl[e]=!0,!1)}function qs(e,t,a){if(Ql(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Hs(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Lt(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function st(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cs(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ln(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){a=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Mi(e){if(!e._valueTracker){var t=cs(e)?"checked":"value";e._valueTracker=ln(e,t,""+e[t])}}function Jl(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=cs(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function ds(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Xl=/[\n"\\]/g;function Gt(e){return e.replace(Xl,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function zi(e,t,a,s,o,u,m,v){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+st(t)):e.value!==""+st(t)&&(e.value=""+st(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Bi(e,m,st(t)):a!=null?Bi(e,m,st(a)):s!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+st(v):e.removeAttribute("name")}function Il(e,t,a,s,o,u,m,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Mi(e);return}a=a!=null?""+st(a):"",t=t!=null?""+st(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}s=s??o,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=v?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Mi(e)}function Bi(e,t,a){t==="number"&&ds(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function kn(e,t,a,s){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&s&&(e[a].defaultSelected=!0)}else{for(a=""+st(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Zl(e,t,a){if(t!=null&&(t=""+st(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+st(a):""}function Pl(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(r(92));if(I(s)){if(1<s.length)throw Error(r(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=st(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),Mi(e)}function ba(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var hs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rn(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||hs.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Un(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var o in t)s=t[o],t.hasOwnProperty(o)&&a[o]!==s&&Rn(e,o,s)}else for(var u in t)t.hasOwnProperty(u)&&Rn(e,u,t[u])}function rn(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),x=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function E(e){return x.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function L(){}var F=null;function ee(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ie=null,ne=null;function Ce(e){var t=$t(e);if(t&&(e=t.stateNode)){var a=e[Ct]||null;e:switch(e=t.stateNode,t.type){case"input":if(zi(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Gt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var o=s[Ct]||null;if(!o)throw Error(r(90));zi(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Jl(s)}break e;case"textarea":Zl(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&kn(e,!!a.multiple,t,!1)}}}var St=!1;function ke(e,t,a){if(St)return e(t,a);St=!0;try{var s=e(t);return s}finally{if(St=!1,(ie!==null||ne!==null)&&(zr(),ie&&(t=ie,e=ne,ne=ie=null,Ce(t),e)))for(t=0;t<e.length;t++)Ce(e[t])}}function De(e,t){var a=e.stateNode;if(a===null)return null;var s=a[Ct]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var Fe=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aa=!1;if(Fe)try{var na={};Object.defineProperty(na,"passive",{get:function(){aa=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{aa=!1}var se=null,$e=null,Tt=null;function Jt(){if(Tt)return Tt;var e,t=$e,a=t.length,s,o="value"in se?se.value:se.textContent,u=o.length;for(e=0;e<a&&t[e]===o[e];e++);var m=a-e;for(s=1;s<=m&&t[a-s]===o[u-s];s++);return Tt=o.slice(e,1<s?1-s:void 0)}function Dn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mn(){return!0}function id(){return!1}function Xt(e){function t(a,s,o,u,m){this._reactName=a,this._targetInst=o,this.type=s,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Mn:id,this.isPropagationStopped=id,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Mn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Mn)},persist:function(){},isPersistent:Mn}),t}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fl=Xt(fs),Li=S({},fs,{view:0,detail:0}),ng=Xt(Li),No,Ao,qi,er=S({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qi&&(qi&&e.type==="mousemove"?(No=e.screenX-qi.screenX,Ao=e.screenY-qi.screenY):Ao=No=0,qi=e),No)},movementY:function(e){return"movementY"in e?e.movementY:Ao}}),ld=Xt(er),sg=S({},er,{dataTransfer:0}),ig=Xt(sg),lg=S({},Li,{relatedTarget:0}),Co=Xt(lg),rg=S({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),og=Xt(rg),ug=S({},fs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cg=Xt(ug),dg=S({},fs,{data:0}),rd=Xt(dg),hg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mg[e])?!!t[e]:!1}function Oo(){return gg}var yg=S({},Li,{key:function(e){if(e.key){var t=hg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oo,charCode:function(e){return e.type==="keypress"?Dn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pg=Xt(yg),vg=S({},er,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),od=Xt(vg),bg=S({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oo}),xg=Xt(bg),_g=S({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),wg=Xt(_g),Sg=S({},er,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tg=Xt(Sg),Eg=S({},fs,{newState:0,oldState:0}),jg=Xt(Eg),Ng=[9,13,27,32],ko=Fe&&"CompositionEvent"in window,Hi=null;Fe&&"documentMode"in document&&(Hi=document.documentMode);var Ag=Fe&&"TextEvent"in window&&!Hi,ud=Fe&&(!ko||Hi&&8<Hi&&11>=Hi),cd=" ",dd=!1;function hd(e,t){switch(e){case"keyup":return Ng.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $s=!1;function Cg(e,t){switch(e){case"compositionend":return fd(t);case"keypress":return t.which!==32?null:(dd=!0,cd);case"textInput":return e=t.data,e===cd&&dd?null:e;default:return null}}function Og(e,t){if($s)return e==="compositionend"||!ko&&hd(e,t)?(e=Jt(),Tt=$e=se=null,$s=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ud&&t.locale!=="ko"?null:t.data;default:return null}}var kg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function md(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kg[e.type]:t==="textarea"}function gd(e,t,a,s){ie?ne?ne.push(s):ne=[s]:ie=s,t=Vr(t,"onChange"),0<t.length&&(a=new Fl("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var $i=null,Gi=null;function Rg(e){Wf(e,0)}function tr(e){var t=Qt(e);if(Jl(t))return e}function yd(e,t){if(e==="change")return t}var pd=!1;if(Fe){var Ro;if(Fe){var Uo="oninput"in document;if(!Uo){var vd=document.createElement("div");vd.setAttribute("oninput","return;"),Uo=typeof vd.oninput=="function"}Ro=Uo}else Ro=!1;pd=Ro&&(!document.documentMode||9<document.documentMode)}function bd(){$i&&($i.detachEvent("onpropertychange",xd),Gi=$i=null)}function xd(e){if(e.propertyName==="value"&&tr(Gi)){var t=[];gd(t,Gi,e,ee(e)),ke(Rg,t)}}function Ug(e,t,a){e==="focusin"?(bd(),$i=t,Gi=a,$i.attachEvent("onpropertychange",xd)):e==="focusout"&&bd()}function Dg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tr(Gi)}function Mg(e,t){if(e==="click")return tr(t)}function zg(e,t){if(e==="input"||e==="change")return tr(t)}function Bg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sa=typeof Object.is=="function"?Object.is:Bg;function Vi(e,t){if(sa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var o=a[s];if(!Yt.call(t,o)||!sa(e[o],t[o]))return!1}return!0}function _d(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wd(e,t){var a=_d(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_d(a)}}function Sd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Sd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Td(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ds(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=ds(e.document)}return t}function Do(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Lg=Fe&&"documentMode"in document&&11>=document.documentMode,Gs=null,Mo=null,Yi=null,zo=!1;function Ed(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zo||Gs==null||Gs!==ds(s)||(s=Gs,"selectionStart"in s&&Do(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Yi&&Vi(Yi,s)||(Yi=s,s=Vr(Mo,"onSelect"),0<s.length&&(t=new Fl("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Gs)))}function ms(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Vs={animationend:ms("Animation","AnimationEnd"),animationiteration:ms("Animation","AnimationIteration"),animationstart:ms("Animation","AnimationStart"),transitionrun:ms("Transition","TransitionRun"),transitionstart:ms("Transition","TransitionStart"),transitioncancel:ms("Transition","TransitionCancel"),transitionend:ms("Transition","TransitionEnd")},Bo={},jd={};Fe&&(jd=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function gs(e){if(Bo[e])return Bo[e];if(!Vs[e])return e;var t=Vs[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in jd)return Bo[e]=t[a];return e}var Nd=gs("animationend"),Ad=gs("animationiteration"),Cd=gs("animationstart"),qg=gs("transitionrun"),Hg=gs("transitionstart"),$g=gs("transitioncancel"),Od=gs("transitionend"),kd=new Map,Lo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lo.push("scrollEnd");function La(e,t){kd.set(e,t),ta(t,[e])}var ar=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xa=[],Ys=0,qo=0;function nr(){for(var e=Ys,t=qo=Ys=0;t<e;){var a=xa[t];xa[t++]=null;var s=xa[t];xa[t++]=null;var o=xa[t];xa[t++]=null;var u=xa[t];if(xa[t++]=null,s!==null&&o!==null){var m=s.pending;m===null?o.next=o:(o.next=m.next,m.next=o),s.pending=o}u!==0&&Rd(a,o,u)}}function sr(e,t,a,s){xa[Ys++]=e,xa[Ys++]=t,xa[Ys++]=a,xa[Ys++]=s,qo|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Ho(e,t,a,s){return sr(e,t,a,s),ir(e)}function ys(e,t){return sr(e,null,null,t),ir(e)}function Rd(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var o=!1,u=e.return;u!==null;)u.childLanes|=a,s=u.alternate,s!==null&&(s.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-nt(a),e=u.hiddenUpdates,s=e[o],s===null?e[o]=[t]:s.push(t),t.lane=a|536870912),u):null}function ir(e){if(50<hl)throw hl=0,Iu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ks={};function Gg(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ia(e,t,a,s){return new Gg(e,t,a,s)}function $o(e){return e=e.prototype,!(!e||!e.isReactComponent)}function on(e,t){var a=e.alternate;return a===null?(a=ia(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ud(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function lr(e,t,a,s,o,u){var m=0;if(s=e,typeof e=="function")$o(e)&&(m=1);else if(typeof e=="string")m=Jy(e,a,ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case V:return e=ia(31,a,t,o),e.elementType=V,e.lanes=u,e;case H:return ps(a.children,o,u,t);case Q:m=8,o|=24;break;case Y:return e=ia(12,a,t,o|2),e.elementType=Y,e.lanes=u,e;case oe:return e=ia(13,a,t,o),e.elementType=oe,e.lanes=u,e;case re:return e=ia(19,a,t,o),e.elementType=re,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:m=10;break e;case q:m=9;break e;case P:m=11;break e;case te:m=14;break e;case _e:m=16,s=null;break e}m=29,a=Error(r(130,e===null?"null":typeof e,"")),s=null}return t=ia(m,a,t,o),t.elementType=e,t.type=s,t.lanes=u,t}function ps(e,t,a,s){return e=ia(7,e,s,t),e.lanes=a,e}function Go(e,t,a){return e=ia(6,e,null,t),e.lanes=a,e}function Dd(e){var t=ia(18,null,null,0);return t.stateNode=e,t}function Vo(e,t,a){return t=ia(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Md=new WeakMap;function _a(e,t){if(typeof e=="object"&&e!==null){var a=Md.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Ka(t)},Md.set(e,t),t)}return{value:e,source:t,stack:Ka(t)}}var Qs=[],Js=0,rr=null,Ki=0,wa=[],Sa=0,zn=null,Pa=1,Wa="";function un(e,t){Qs[Js++]=Ki,Qs[Js++]=rr,rr=e,Ki=t}function zd(e,t,a){wa[Sa++]=Pa,wa[Sa++]=Wa,wa[Sa++]=zn,zn=e;var s=Pa;e=Wa;var o=32-nt(s)-1;s&=~(1<<o),a+=1;var u=32-nt(t)+o;if(30<u){var m=o-o%5;u=(s&(1<<m)-1).toString(32),s>>=m,o-=m,Pa=1<<32-nt(t)+o|a<<o|s,Wa=u+e}else Pa=1<<u|a<<o|s,Wa=e}function Yo(e){e.return!==null&&(un(e,1),zd(e,1,0))}function Ko(e){for(;e===rr;)rr=Qs[--Js],Qs[Js]=null,Ki=Qs[--Js],Qs[Js]=null;for(;e===zn;)zn=wa[--Sa],wa[Sa]=null,Wa=wa[--Sa],wa[Sa]=null,Pa=wa[--Sa],wa[Sa]=null}function Bd(e,t){wa[Sa++]=Pa,wa[Sa++]=Wa,wa[Sa++]=zn,Pa=t.id,Wa=t.overflow,zn=e}var Ot=null,Ze=null,Oe=!1,Bn=null,Ta=!1,Qo=Error(r(519));function Ln(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qi(_a(t,e)),Qo}function Ld(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[ut]=e,t[Ct]=s,a){case"dialog":Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":case"embed":Ee("load",t);break;case"video":case"audio":for(a=0;a<ml.length;a++)Ee(ml[a],t);break;case"source":Ee("error",t);break;case"img":case"image":case"link":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"input":Ee("invalid",t),Il(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ee("invalid",t);break;case"textarea":Ee("invalid",t),Pl(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||am(t.textContent,a)?(s.popover!=null&&(Ee("beforetoggle",t),Ee("toggle",t)),s.onScroll!=null&&Ee("scroll",t),s.onScrollEnd!=null&&Ee("scrollend",t),s.onClick!=null&&(t.onclick=L),t=!0):t=!1,t||Ln(e,!0)}function qd(e){for(Ot=e.return;Ot;)switch(Ot.tag){case 5:case 31:case 13:Ta=!1;return;case 27:case 3:Ta=!0;return;default:Ot=Ot.return}}function Xs(e){if(e!==Ot)return!1;if(!Oe)return qd(e),Oe=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||cc(e.type,e.memoizedProps)),a=!a),a&&Ze&&Ln(e),qd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ze=dm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ze=dm(e)}else t===27?(t=Ze,Wn(e.type)?(e=gc,gc=null,Ze=e):Ze=t):Ze=Ot?ja(e.stateNode.nextSibling):null;return!0}function vs(){Ze=Ot=null,Oe=!1}function Jo(){var e=Bn;return e!==null&&(Wt===null?Wt=e:Wt.push.apply(Wt,e),Bn=null),e}function Qi(e){Bn===null?Bn=[e]:Bn.push(e)}var Xo=_(null),bs=null,cn=null;function qn(e,t,a){X(Xo,t._currentValue),t._currentValue=a}function dn(e){e._currentValue=Xo.current,z(Xo)}function Io(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Zo(e,t,a,s){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var m=o.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=o;for(var w=0;w<t.length;w++)if(v.context===t[w]){u.lanes|=a,v=u.alternate,v!==null&&(v.lanes|=a),Io(u.return,a,e),s||(m=null);break e}u=v.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(r(341));m.lanes|=a,u=m.alternate,u!==null&&(u.lanes|=a),Io(m,a,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function Is(e,t,a,s){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var v=o.type;sa(o.pendingProps.value,m.value)||(e!==null?e.push(v):e=[v])}}else if(o===le.current){if(m=o.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(bl):e=[bl])}o=o.return}e!==null&&Zo(t,e,a,s),t.flags|=262144}function or(e){for(e=e.firstContext;e!==null;){if(!sa(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xs(e){bs=e,cn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function kt(e){return Hd(bs,e)}function ur(e,t){return bs===null&&xs(e),Hd(e,t)}function Hd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},cn===null){if(e===null)throw Error(r(308));cn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else cn=cn.next=t;return a}var Vg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Yg=i.unstable_scheduleCallback,Kg=i.unstable_NormalPriority,yt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Po(){return{controller:new Vg,data:new Map,refCount:0}}function Ji(e){e.refCount--,e.refCount===0&&Yg(Kg,function(){e.controller.abort()})}var Xi=null,Wo=0,Zs=0,Ps=null;function Qg(e,t){if(Xi===null){var a=Xi=[];Wo=0,Zs=tc(),Ps={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Wo++,t.then($d,$d),t}function $d(){if(--Wo===0&&Xi!==null){Ps!==null&&(Ps.status="fulfilled");var e=Xi;Xi=null,Zs=0,Ps=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Jg(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(s.status="rejected",s.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),s}var Gd=C.S;C.S=function(e,t){jf=_t(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Qg(e,t),Gd!==null&&Gd(e,t)};var _s=_(null);function Fo(){var e=_s.current;return e!==null?e:Qe.pooledCache}function cr(e,t){t===null?X(_s,_s.current):X(_s,t.pool)}function Vd(){var e=Fo();return e===null?null:{parent:yt._currentValue,pool:e}}var Ws=Error(r(460)),eu=Error(r(474)),dr=Error(r(542)),hr={then:function(){}};function Yd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Kd(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(L,L),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Jd(e),e;default:if(typeof t.status=="string")t.then(L,L);else{if(e=Qe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=s}},function(s){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Jd(e),e}throw Ss=t,Ws}}function ws(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ss=a,Ws):a}}var Ss=null;function Qd(){if(Ss===null)throw Error(r(459));var e=Ss;return Ss=null,e}function Jd(e){if(e===Ws||e===dr)throw Error(r(483))}var Fs=null,Ii=0;function fr(e){var t=Ii;return Ii+=1,Fs===null&&(Fs=[]),Kd(Fs,e,t)}function Zi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function mr(e,t){throw t.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Xd(e){function t(O,T){if(e){var k=O.deletions;k===null?(O.deletions=[T],O.flags|=16):k.push(T)}}function a(O,T){if(!e)return null;for(;T!==null;)t(O,T),T=T.sibling;return null}function s(O){for(var T=new Map;O!==null;)O.key!==null?T.set(O.key,O):T.set(O.index,O),O=O.sibling;return T}function o(O,T){return O=on(O,T),O.index=0,O.sibling=null,O}function u(O,T,k){return O.index=k,e?(k=O.alternate,k!==null?(k=k.index,k<T?(O.flags|=67108866,T):k):(O.flags|=67108866,T)):(O.flags|=1048576,T)}function m(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function v(O,T,k,K){return T===null||T.tag!==6?(T=Go(k,O.mode,K),T.return=O,T):(T=o(T,k),T.return=O,T)}function w(O,T,k,K){var me=k.type;return me===H?G(O,T,k.props.children,K,k.key):T!==null&&(T.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===_e&&ws(me)===T.type)?(T=o(T,k.props),Zi(T,k),T.return=O,T):(T=lr(k.type,k.key,k.props,null,O.mode,K),Zi(T,k),T.return=O,T)}function R(O,T,k,K){return T===null||T.tag!==4||T.stateNode.containerInfo!==k.containerInfo||T.stateNode.implementation!==k.implementation?(T=Vo(k,O.mode,K),T.return=O,T):(T=o(T,k.children||[]),T.return=O,T)}function G(O,T,k,K,me){return T===null||T.tag!==7?(T=ps(k,O.mode,K,me),T.return=O,T):(T=o(T,k),T.return=O,T)}function J(O,T,k){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Go(""+T,O.mode,k),T.return=O,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case A:return k=lr(T.type,T.key,T.props,null,O.mode,k),Zi(k,T),k.return=O,k;case U:return T=Vo(T,O.mode,k),T.return=O,T;case _e:return T=ws(T),J(O,T,k)}if(I(T)||Le(T))return T=ps(T,O.mode,k,null),T.return=O,T;if(typeof T.then=="function")return J(O,fr(T),k);if(T.$$typeof===M)return J(O,ur(O,T),k);mr(O,T)}return null}function D(O,T,k,K){var me=T!==null?T.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return me!==null?null:v(O,T,""+k,K);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case A:return k.key===me?w(O,T,k,K):null;case U:return k.key===me?R(O,T,k,K):null;case _e:return k=ws(k),D(O,T,k,K)}if(I(k)||Le(k))return me!==null?null:G(O,T,k,K,null);if(typeof k.then=="function")return D(O,T,fr(k),K);if(k.$$typeof===M)return D(O,T,ur(O,k),K);mr(O,k)}return null}function B(O,T,k,K,me){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return O=O.get(k)||null,v(T,O,""+K,me);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case A:return O=O.get(K.key===null?k:K.key)||null,w(T,O,K,me);case U:return O=O.get(K.key===null?k:K.key)||null,R(T,O,K,me);case _e:return K=ws(K),B(O,T,k,K,me)}if(I(K)||Le(K))return O=O.get(k)||null,G(T,O,K,me,null);if(typeof K.then=="function")return B(O,T,k,fr(K),me);if(K.$$typeof===M)return B(O,T,k,ur(T,K),me);mr(T,K)}return null}function ce(O,T,k,K){for(var me=null,Re=null,de=T,Se=T=0,Ae=null;de!==null&&Se<k.length;Se++){de.index>Se?(Ae=de,de=null):Ae=de.sibling;var Ue=D(O,de,k[Se],K);if(Ue===null){de===null&&(de=Ae);break}e&&de&&Ue.alternate===null&&t(O,de),T=u(Ue,T,Se),Re===null?me=Ue:Re.sibling=Ue,Re=Ue,de=Ae}if(Se===k.length)return a(O,de),Oe&&un(O,Se),me;if(de===null){for(;Se<k.length;Se++)de=J(O,k[Se],K),de!==null&&(T=u(de,T,Se),Re===null?me=de:Re.sibling=de,Re=de);return Oe&&un(O,Se),me}for(de=s(de);Se<k.length;Se++)Ae=B(de,O,Se,k[Se],K),Ae!==null&&(e&&Ae.alternate!==null&&de.delete(Ae.key===null?Se:Ae.key),T=u(Ae,T,Se),Re===null?me=Ae:Re.sibling=Ae,Re=Ae);return e&&de.forEach(function(ns){return t(O,ns)}),Oe&&un(O,Se),me}function ye(O,T,k,K){if(k==null)throw Error(r(151));for(var me=null,Re=null,de=T,Se=T=0,Ae=null,Ue=k.next();de!==null&&!Ue.done;Se++,Ue=k.next()){de.index>Se?(Ae=de,de=null):Ae=de.sibling;var ns=D(O,de,Ue.value,K);if(ns===null){de===null&&(de=Ae);break}e&&de&&ns.alternate===null&&t(O,de),T=u(ns,T,Se),Re===null?me=ns:Re.sibling=ns,Re=ns,de=Ae}if(Ue.done)return a(O,de),Oe&&un(O,Se),me;if(de===null){for(;!Ue.done;Se++,Ue=k.next())Ue=J(O,Ue.value,K),Ue!==null&&(T=u(Ue,T,Se),Re===null?me=Ue:Re.sibling=Ue,Re=Ue);return Oe&&un(O,Se),me}for(de=s(de);!Ue.done;Se++,Ue=k.next())Ue=B(de,O,Se,Ue.value,K),Ue!==null&&(e&&Ue.alternate!==null&&de.delete(Ue.key===null?Se:Ue.key),T=u(Ue,T,Se),Re===null?me=Ue:Re.sibling=Ue,Re=Ue);return e&&de.forEach(function(sp){return t(O,sp)}),Oe&&un(O,Se),me}function Ye(O,T,k,K){if(typeof k=="object"&&k!==null&&k.type===H&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case A:e:{for(var me=k.key;T!==null;){if(T.key===me){if(me=k.type,me===H){if(T.tag===7){a(O,T.sibling),K=o(T,k.props.children),K.return=O,O=K;break e}}else if(T.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===_e&&ws(me)===T.type){a(O,T.sibling),K=o(T,k.props),Zi(K,k),K.return=O,O=K;break e}a(O,T);break}else t(O,T);T=T.sibling}k.type===H?(K=ps(k.props.children,O.mode,K,k.key),K.return=O,O=K):(K=lr(k.type,k.key,k.props,null,O.mode,K),Zi(K,k),K.return=O,O=K)}return m(O);case U:e:{for(me=k.key;T!==null;){if(T.key===me)if(T.tag===4&&T.stateNode.containerInfo===k.containerInfo&&T.stateNode.implementation===k.implementation){a(O,T.sibling),K=o(T,k.children||[]),K.return=O,O=K;break e}else{a(O,T);break}else t(O,T);T=T.sibling}K=Vo(k,O.mode,K),K.return=O,O=K}return m(O);case _e:return k=ws(k),Ye(O,T,k,K)}if(I(k))return ce(O,T,k,K);if(Le(k)){if(me=Le(k),typeof me!="function")throw Error(r(150));return k=me.call(k),ye(O,T,k,K)}if(typeof k.then=="function")return Ye(O,T,fr(k),K);if(k.$$typeof===M)return Ye(O,T,ur(O,k),K);mr(O,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,T!==null&&T.tag===6?(a(O,T.sibling),K=o(T,k),K.return=O,O=K):(a(O,T),K=Go(k,O.mode,K),K.return=O,O=K),m(O)):a(O,T)}return function(O,T,k,K){try{Ii=0;var me=Ye(O,T,k,K);return Fs=null,me}catch(de){if(de===Ws||de===dr)throw de;var Re=ia(29,de,null,O.mode);return Re.lanes=K,Re.return=O,Re}}}var Ts=Xd(!0),Id=Xd(!1),Hn=!1;function tu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function au(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function $n(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gn(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Me&2)!==0){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,t=ir(e),Rd(e,null,a),t}return sr(e,s,t,a),ir(e)}function Pi(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,us(e,a)}}function nu(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var o=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?o=u=m:u=u.next=m,a=a.next}while(a!==null);u===null?o=u=t:u=u.next=t}else o=u=t;a={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var su=!1;function Wi(){if(su){var e=Ps;if(e!==null)throw e}}function Fi(e,t,a,s){su=!1;var o=e.updateQueue;Hn=!1;var u=o.firstBaseUpdate,m=o.lastBaseUpdate,v=o.shared.pending;if(v!==null){o.shared.pending=null;var w=v,R=w.next;w.next=null,m===null?u=R:m.next=R,m=w;var G=e.alternate;G!==null&&(G=G.updateQueue,v=G.lastBaseUpdate,v!==m&&(v===null?G.firstBaseUpdate=R:v.next=R,G.lastBaseUpdate=w))}if(u!==null){var J=o.baseState;m=0,G=R=w=null,v=u;do{var D=v.lane&-536870913,B=D!==v.lane;if(B?(Ne&D)===D:(s&D)===D){D!==0&&D===Zs&&(su=!0),G!==null&&(G=G.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ce=e,ye=v;D=t;var Ye=a;switch(ye.tag){case 1:if(ce=ye.payload,typeof ce=="function"){J=ce.call(Ye,J,D);break e}J=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ye.payload,D=typeof ce=="function"?ce.call(Ye,J,D):ce,D==null)break e;J=S({},J,D);break e;case 2:Hn=!0}}D=v.callback,D!==null&&(e.flags|=64,B&&(e.flags|=8192),B=o.callbacks,B===null?o.callbacks=[D]:B.push(D))}else B={lane:D,tag:v.tag,payload:v.payload,callback:v.callback,next:null},G===null?(R=G=B,w=J):G=G.next=B,m|=D;if(v=v.next,v===null){if(v=o.shared.pending,v===null)break;B=v,v=B.next,B.next=null,o.lastBaseUpdate=B,o.shared.pending=null}}while(!0);G===null&&(w=J),o.baseState=w,o.firstBaseUpdate=R,o.lastBaseUpdate=G,u===null&&(o.shared.lanes=0),Jn|=m,e.lanes=m,e.memoizedState=J}}function Zd(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Pd(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Zd(a[e],t)}var ei=_(null),gr=_(0);function Wd(e,t){e=xn,X(gr,e),X(ei,t),xn=e|t.baseLanes}function iu(){X(gr,xn),X(ei,ei.current)}function lu(){xn=gr.current,z(ei),z(gr)}var la=_(null),Ea=null;function Vn(e){var t=e.alternate;X(ht,ht.current&1),X(la,e),Ea===null&&(t===null||ei.current!==null||t.memoizedState!==null)&&(Ea=e)}function ru(e){X(ht,ht.current),X(la,e),Ea===null&&(Ea=e)}function Fd(e){e.tag===22?(X(ht,ht.current),X(la,e),Ea===null&&(Ea=e)):Yn()}function Yn(){X(ht,ht.current),X(la,la.current)}function ra(e){z(la),Ea===e&&(Ea=null),z(ht)}var ht=_(0);function yr(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||fc(a)||mc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hn=0,we=null,Ge=null,pt=null,pr=!1,ti=!1,Es=!1,vr=0,el=0,ai=null,Xg=0;function it(){throw Error(r(321))}function ou(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!sa(e[a],t[a]))return!1;return!0}function uu(e,t,a,s,o,u){return hn=u,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,C.H=e===null||e.memoizedState===null?zh:Tu,Es=!1,u=a(s,o),Es=!1,ti&&(u=th(t,a,s,o)),eh(e),u}function eh(e){C.H=nl;var t=Ge!==null&&Ge.next!==null;if(hn=0,pt=Ge=we=null,pr=!1,el=0,ai=null,t)throw Error(r(300));e===null||vt||(e=e.dependencies,e!==null&&or(e)&&(vt=!0))}function th(e,t,a,s){we=e;var o=0;do{if(ti&&(ai=null),el=0,ti=!1,25<=o)throw Error(r(301));if(o+=1,pt=Ge=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}C.H=Bh,u=t(a,s)}while(ti);return u}function Ig(){var e=C.H,t=e.useState()[0];return t=typeof t.then=="function"?tl(t):t,e=e.useState()[0],(Ge!==null?Ge.memoizedState:null)!==e&&(we.flags|=1024),t}function cu(){var e=vr!==0;return vr=0,e}function du(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function hu(e){if(pr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}pr=!1}hn=0,pt=Ge=we=null,ti=!1,el=vr=0,ai=null}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?we.memoizedState=pt=e:pt=pt.next=e,pt}function ft(){if(Ge===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Ge.next;var t=pt===null?we.memoizedState:pt.next;if(t!==null)pt=t,Ge=e;else{if(e===null)throw we.alternate===null?Error(r(467)):Error(r(310));Ge=e,e={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},pt===null?we.memoizedState=pt=e:pt=pt.next=e}return pt}function br(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(e){var t=el;return el+=1,ai===null&&(ai=[]),e=Kd(ai,e,t),t=we,(pt===null?t.memoizedState:pt.next)===null&&(t=t.alternate,C.H=t===null||t.memoizedState===null?zh:Tu),e}function xr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return tl(e);if(e.$$typeof===M)return kt(e)}throw Error(r(438,String(e)))}function fu(e){var t=null,a=we.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=we.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=br(),we.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=je;return t.index++,a}function fn(e,t){return typeof t=="function"?t(e):t}function _r(e){var t=ft();return mu(t,Ge,e)}function mu(e,t,a){var s=e.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=a;var o=e.baseQueue,u=s.pending;if(u!==null){if(o!==null){var m=o.next;o.next=u.next,u.next=m}t.baseQueue=o=u,s.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var v=m=null,w=null,R=t,G=!1;do{var J=R.lane&-536870913;if(J!==R.lane?(Ne&J)===J:(hn&J)===J){var D=R.revertLane;if(D===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),J===Zs&&(G=!0);else if((hn&D)===D){R=R.next,D===Zs&&(G=!0);continue}else J={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},w===null?(v=w=J,m=u):w=w.next=J,we.lanes|=D,Jn|=D;J=R.action,Es&&a(u,J),u=R.hasEagerState?R.eagerState:a(u,J)}else D={lane:J,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},w===null?(v=w=D,m=u):w=w.next=D,we.lanes|=J,Jn|=J;R=R.next}while(R!==null&&R!==t);if(w===null?m=u:w.next=v,!sa(u,e.memoizedState)&&(vt=!0,G&&(a=Ps,a!==null)))throw a;e.memoizedState=u,e.baseState=m,e.baseQueue=w,s.lastRenderedState=u}return o===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function gu(e){var t=ft(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var s=a.dispatch,o=a.pending,u=t.memoizedState;if(o!==null){a.pending=null;var m=o=o.next;do u=e(u,m.action),m=m.next;while(m!==o);sa(u,t.memoizedState)||(vt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,s]}function ah(e,t,a){var s=we,o=ft(),u=Oe;if(u){if(a===void 0)throw Error(r(407));a=a()}else a=t();var m=!sa((Ge||o).memoizedState,a);if(m&&(o.memoizedState=a,vt=!0),o=o.queue,vu(ih.bind(null,s,o,e),[e]),o.getSnapshot!==t||m||pt!==null&&pt.memoizedState.tag&1){if(s.flags|=2048,ni(9,{destroy:void 0},sh.bind(null,s,o,a,t),null),Qe===null)throw Error(r(349));u||(hn&127)!==0||nh(s,t,a)}return a}function nh(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=we.updateQueue,t===null?(t=br(),we.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function sh(e,t,a,s){t.value=a,t.getSnapshot=s,lh(t)&&rh(e)}function ih(e,t,a){return a(function(){lh(t)&&rh(e)})}function lh(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!sa(e,a)}catch{return!0}}function rh(e){var t=ys(e,2);t!==null&&Ft(t,e,2)}function yu(e){var t=Vt();if(typeof e=="function"){var a=e;if(e=a(),Es){gt(!0);try{a()}finally{gt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:e},t}function oh(e,t,a,s){return e.baseState=a,mu(e,Ge,typeof s=="function"?s:fn)}function Zg(e,t,a,s,o){if(Tr(e))throw Error(r(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){u.listeners.push(m)}};C.T!==null?a(!0):u.isTransition=!1,s(u),a=t.pending,a===null?(u.next=t.pending=u,uh(t,u)):(u.next=a.next,t.pending=a.next=u)}}function uh(e,t){var a=t.action,s=t.payload,o=e.state;if(t.isTransition){var u=C.T,m={};C.T=m;try{var v=a(o,s),w=C.S;w!==null&&w(m,v),ch(e,t,v)}catch(R){pu(e,t,R)}finally{u!==null&&m.types!==null&&(u.types=m.types),C.T=u}}else try{u=a(o,s),ch(e,t,u)}catch(R){pu(e,t,R)}}function ch(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){dh(e,t,s)},function(s){return pu(e,t,s)}):dh(e,t,a)}function dh(e,t,a){t.status="fulfilled",t.value=a,hh(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,uh(e,a)))}function pu(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,hh(t),t=t.next;while(t!==s)}e.action=null}function hh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function fh(e,t){return t}function mh(e,t){if(Oe){var a=Qe.formState;if(a!==null){e:{var s=we;if(Oe){if(Ze){t:{for(var o=Ze,u=Ta;o.nodeType!==8;){if(!u){o=null;break t}if(o=ja(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){Ze=ja(o.nextSibling),s=o.data==="F!";break e}}Ln(s)}s=!1}s&&(t=a[0])}}return a=Vt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fh,lastRenderedState:t},a.queue=s,a=Uh.bind(null,we,s),s.dispatch=a,s=yu(!1),u=Su.bind(null,we,!1,s.queue),s=Vt(),o={state:t,dispatch:null,action:e,pending:null},s.queue=o,a=Zg.bind(null,we,o,u,a),o.dispatch=a,s.memoizedState=e,[t,a,!1]}function gh(e){var t=ft();return yh(t,Ge,e)}function yh(e,t,a){if(t=mu(e,t,fh)[0],e=_r(fn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=tl(t)}catch(m){throw m===Ws?dr:m}else s=t;t=ft();var o=t.queue,u=o.dispatch;return a!==t.memoizedState&&(we.flags|=2048,ni(9,{destroy:void 0},Pg.bind(null,o,a),null)),[s,u,e]}function Pg(e,t){e.action=t}function ph(e){var t=ft(),a=Ge;if(a!==null)return yh(t,a,e);ft(),t=t.memoizedState,a=ft();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function ni(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=we.updateQueue,t===null&&(t=br(),we.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function vh(){return ft().memoizedState}function wr(e,t,a,s){var o=Vt();we.flags|=e,o.memoizedState=ni(1|t,{destroy:void 0},a,s===void 0?null:s)}function Sr(e,t,a,s){var o=ft();s=s===void 0?null:s;var u=o.memoizedState.inst;Ge!==null&&s!==null&&ou(s,Ge.memoizedState.deps)?o.memoizedState=ni(t,u,a,s):(we.flags|=e,o.memoizedState=ni(1|t,u,a,s))}function bh(e,t){wr(8390656,8,e,t)}function vu(e,t){Sr(2048,8,e,t)}function Wg(e){we.flags|=4;var t=we.updateQueue;if(t===null)t=br(),we.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function xh(e){var t=ft().memoizedState;return Wg({ref:t,nextImpl:e}),function(){if((Me&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function _h(e,t){return Sr(4,2,e,t)}function wh(e,t){return Sr(4,4,e,t)}function Sh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Th(e,t,a){a=a!=null?a.concat([e]):null,Sr(4,4,Sh.bind(null,t,e),a)}function bu(){}function Eh(e,t){var a=ft();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&ou(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function jh(e,t){var a=ft();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&ou(t,s[1]))return s[0];if(s=e(),Es){gt(!0);try{e()}finally{gt(!1)}}return a.memoizedState=[s,t],s}function xu(e,t,a){return a===void 0||(hn&1073741824)!==0&&(Ne&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Af(),we.lanes|=e,Jn|=e,a)}function Nh(e,t,a,s){return sa(a,t)?a:ei.current!==null?(e=xu(e,a,s),sa(e,t)||(vt=!0),e):(hn&42)===0||(hn&1073741824)!==0&&(Ne&261930)===0?(vt=!0,e.memoizedState=a):(e=Af(),we.lanes|=e,Jn|=e,t)}function Ah(e,t,a,s,o){var u=$.p;$.p=u!==0&&8>u?u:8;var m=C.T,v={};C.T=v,Su(e,!1,t,a);try{var w=o(),R=C.S;if(R!==null&&R(v,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var G=Jg(w,s);al(e,t,G,ca(e))}else al(e,t,s,ca(e))}catch(J){al(e,t,{then:function(){},status:"rejected",reason:J},ca())}finally{$.p=u,m!==null&&v.types!==null&&(m.types=v.types),C.T=m}}function Fg(){}function _u(e,t,a,s){if(e.tag!==5)throw Error(r(476));var o=Ch(e).queue;Ah(e,o,t,W,a===null?Fg:function(){return Oh(e),a(s)})}function Ch(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:W},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Oh(e){var t=Ch(e);t.next===null&&(t=e.alternate.memoizedState),al(e,t.next.queue,{},ca())}function wu(){return kt(bl)}function kh(){return ft().memoizedState}function Rh(){return ft().memoizedState}function ey(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=ca();e=$n(a);var s=Gn(t,e,a);s!==null&&(Ft(s,t,a),Pi(s,t,a)),t={cache:Po()},e.payload=t;return}t=t.return}}function ty(e,t,a){var s=ca();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Tr(e)?Dh(t,a):(a=Ho(e,t,a,s),a!==null&&(Ft(a,e,s),Mh(a,t,s)))}function Uh(e,t,a){var s=ca();al(e,t,a,s)}function al(e,t,a,s){var o={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tr(e))Dh(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,v=u(m,a);if(o.hasEagerState=!0,o.eagerState=v,sa(v,m))return sr(e,t,o,0),Qe===null&&nr(),!1}catch{}if(a=Ho(e,t,o,s),a!==null)return Ft(a,e,s),Mh(a,t,s),!0}return!1}function Su(e,t,a,s){if(s={lane:2,revertLane:tc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Tr(e)){if(t)throw Error(r(479))}else t=Ho(e,a,s,2),t!==null&&Ft(t,e,2)}function Tr(e){var t=e.alternate;return e===we||t!==null&&t===we}function Dh(e,t){ti=pr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Mh(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,us(e,a)}}var nl={readContext:kt,use:xr,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it};nl.useEffectEvent=it;var zh={readContext:kt,use:xr,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:bh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,wr(4194308,4,Sh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return wr(4194308,4,e,t)},useInsertionEffect:function(e,t){wr(4,2,e,t)},useMemo:function(e,t){var a=Vt();t=t===void 0?null:t;var s=e();if(Es){gt(!0);try{e()}finally{gt(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=Vt();if(a!==void 0){var o=a(t);if(Es){gt(!0);try{a(t)}finally{gt(!1)}}}else o=t;return s.memoizedState=s.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},s.queue=e,e=e.dispatch=ty.bind(null,we,e),[s.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:function(e){e=yu(e);var t=e.queue,a=Uh.bind(null,we,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:bu,useDeferredValue:function(e,t){var a=Vt();return xu(a,e,t)},useTransition:function(){var e=yu(!1);return e=Ah.bind(null,we,e.queue,!0,!1),Vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=we,o=Vt();if(Oe){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),Qe===null)throw Error(r(349));(Ne&127)!==0||nh(s,t,a)}o.memoizedState=a;var u={value:a,getSnapshot:t};return o.queue=u,bh(ih.bind(null,s,u,e),[e]),s.flags|=2048,ni(9,{destroy:void 0},sh.bind(null,s,u,a,t),null),a},useId:function(){var e=Vt(),t=Qe.identifierPrefix;if(Oe){var a=Wa,s=Pa;a=(s&~(1<<32-nt(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=vr++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Xg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:wu,useFormState:mh,useActionState:mh,useOptimistic:function(e){var t=Vt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Su.bind(null,we,!0,a),a.dispatch=t,[e,t]},useMemoCache:fu,useCacheRefresh:function(){return Vt().memoizedState=ey.bind(null,we)},useEffectEvent:function(e){var t=Vt(),a={impl:e};return t.memoizedState=a,function(){if((Me&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Tu={readContext:kt,use:xr,useCallback:Eh,useContext:kt,useEffect:vu,useImperativeHandle:Th,useInsertionEffect:_h,useLayoutEffect:wh,useMemo:jh,useReducer:_r,useRef:vh,useState:function(){return _r(fn)},useDebugValue:bu,useDeferredValue:function(e,t){var a=ft();return Nh(a,Ge.memoizedState,e,t)},useTransition:function(){var e=_r(fn)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:tl(e),t]},useSyncExternalStore:ah,useId:kh,useHostTransitionStatus:wu,useFormState:gh,useActionState:gh,useOptimistic:function(e,t){var a=ft();return oh(a,Ge,e,t)},useMemoCache:fu,useCacheRefresh:Rh};Tu.useEffectEvent=xh;var Bh={readContext:kt,use:xr,useCallback:Eh,useContext:kt,useEffect:vu,useImperativeHandle:Th,useInsertionEffect:_h,useLayoutEffect:wh,useMemo:jh,useReducer:gu,useRef:vh,useState:function(){return gu(fn)},useDebugValue:bu,useDeferredValue:function(e,t){var a=ft();return Ge===null?xu(a,e,t):Nh(a,Ge.memoizedState,e,t)},useTransition:function(){var e=gu(fn)[0],t=ft().memoizedState;return[typeof e=="boolean"?e:tl(e),t]},useSyncExternalStore:ah,useId:kh,useHostTransitionStatus:wu,useFormState:ph,useActionState:ph,useOptimistic:function(e,t){var a=ft();return Ge!==null?oh(a,Ge,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:fu,useCacheRefresh:Rh};Bh.useEffectEvent=xh;function Eu(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:S({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ju={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=ca(),o=$n(s);o.payload=t,a!=null&&(o.callback=a),t=Gn(e,o,s),t!==null&&(Ft(t,e,s),Pi(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=ca(),o=$n(s);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Gn(e,o,s),t!==null&&(Ft(t,e,s),Pi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ca(),s=$n(a);s.tag=2,t!=null&&(s.callback=t),t=Gn(e,s,a),t!==null&&(Ft(t,e,a),Pi(t,e,a))}};function Lh(e,t,a,s,o,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,m):t.prototype&&t.prototype.isPureReactComponent?!Vi(a,s)||!Vi(o,u):!0}function qh(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&ju.enqueueReplaceState(t,t.state,null)}function js(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=S({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function Hh(e){ar(e)}function $h(e){console.error(e)}function Gh(e){ar(e)}function Er(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Vh(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Nu(e,t,a){return a=$n(a),a.tag=3,a.payload={element:null},a.callback=function(){Er(e,t)},a}function Yh(e){return e=$n(e),e.tag=3,e}function Kh(e,t,a,s){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var u=s.value;e.payload=function(){return o(u)},e.callback=function(){Vh(t,a,s)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Vh(t,a,s),typeof o!="function"&&(Xn===null?Xn=new Set([this]):Xn.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})})}function ay(e,t,a,s,o){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Is(t,a,o,!0),a=la.current,a!==null){switch(a.tag){case 31:case 13:return Ea===null?Br():a.alternate===null&&lt===0&&(lt=3),a.flags&=-257,a.flags|=65536,a.lanes=o,s===hr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),Wu(e,s,o)),!1;case 22:return a.flags|=65536,s===hr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),Wu(e,s,o)),!1}throw Error(r(435,a.tag))}return Wu(e,s,o),Br(),!1}if(Oe)return t=la.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,s!==Qo&&(e=Error(r(422),{cause:s}),Qi(_a(e,a)))):(s!==Qo&&(t=Error(r(423),{cause:s}),Qi(_a(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,s=_a(s,a),o=Nu(e.stateNode,s,o),nu(e,o),lt!==4&&(lt=2)),!1;var u=Error(r(520),{cause:s});if(u=_a(u,a),dl===null?dl=[u]:dl.push(u),lt!==4&&(lt=2),t===null)return!0;s=_a(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Nu(a.stateNode,s,e),nu(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Xn===null||!Xn.has(u))))return a.flags|=65536,o&=-o,a.lanes|=o,o=Yh(o),Kh(o,e,a,s),nu(a,o),!1}a=a.return}while(a!==null);return!1}var Au=Error(r(461)),vt=!1;function Rt(e,t,a,s){t.child=e===null?Id(t,null,a,s):Ts(t,e.child,a,s)}function Qh(e,t,a,s,o){a=a.render;var u=t.ref;if("ref"in s){var m={};for(var v in s)v!=="ref"&&(m[v]=s[v])}else m=s;return xs(t),s=uu(e,t,a,m,u,o),v=cu(),e!==null&&!vt?(du(e,t,o),mn(e,t,o)):(Oe&&v&&Yo(t),t.flags|=1,Rt(e,t,s,o),t.child)}function Jh(e,t,a,s,o){if(e===null){var u=a.type;return typeof u=="function"&&!$o(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,Xh(e,t,u,s,o)):(e=lr(a.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!zu(e,o)){var m=u.memoizedProps;if(a=a.compare,a=a!==null?a:Vi,a(m,s)&&e.ref===t.ref)return mn(e,t,o)}return t.flags|=1,e=on(u,s),e.ref=t.ref,e.return=t,t.child=e}function Xh(e,t,a,s,o){if(e!==null){var u=e.memoizedProps;if(Vi(u,s)&&e.ref===t.ref)if(vt=!1,t.pendingProps=s=u,zu(e,o))(e.flags&131072)!==0&&(vt=!0);else return t.lanes=e.lanes,mn(e,t,o)}return Cu(e,t,a,s,o)}function Ih(e,t,a,s){var o=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(s=t.child=e.child,o=0;s!==null;)o=o|s.lanes|s.childLanes,s=s.sibling;s=o&~u}else s=0,t.child=null;return Zh(e,t,u,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&cr(t,u!==null?u.cachePool:null),u!==null?Wd(t,u):iu(),Fd(t);else return s=t.lanes=536870912,Zh(e,t,u!==null?u.baseLanes|a:a,a,s)}else u!==null?(cr(t,u.cachePool),Wd(t,u),Yn(),t.memoizedState=null):(e!==null&&cr(t,null),iu(),Yn());return Rt(e,t,o,a),t.child}function sl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Zh(e,t,a,s,o){var u=Fo();return u=u===null?null:{parent:yt._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&cr(t,null),iu(),Fd(t),e!==null&&Is(e,t,s,!0),t.childLanes=o,null}function jr(e,t){return t=Ar({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ph(e,t,a){return Ts(t,e.child,null,a),e=jr(t,t.pendingProps),e.flags|=2,ra(t),t.memoizedState=null,e}function ny(e,t,a){var s=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Oe){if(s.mode==="hidden")return e=jr(t,s),t.lanes=536870912,sl(null,e);if(ru(t),(e=Ze)?(e=cm(e,Ta),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zn!==null?{id:Pa,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},a=Dd(e),a.return=t,t.child=a,Ot=t,Ze=null)):e=null,e===null)throw Ln(t);return t.lanes=536870912,null}return jr(t,s)}var u=e.memoizedState;if(u!==null){var m=u.dehydrated;if(ru(t),o)if(t.flags&256)t.flags&=-257,t=Ph(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(vt||Is(e,t,a,!1),o=(a&e.childLanes)!==0,vt||o){if(s=Qe,s!==null&&(m=Ia(s,a),m!==0&&m!==u.retryLane))throw u.retryLane=m,ys(e,m),Ft(s,e,m),Au;Br(),t=Ph(e,t,a)}else e=u.treeContext,Ze=ja(m.nextSibling),Ot=t,Oe=!0,Bn=null,Ta=!1,e!==null&&Bd(t,e),t=jr(t,s),t.flags|=4096;return t}return e=on(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Nr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Cu(e,t,a,s,o){return xs(t),a=uu(e,t,a,s,void 0,o),s=cu(),e!==null&&!vt?(du(e,t,o),mn(e,t,o)):(Oe&&s&&Yo(t),t.flags|=1,Rt(e,t,a,o),t.child)}function Wh(e,t,a,s,o,u){return xs(t),t.updateQueue=null,a=th(t,s,a,o),eh(e),s=cu(),e!==null&&!vt?(du(e,t,u),mn(e,t,u)):(Oe&&s&&Yo(t),t.flags|=1,Rt(e,t,a,u),t.child)}function Fh(e,t,a,s,o){if(xs(t),t.stateNode===null){var u=Ks,m=a.contextType;typeof m=="object"&&m!==null&&(u=kt(m)),u=new a(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=ju,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},tu(t),m=a.contextType,u.context=typeof m=="object"&&m!==null?kt(m):Ks,u.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Eu(t,a,m,s),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(m=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),m!==u.state&&ju.enqueueReplaceState(u,u.state,null),Fi(t,s,u,o),Wi(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,w=js(a,v);u.props=w;var R=u.context,G=a.contextType;m=Ks,typeof G=="object"&&G!==null&&(m=kt(G));var J=a.getDerivedStateFromProps;G=typeof J=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,G||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||R!==m)&&qh(t,u,s,m),Hn=!1;var D=t.memoizedState;u.state=D,Fi(t,s,u,o),Wi(),R=t.memoizedState,v||D!==R||Hn?(typeof J=="function"&&(Eu(t,a,J,s),R=t.memoizedState),(w=Hn||Lh(t,a,w,s,D,R,m))?(G||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=R),u.props=s,u.state=R,u.context=m,s=w):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,au(e,t),m=t.memoizedProps,G=js(a,m),u.props=G,J=t.pendingProps,D=u.context,R=a.contextType,w=Ks,typeof R=="object"&&R!==null&&(w=kt(R)),v=a.getDerivedStateFromProps,(R=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==J||D!==w)&&qh(t,u,s,w),Hn=!1,D=t.memoizedState,u.state=D,Fi(t,s,u,o),Wi();var B=t.memoizedState;m!==J||D!==B||Hn||e!==null&&e.dependencies!==null&&or(e.dependencies)?(typeof v=="function"&&(Eu(t,a,v,s),B=t.memoizedState),(G=Hn||Lh(t,a,G,s,D,B,w)||e!==null&&e.dependencies!==null&&or(e.dependencies))?(R||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,B,w),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,B,w)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=B),u.props=s,u.state=B,u.context=w,s=G):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,Nr(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=Ts(t,e.child,null,o),t.child=Ts(t,null,a,o)):Rt(e,t,a,o),t.memoizedState=u.state,e=t.child):e=mn(e,t,o),e}function ef(e,t,a,s){return vs(),t.flags|=256,Rt(e,t,a,s),t.child}var Ou={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ku(e){return{baseLanes:e,cachePool:Vd()}}function Ru(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=ua),e}function tf(e,t,a){var s=t.pendingProps,o=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(ht.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Oe){if(o?Vn(t):Yn(),(e=Ze)?(e=cm(e,Ta),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zn!==null?{id:Pa,overflow:Wa}:null,retryLane:536870912,hydrationErrors:null},a=Dd(e),a.return=t,t.child=a,Ot=t,Ze=null)):e=null,e===null)throw Ln(t);return mc(e)?t.lanes=32:t.lanes=536870912,null}var v=s.children;return s=s.fallback,o?(Yn(),o=t.mode,v=Ar({mode:"hidden",children:v},o),s=ps(s,o,a,null),v.return=t,s.return=t,v.sibling=s,t.child=v,s=t.child,s.memoizedState=ku(a),s.childLanes=Ru(e,m,a),t.memoizedState=Ou,sl(null,s)):(Vn(t),Uu(t,v))}var w=e.memoizedState;if(w!==null&&(v=w.dehydrated,v!==null)){if(u)t.flags&256?(Vn(t),t.flags&=-257,t=Du(e,t,a)):t.memoizedState!==null?(Yn(),t.child=e.child,t.flags|=128,t=null):(Yn(),v=s.fallback,o=t.mode,s=Ar({mode:"visible",children:s.children},o),v=ps(v,o,a,null),v.flags|=2,s.return=t,v.return=t,s.sibling=v,t.child=s,Ts(t,e.child,null,a),s=t.child,s.memoizedState=ku(a),s.childLanes=Ru(e,m,a),t.memoizedState=Ou,t=sl(null,s));else if(Vn(t),mc(v)){if(m=v.nextSibling&&v.nextSibling.dataset,m)var R=m.dgst;m=R,s=Error(r(419)),s.stack="",s.digest=m,Qi({value:s,source:null,stack:null}),t=Du(e,t,a)}else if(vt||Is(e,t,a,!1),m=(a&e.childLanes)!==0,vt||m){if(m=Qe,m!==null&&(s=Ia(m,a),s!==0&&s!==w.retryLane))throw w.retryLane=s,ys(e,s),Ft(m,e,s),Au;fc(v)||Br(),t=Du(e,t,a)}else fc(v)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Ze=ja(v.nextSibling),Ot=t,Oe=!0,Bn=null,Ta=!1,e!==null&&Bd(t,e),t=Uu(t,s.children),t.flags|=4096);return t}return o?(Yn(),v=s.fallback,o=t.mode,w=e.child,R=w.sibling,s=on(w,{mode:"hidden",children:s.children}),s.subtreeFlags=w.subtreeFlags&65011712,R!==null?v=on(R,v):(v=ps(v,o,a,null),v.flags|=2),v.return=t,s.return=t,s.sibling=v,t.child=s,sl(null,s),s=t.child,v=e.child.memoizedState,v===null?v=ku(a):(o=v.cachePool,o!==null?(w=yt._currentValue,o=o.parent!==w?{parent:w,pool:w}:o):o=Vd(),v={baseLanes:v.baseLanes|a,cachePool:o}),s.memoizedState=v,s.childLanes=Ru(e,m,a),t.memoizedState=Ou,sl(e.child,s)):(Vn(t),a=e.child,e=a.sibling,a=on(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function Uu(e,t){return t=Ar({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ar(e,t){return e=ia(22,e,null,t),e.lanes=0,e}function Du(e,t,a){return Ts(t,e.child,null,a),e=Uu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function af(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Io(e.return,t,a)}function Mu(e,t,a,s,o,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:o,treeForkCount:u}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=s,m.tail=a,m.tailMode=o,m.treeForkCount=u)}function nf(e,t,a){var s=t.pendingProps,o=s.revealOrder,u=s.tail;s=s.children;var m=ht.current,v=(m&2)!==0;if(v?(m=m&1|2,t.flags|=128):m&=1,X(ht,m),Rt(e,t,s,a),s=Oe?Ki:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&af(e,a,t);else if(e.tag===19)af(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&yr(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Mu(t,!1,o,a,u,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&yr(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Mu(t,!0,a,null,u,s);break;case"together":Mu(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function mn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Jn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Is(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=on(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=on(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function zu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&or(e)))}function sy(e,t,a){switch(t.tag){case 3:ue(t,t.stateNode.containerInfo),qn(t,yt,e.memoizedState.cache),vs();break;case 27:case 5:fa(t);break;case 4:ue(t,t.stateNode.containerInfo);break;case 10:qn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ru(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Vn(t),t.flags|=128,null):(a&t.child.childLanes)!==0?tf(e,t,a):(Vn(t),e=mn(e,t,a),e!==null?e.sibling:null);Vn(t);break;case 19:var o=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Is(e,t,a,!1),s=(a&t.childLanes)!==0),o){if(s)return nf(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),X(ht,ht.current),s)break;return null;case 22:return t.lanes=0,Ih(e,t,a,t.pendingProps);case 24:qn(t,yt,e.memoizedState.cache)}return mn(e,t,a)}function sf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)vt=!0;else{if(!zu(e,a)&&(t.flags&128)===0)return vt=!1,sy(e,t,a);vt=(e.flags&131072)!==0}else vt=!1,Oe&&(t.flags&1048576)!==0&&zd(t,Ki,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=ws(t.elementType),t.type=e,typeof e=="function")$o(e)?(s=js(e,s),t.tag=1,t=Fh(null,t,e,s,a)):(t.tag=0,t=Cu(null,t,e,s,a));else{if(e!=null){var o=e.$$typeof;if(o===P){t.tag=11,t=Qh(null,t,e,s,a);break e}else if(o===te){t.tag=14,t=Jh(null,t,e,s,a);break e}}throw t=ot(e)||e,Error(r(306,t,""))}}return t;case 0:return Cu(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,o=js(s,t.pendingProps),Fh(e,t,s,o,a);case 3:e:{if(ue(t,t.stateNode.containerInfo),e===null)throw Error(r(387));s=t.pendingProps;var u=t.memoizedState;o=u.element,au(e,t),Fi(t,s,null,a);var m=t.memoizedState;if(s=m.cache,qn(t,yt,s),s!==u.cache&&Zo(t,[yt],a,!0),Wi(),s=m.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=ef(e,t,s,a);break e}else if(s!==o){o=_a(Error(r(424)),t),Qi(o),t=ef(e,t,s,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ze=ja(e.firstChild),Ot=t,Oe=!0,Bn=null,Ta=!0,a=Id(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(vs(),s===o){t=mn(e,t,a);break e}Rt(e,t,s,a)}t=t.child}return t;case 26:return Nr(e,t),e===null?(a=ym(t.type,null,t.pendingProps,null))?t.memoizedState=a:Oe||(a=t.type,e=t.pendingProps,s=Yr(be.current).createElement(a),s[ut]=t,s[Ct]=e,Ut(s,a,e),dt(s),t.stateNode=s):t.memoizedState=ym(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return fa(t),e===null&&Oe&&(s=t.stateNode=fm(t.type,t.pendingProps,be.current),Ot=t,Ta=!0,o=Ze,Wn(t.type)?(gc=o,Ze=ja(s.firstChild)):Ze=o),Rt(e,t,t.pendingProps.children,a),Nr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Oe&&((o=s=Ze)&&(s=Dy(s,t.type,t.pendingProps,Ta),s!==null?(t.stateNode=s,Ot=t,Ze=ja(s.firstChild),Ta=!1,o=!0):o=!1),o||Ln(t)),fa(t),o=t.type,u=t.pendingProps,m=e!==null?e.memoizedProps:null,s=u.children,cc(o,u)?s=null:m!==null&&cc(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=uu(e,t,Ig,null,null,a),bl._currentValue=o),Nr(e,t),Rt(e,t,s,a),t.child;case 6:return e===null&&Oe&&((e=a=Ze)&&(a=My(a,t.pendingProps,Ta),a!==null?(t.stateNode=a,Ot=t,Ze=null,e=!0):e=!1),e||Ln(t)),null;case 13:return tf(e,t,a);case 4:return ue(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ts(t,null,s,a):Rt(e,t,s,a),t.child;case 11:return Qh(e,t,t.type,t.pendingProps,a);case 7:return Rt(e,t,t.pendingProps,a),t.child;case 8:return Rt(e,t,t.pendingProps.children,a),t.child;case 12:return Rt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,qn(t,t.type,s.value),Rt(e,t,s.children,a),t.child;case 9:return o=t.type._context,s=t.pendingProps.children,xs(t),o=kt(o),s=s(o),t.flags|=1,Rt(e,t,s,a),t.child;case 14:return Jh(e,t,t.type,t.pendingProps,a);case 15:return Xh(e,t,t.type,t.pendingProps,a);case 19:return nf(e,t,a);case 31:return ny(e,t,a);case 22:return Ih(e,t,a,t.pendingProps);case 24:return xs(t),s=kt(yt),e===null?(o=Fo(),o===null&&(o=Qe,u=Po(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=a),o=u),t.memoizedState={parent:s,cache:o},tu(t),qn(t,yt,o)):((e.lanes&a)!==0&&(au(e,t),Fi(t,null,null,a),Wi()),o=e.memoizedState,u=t.memoizedState,o.parent!==s?(o={parent:s,cache:s},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),qn(t,yt,s)):(s=u.cache,qn(t,yt,s),s!==o.cache&&Zo(t,[yt],a,!0))),Rt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function gn(e){e.flags|=4}function Bu(e,t,a,s,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Rf())e.flags|=8192;else throw Ss=hr,eu}else e.flags&=-16777217}function lf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!_m(t))if(Rf())e.flags|=8192;else throw Ss=hr,eu}function Cr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?nn():536870912,e.lanes|=t,ri|=t)}function il(e,t){if(!Oe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Pe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags&65011712,s|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function iy(e,t,a){var s=t.pendingProps;switch(Ko(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(t),null;case 1:return Pe(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),dn(yt),ze(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Xs(t)?gn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Jo())),Pe(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(gn(t),u!==null?(Pe(t),lf(t,u)):(Pe(t),Bu(t,o,null,s,a))):u?u!==e.memoizedState?(gn(t),Pe(t),lf(t,u)):(Pe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&gn(t),Pe(t),Bu(t,o,e,s,a)),null;case 27:if(zt(t),a=be.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&gn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Pe(t),null}e=ae.current,Xs(t)?Ld(t):(e=fm(o,s,a),t.stateNode=e,gn(t))}return Pe(t),null;case 5:if(zt(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&gn(t);else{if(!s){if(t.stateNode===null)throw Error(r(166));return Pe(t),null}if(u=ae.current,Xs(t))Ld(t);else{var m=Yr(be.current);switch(u){case 1:u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=m.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?m.createElement("select",{is:s.is}):m.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?m.createElement(o,{is:s.is}):m.createElement(o)}}u[ut]=t,u[Ct]=s;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=u;e:switch(Ut(u,o,s),o){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&gn(t)}}return Pe(t),Bu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&gn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(r(166));if(e=be.current,Xs(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,o=Ot,o!==null)switch(o.tag){case 27:case 5:s=o.memoizedProps}e[ut]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||am(e.nodeValue,a)),e||Ln(t,!0)}else e=Yr(e).createTextNode(s),e[ut]=t,t.stateNode=e}return Pe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=Xs(t),a!==null){if(e===null){if(!s)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ut]=t}else vs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),e=!1}else a=Jo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(ra(t),t):(ra(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Pe(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Xs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[ut]=t}else vs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pe(t),o=!1}else o=Jo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(ra(t),t):(ra(t),null)}return ra(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,o=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(o=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Cr(t,t.updateQueue),Pe(t),null);case 4:return ze(),e===null&&ic(t.stateNode.containerInfo),Pe(t),null;case 10:return dn(t.type),Pe(t),null;case 19:if(z(ht),s=t.memoizedState,s===null)return Pe(t),null;if(o=(t.flags&128)!==0,u=s.rendering,u===null)if(o)il(s,!1);else{if(lt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=yr(e),u!==null){for(t.flags|=128,il(s,!1),e=u.updateQueue,t.updateQueue=e,Cr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Ud(a,e),a=a.sibling;return X(ht,ht.current&1|2),Oe&&un(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&_t()>Dr&&(t.flags|=128,o=!0,il(s,!1),t.lanes=4194304)}else{if(!o)if(e=yr(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Cr(t,e),il(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!Oe)return Pe(t),null}else 2*_t()-s.renderingStartTime>Dr&&a!==536870912&&(t.flags|=128,o=!0,il(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=_t(),e.sibling=null,a=ht.current,X(ht,o?a&1|2:a&1),Oe&&un(t,s.treeForkCount),e):(Pe(t),null);case 22:case 23:return ra(t),lu(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Pe(t),t.subtreeFlags&6&&(t.flags|=8192)):Pe(t),a=t.updateQueue,a!==null&&Cr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&z(_s),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),dn(yt),Pe(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function ly(e,t){switch(Ko(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dn(yt),ze(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return zt(t),null;case 31:if(t.memoizedState!==null){if(ra(t),t.alternate===null)throw Error(r(340));vs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ra(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));vs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return z(ht),null;case 4:return ze(),null;case 10:return dn(t.type),null;case 22:case 23:return ra(t),lu(),e!==null&&z(_s),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return dn(yt),null;case 25:return null;default:return null}}function rf(e,t){switch(Ko(t),t.tag){case 3:dn(yt),ze();break;case 26:case 27:case 5:zt(t);break;case 4:ze();break;case 31:t.memoizedState!==null&&ra(t);break;case 13:ra(t);break;case 19:z(ht);break;case 10:dn(t.type);break;case 22:case 23:ra(t),lu(),e!==null&&z(_s);break;case 24:dn(yt)}}function ll(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var o=s.next;a=o;do{if((a.tag&e)===e){s=void 0;var u=a.create,m=a.inst;s=u(),m.destroy=s}a=a.next}while(a!==o)}}catch(v){He(t,t.return,v)}}function Kn(e,t,a){try{var s=t.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var u=o.next;s=u;do{if((s.tag&e)===e){var m=s.inst,v=m.destroy;if(v!==void 0){m.destroy=void 0,o=t;var w=a,R=v;try{R()}catch(G){He(o,w,G)}}}s=s.next}while(s!==u)}}catch(G){He(t,t.return,G)}}function of(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Pd(t,a)}catch(s){He(e,e.return,s)}}}function uf(e,t,a){a.props=js(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){He(e,t,s)}}function rl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(o){He(e,t,o)}}function Fa(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(o){He(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){He(e,t,o)}else a.current=null}function cf(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(o){He(e,e.return,o)}}function Lu(e,t,a){try{var s=e.stateNode;Ay(s,e.type,a,t),s[Ct]=t}catch(o){He(e,e.return,o)}}function df(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Wn(e.type)||e.tag===4}function qu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||df(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Wn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hu(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=L));else if(s!==4&&(s===27&&Wn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Hu(e,t,a),e=e.sibling;e!==null;)Hu(e,t,a),e=e.sibling}function Or(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Wn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Or(e,t,a),e=e.sibling;e!==null;)Or(e,t,a),e=e.sibling}function hf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Ut(t,s,a),t[ut]=e,t[Ct]=a}catch(u){He(e,e.return,u)}}var yn=!1,bt=!1,$u=!1,ff=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function ry(e,t){if(e=e.containerInfo,oc=Pr,e=Td(e),Do(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var o=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var m=0,v=-1,w=-1,R=0,G=0,J=e,D=null;t:for(;;){for(var B;J!==a||o!==0&&J.nodeType!==3||(v=m+o),J!==u||s!==0&&J.nodeType!==3||(w=m+s),J.nodeType===3&&(m+=J.nodeValue.length),(B=J.firstChild)!==null;)D=J,J=B;for(;;){if(J===e)break t;if(D===a&&++R===o&&(v=m),D===u&&++G===s&&(w=m),(B=J.nextSibling)!==null)break;J=D,D=J.parentNode}J=B}a=v===-1||w===-1?null:{start:v,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(uc={focusedElem:e,selectionRange:a},Pr=!1,Nt=t;Nt!==null;)if(t=Nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Nt=e;else for(;Nt!==null;){switch(t=Nt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,o=u.memoizedProps,u=u.memoizedState,s=a.stateNode;try{var ce=js(a.type,o);e=s.getSnapshotBeforeUpdate(ce,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(ye){He(a,a.return,ye)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)hc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Nt=e;break}Nt=t.return}}function mf(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:vn(e,a),s&4&&ll(5,a);break;case 1:if(vn(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){He(a,a.return,m)}else{var o=js(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){He(a,a.return,m)}}s&64&&of(a),s&512&&rl(a,a.return);break;case 3:if(vn(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Pd(e,t)}catch(m){He(a,a.return,m)}}break;case 27:t===null&&s&4&&hf(a);case 26:case 5:vn(e,a),t===null&&s&4&&cf(a),s&512&&rl(a,a.return);break;case 12:vn(e,a);break;case 31:vn(e,a),s&4&&pf(e,a);break;case 13:vn(e,a),s&4&&vf(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=yy.bind(null,a),zy(e,a))));break;case 22:if(s=a.memoizedState!==null||yn,!s){t=t!==null&&t.memoizedState!==null||bt,o=yn;var u=bt;yn=s,(bt=t)&&!u?bn(e,a,(a.subtreeFlags&8772)!==0):vn(e,a),yn=o,bt=u}break;case 30:break;default:vn(e,a)}}function gf(e){var t=e.alternate;t!==null&&(e.alternate=null,gf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ba(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var et=null,It=!1;function pn(e,t,a){for(a=a.child;a!==null;)yf(e,t,a),a=a.sibling}function yf(e,t,a){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(At,a)}catch{}switch(a.tag){case 26:bt||Fa(a,t),pn(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:bt||Fa(a,t);var s=et,o=It;Wn(a.type)&&(et=a.stateNode,It=!1),pn(e,t,a),yl(a.stateNode),et=s,It=o;break;case 5:bt||Fa(a,t);case 6:if(s=et,o=It,et=null,pn(e,t,a),et=s,It=o,et!==null)if(It)try{(et.nodeType===9?et.body:et.nodeName==="HTML"?et.ownerDocument.body:et).removeChild(a.stateNode)}catch(u){He(a,t,u)}else try{et.removeChild(a.stateNode)}catch(u){He(a,t,u)}break;case 18:et!==null&&(It?(e=et,om(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),gi(e)):om(et,a.stateNode));break;case 4:s=et,o=It,et=a.stateNode.containerInfo,It=!0,pn(e,t,a),et=s,It=o;break;case 0:case 11:case 14:case 15:Kn(2,a,t),bt||Kn(4,a,t),pn(e,t,a);break;case 1:bt||(Fa(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&uf(a,t,s)),pn(e,t,a);break;case 21:pn(e,t,a);break;case 22:bt=(s=bt)||a.memoizedState!==null,pn(e,t,a),bt=s;break;default:pn(e,t,a)}}function pf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{gi(e)}catch(a){He(t,t.return,a)}}}function vf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{gi(e)}catch(a){He(t,t.return,a)}}function oy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ff),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ff),t;default:throw Error(r(435,e.tag))}}function kr(e,t){var a=oy(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var o=py.bind(null,e,s);s.then(o,o)}})}function Zt(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var o=a[s],u=e,m=t,v=m;e:for(;v!==null;){switch(v.tag){case 27:if(Wn(v.type)){et=v.stateNode,It=!1;break e}break;case 5:et=v.stateNode,It=!1;break e;case 3:case 4:et=v.stateNode.containerInfo,It=!0;break e}v=v.return}if(et===null)throw Error(r(160));yf(u,m,o),et=null,It=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)bf(t,e),t=t.sibling}var qa=null;function bf(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Zt(t,e),Pt(e),s&4&&(Kn(3,e,e.return),ll(3,e),Kn(5,e,e.return));break;case 1:Zt(t,e),Pt(e),s&512&&(bt||a===null||Fa(a,a.return)),s&64&&yn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var o=qa;if(Zt(t,e),Pt(e),s&512&&(bt||a===null||Fa(a,a.return)),s&4){var u=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(s){case"title":u=o.getElementsByTagName("title")[0],(!u||u[Xe]||u[ut]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(s),o.head.insertBefore(u,o.querySelector("head > title"))),Ut(u,s,a),u[ut]=e,dt(u),s=u;break e;case"link":var m=bm("link","href",o).get(s+(a.href||""));if(m){for(var v=0;v<m.length;v++)if(u=m[v],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(v,1);break t}}u=o.createElement(s),Ut(u,s,a),o.head.appendChild(u);break;case"meta":if(m=bm("meta","content",o).get(s+(a.content||""))){for(v=0;v<m.length;v++)if(u=m[v],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(v,1);break t}}u=o.createElement(s),Ut(u,s,a),o.head.appendChild(u);break;default:throw Error(r(468,s))}u[ut]=e,dt(u),s=u}e.stateNode=s}else xm(o,e.type,e.stateNode);else e.stateNode=vm(o,s,e.memoizedProps);else u!==s?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,s===null?xm(o,e.type,e.stateNode):vm(o,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Lu(e,e.memoizedProps,a.memoizedProps)}break;case 27:Zt(t,e),Pt(e),s&512&&(bt||a===null||Fa(a,a.return)),a!==null&&s&4&&Lu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Zt(t,e),Pt(e),s&512&&(bt||a===null||Fa(a,a.return)),e.flags&32){o=e.stateNode;try{ba(o,"")}catch(ce){He(e,e.return,ce)}}s&4&&e.stateNode!=null&&(o=e.memoizedProps,Lu(e,o,a!==null?a.memoizedProps:o)),s&1024&&($u=!0);break;case 6:if(Zt(t,e),Pt(e),s&4){if(e.stateNode===null)throw Error(r(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(ce){He(e,e.return,ce)}}break;case 3:if(Jr=null,o=qa,qa=Kr(t.containerInfo),Zt(t,e),qa=o,Pt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{gi(t.containerInfo)}catch(ce){He(e,e.return,ce)}$u&&($u=!1,xf(e));break;case 4:s=qa,qa=Kr(e.stateNode.containerInfo),Zt(t,e),Pt(e),qa=s;break;case 12:Zt(t,e),Pt(e);break;case 31:Zt(t,e),Pt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,kr(e,s)));break;case 13:Zt(t,e),Pt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ur=_t()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,kr(e,s)));break;case 22:o=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,R=yn,G=bt;if(yn=R||o,bt=G||w,Zt(t,e),bt=G,yn=R,Pt(e),s&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||w||yn||bt||Ns(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){w=a=t;try{if(u=w.stateNode,o)m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{v=w.stateNode;var J=w.memoizedProps.style,D=J!=null&&J.hasOwnProperty("display")?J.display:null;v.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(ce){He(w,w.return,ce)}}}else if(t.tag===6){if(a===null){w=t;try{w.stateNode.nodeValue=o?"":w.memoizedProps}catch(ce){He(w,w.return,ce)}}}else if(t.tag===18){if(a===null){w=t;try{var B=w.stateNode;o?um(B,!0):um(w.stateNode,!1)}catch(ce){He(w,w.return,ce)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,kr(e,a))));break;case 19:Zt(t,e),Pt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,kr(e,s)));break;case 30:break;case 21:break;default:Zt(t,e),Pt(e)}}function Pt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(df(s)){a=s;break}s=s.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var o=a.stateNode,u=qu(e);Or(e,u,o);break;case 5:var m=a.stateNode;a.flags&32&&(ba(m,""),a.flags&=-33);var v=qu(e);Or(e,v,m);break;case 3:case 4:var w=a.stateNode.containerInfo,R=qu(e);Hu(e,R,w);break;default:throw Error(r(161))}}catch(G){He(e,e.return,G)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;xf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function vn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)mf(e,t.alternate,t),t=t.sibling}function Ns(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Kn(4,t,t.return),Ns(t);break;case 1:Fa(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&uf(t,t.return,a),Ns(t);break;case 27:yl(t.stateNode);case 26:case 5:Fa(t,t.return),Ns(t);break;case 22:t.memoizedState===null&&Ns(t);break;case 30:Ns(t);break;default:Ns(t)}e=e.sibling}}function bn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,o=e,u=t,m=u.flags;switch(u.tag){case 0:case 11:case 15:bn(o,u,a),ll(4,u);break;case 1:if(bn(o,u,a),s=u,o=s.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(R){He(s,s.return,R)}if(s=u,o=s.updateQueue,o!==null){var v=s.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)Zd(w[o],v)}catch(R){He(s,s.return,R)}}a&&m&64&&of(u),rl(u,u.return);break;case 27:hf(u);case 26:case 5:bn(o,u,a),a&&s===null&&m&4&&cf(u),rl(u,u.return);break;case 12:bn(o,u,a);break;case 31:bn(o,u,a),a&&m&4&&pf(o,u);break;case 13:bn(o,u,a),a&&m&4&&vf(o,u);break;case 22:u.memoizedState===null&&bn(o,u,a),rl(u,u.return);break;case 30:break;default:bn(o,u,a)}t=t.sibling}}function Gu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ji(a))}function Vu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ji(e))}function Ha(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_f(e,t,a,s),t=t.sibling}function _f(e,t,a,s){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Ha(e,t,a,s),o&2048&&ll(9,t);break;case 1:Ha(e,t,a,s);break;case 3:Ha(e,t,a,s),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ji(e)));break;case 12:if(o&2048){Ha(e,t,a,s),e=t.stateNode;try{var u=t.memoizedProps,m=u.id,v=u.onPostCommit;typeof v=="function"&&v(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){He(t,t.return,w)}}else Ha(e,t,a,s);break;case 31:Ha(e,t,a,s);break;case 13:Ha(e,t,a,s);break;case 23:break;case 22:u=t.stateNode,m=t.alternate,t.memoizedState!==null?u._visibility&2?Ha(e,t,a,s):ol(e,t):u._visibility&2?Ha(e,t,a,s):(u._visibility|=2,si(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Gu(m,t);break;case 24:Ha(e,t,a,s),o&2048&&Vu(t.alternate,t);break;default:Ha(e,t,a,s)}}function si(e,t,a,s,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,m=t,v=a,w=s,R=m.flags;switch(m.tag){case 0:case 11:case 15:si(u,m,v,w,o),ll(8,m);break;case 23:break;case 22:var G=m.stateNode;m.memoizedState!==null?G._visibility&2?si(u,m,v,w,o):ol(u,m):(G._visibility|=2,si(u,m,v,w,o)),o&&R&2048&&Gu(m.alternate,m);break;case 24:si(u,m,v,w,o),o&&R&2048&&Vu(m.alternate,m);break;default:si(u,m,v,w,o)}t=t.sibling}}function ol(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,o=s.flags;switch(s.tag){case 22:ol(a,s),o&2048&&Gu(s.alternate,s);break;case 24:ol(a,s),o&2048&&Vu(s.alternate,s);break;default:ol(a,s)}t=t.sibling}}var ul=8192;function ii(e,t,a){if(e.subtreeFlags&ul)for(e=e.child;e!==null;)wf(e,t,a),e=e.sibling}function wf(e,t,a){switch(e.tag){case 26:ii(e,t,a),e.flags&ul&&e.memoizedState!==null&&Xy(a,qa,e.memoizedState,e.memoizedProps);break;case 5:ii(e,t,a);break;case 3:case 4:var s=qa;qa=Kr(e.stateNode.containerInfo),ii(e,t,a),qa=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=ul,ul=16777216,ii(e,t,a),ul=s):ii(e,t,a));break;default:ii(e,t,a)}}function Sf(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function cl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Nt=s,Ef(s,e)}Sf(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Tf(e),e=e.sibling}function Tf(e){switch(e.tag){case 0:case 11:case 15:cl(e),e.flags&2048&&Kn(9,e,e.return);break;case 3:cl(e);break;case 12:cl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Rr(e)):cl(e);break;default:cl(e)}}function Rr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];Nt=s,Ef(s,e)}Sf(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Kn(8,t,t.return),Rr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Rr(t));break;default:Rr(t)}e=e.sibling}}function Ef(e,t){for(;Nt!==null;){var a=Nt;switch(a.tag){case 0:case 11:case 15:Kn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ji(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,Nt=s;else e:for(a=e;Nt!==null;){s=Nt;var o=s.sibling,u=s.return;if(gf(s),s===a){Nt=null;break e}if(o!==null){o.return=u,Nt=o;break e}Nt=u}}}var uy={getCacheForType:function(e){var t=kt(yt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return kt(yt).controller.signal}},cy=typeof WeakMap=="function"?WeakMap:Map,Me=0,Qe=null,Te=null,Ne=0,qe=0,oa=null,Qn=!1,li=!1,Yu=!1,xn=0,lt=0,Jn=0,As=0,Ku=0,ua=0,ri=0,dl=null,Wt=null,Qu=!1,Ur=0,jf=0,Dr=1/0,Mr=null,Xn=null,Et=0,In=null,oi=null,_n=0,Ju=0,Xu=null,Nf=null,hl=0,Iu=null;function ca(){return(Me&2)!==0&&Ne!==0?Ne&-Ne:C.T!==null?tc():An()}function Af(){if(ua===0)if((Ne&536870912)===0||Oe){var e=Da;Da<<=1,(Da&3932160)===0&&(Da=262144),ua=e}else ua=536870912;return e=la.current,e!==null&&(e.flags|=32),ua}function Ft(e,t,a){(e===Qe&&(qe===2||qe===9)||e.cancelPendingCommit!==null)&&(ui(e,0),Zn(e,Ne,ua,!1)),Xa(e,a),((Me&2)===0||e!==Qe)&&(e===Qe&&((Me&2)===0&&(As|=a),lt===4&&Zn(e,Ne,ua,!1)),en(e))}function Cf(e,t,a){if((Me&6)!==0)throw Error(r(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||va(e,t),o=s?fy(e,t):Pu(e,t,!0),u=s;do{if(o===0){li&&!s&&Zn(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!dy(a)){o=Pu(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var v=e;o=dl;var w=v.current.memoizedState.isDehydrated;if(w&&(ui(v,m).flags|=256),m=Pu(v,m,!1),m!==2){if(Yu&&!w){v.errorRecoveryDisabledLanes|=u,As|=u,o=4;break e}u=Wt,Wt=o,u!==null&&(Wt===null?Wt=u:Wt.push.apply(Wt,u))}o=m}if(u=!1,o!==2)continue}}if(o===1){ui(e,0),Zn(e,t,0,!0);break}e:{switch(s=e,u=o,u){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Zn(s,t,ua,!Qn);break e;case 2:Wt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(o=Ur+300-_t(),10<o)){if(Zn(s,t,ua,!Qn),Ja(s,0,!0)!==0)break e;_n=t,s.timeoutHandle=lm(Of.bind(null,s,a,Wt,Mr,Qu,t,ua,As,ri,Qn,u,"Throttled",-0,0),o);break e}Of(s,a,Wt,Mr,Qu,t,ua,As,ri,Qn,u,null,-0,0)}}break}while(!0);en(e)}function Of(e,t,a,s,o,u,m,v,w,R,G,J,D,B){if(e.timeoutHandle=-1,J=t.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:L},wf(t,u,J);var ce=(u&62914560)===u?Ur-_t():(u&4194048)===u?jf-_t():0;if(ce=Iy(J,ce),ce!==null){_n=u,e.cancelPendingCommit=ce(Lf.bind(null,e,t,u,a,s,o,m,v,w,G,J,null,D,B)),Zn(e,u,m,!R);return}}Lf(e,t,u,a,s,o,m,v,w)}function dy(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var o=a[s],u=o.getSnapshot;o=o.value;try{if(!sa(u(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zn(e,t,a,s){t&=~Ku,t&=~As,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var o=t;0<o;){var u=31-nt(o),m=1<<u;s[u]=-1,o&=~m}a!==0&&os(e,a,t)}function zr(){return(Me&6)===0?(fl(0),!1):!0}function Zu(){if(Te!==null){if(qe===0)var e=Te.return;else e=Te,cn=bs=null,hu(e),Fs=null,Ii=0,e=Te;for(;e!==null;)rf(e.alternate,e),e=e.return;Te=null}}function ui(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,ky(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),_n=0,Zu(),Qe=e,Te=a=on(e.current,null),Ne=t,qe=0,oa=null,Qn=!1,li=va(e,t),Yu=!1,ri=ua=Ku=As=Jn=lt=0,Wt=dl=null,Qu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var o=31-nt(s),u=1<<o;t|=e[o],s&=~u}return xn=t,nr(),a}function kf(e,t){we=null,C.H=nl,t===Ws||t===dr?(t=Qd(),qe=3):t===eu?(t=Qd(),qe=4):qe=t===Au?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,oa=t,Te===null&&(lt=1,Er(e,_a(t,e.current)))}function Rf(){var e=la.current;return e===null?!0:(Ne&4194048)===Ne?Ea===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?e===Ea:!1}function Uf(){var e=C.H;return C.H=nl,e===null?nl:e}function Df(){var e=C.A;return C.A=uy,e}function Br(){lt=4,Qn||(Ne&4194048)!==Ne&&la.current!==null||(li=!0),(Jn&134217727)===0&&(As&134217727)===0||Qe===null||Zn(Qe,Ne,ua,!1)}function Pu(e,t,a){var s=Me;Me|=2;var o=Uf(),u=Df();(Qe!==e||Ne!==t)&&(Mr=null,ui(e,t)),t=!1;var m=lt;e:do try{if(qe!==0&&Te!==null){var v=Te,w=oa;switch(qe){case 8:Zu(),m=6;break e;case 3:case 2:case 9:case 6:la.current===null&&(t=!0);var R=qe;if(qe=0,oa=null,ci(e,v,w,R),a&&li){m=0;break e}break;default:R=qe,qe=0,oa=null,ci(e,v,w,R)}}hy(),m=lt;break}catch(G){kf(e,G)}while(!0);return t&&e.shellSuspendCounter++,cn=bs=null,Me=s,C.H=o,C.A=u,Te===null&&(Qe=null,Ne=0,nr()),m}function hy(){for(;Te!==null;)Mf(Te)}function fy(e,t){var a=Me;Me|=2;var s=Uf(),o=Df();Qe!==e||Ne!==t?(Mr=null,Dr=_t()+500,ui(e,t)):li=va(e,t);e:do try{if(qe!==0&&Te!==null){t=Te;var u=oa;t:switch(qe){case 1:qe=0,oa=null,ci(e,t,u,1);break;case 2:case 9:if(Yd(u)){qe=0,oa=null,zf(t);break}t=function(){qe!==2&&qe!==9||Qe!==e||(qe=7),en(e)},u.then(t,t);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:Yd(u)?(qe=0,oa=null,zf(t)):(qe=0,oa=null,ci(e,t,u,7));break;case 5:var m=null;switch(Te.tag){case 26:m=Te.memoizedState;case 5:case 27:var v=Te;if(m?_m(m):v.stateNode.complete){qe=0,oa=null;var w=v.sibling;if(w!==null)Te=w;else{var R=v.return;R!==null?(Te=R,Lr(R)):Te=null}break t}}qe=0,oa=null,ci(e,t,u,5);break;case 6:qe=0,oa=null,ci(e,t,u,6);break;case 8:Zu(),lt=6;break e;default:throw Error(r(462))}}my();break}catch(G){kf(e,G)}while(!0);return cn=bs=null,C.H=s,C.A=o,Me=a,Te!==null?0:(Qe=null,Ne=0,nr(),lt)}function my(){for(;Te!==null&&!Vl();)Mf(Te)}function Mf(e){var t=sf(e.alternate,e,xn);e.memoizedProps=e.pendingProps,t===null?Lr(e):Te=t}function zf(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Wh(a,t,t.pendingProps,t.type,void 0,Ne);break;case 11:t=Wh(a,t,t.pendingProps,t.type.render,t.ref,Ne);break;case 5:hu(t);default:rf(a,t),t=Te=Ud(t,xn),t=sf(a,t,xn)}e.memoizedProps=e.pendingProps,t===null?Lr(e):Te=t}function ci(e,t,a,s){cn=bs=null,hu(t),Fs=null,Ii=0;var o=t.return;try{if(ay(e,o,t,a,Ne)){lt=1,Er(e,_a(a,e.current)),Te=null;return}}catch(u){if(o!==null)throw Te=o,u;lt=1,Er(e,_a(a,e.current)),Te=null;return}t.flags&32768?(Oe||s===1?e=!0:li||(Ne&536870912)!==0?e=!1:(Qn=e=!0,(s===2||s===9||s===3||s===6)&&(s=la.current,s!==null&&s.tag===13&&(s.flags|=16384))),Bf(t,e)):Lr(t)}function Lr(e){var t=e;do{if((t.flags&32768)!==0){Bf(t,Qn);return}e=t.return;var a=iy(t.alternate,t,xn);if(a!==null){Te=a;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);lt===0&&(lt=5)}function Bf(e,t){do{var a=ly(e.alternate,e);if(a!==null){a.flags&=32767,Te=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Te=e;return}Te=e=a}while(e!==null);lt=6,Te=null}function Lf(e,t,a,s,o,u,m,v,w){e.cancelPendingCommit=null;do qr();while(Et!==0);if((Me&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(u=t.lanes|t.childLanes,u|=qo,Bs(e,a,u,m,v,w),e===Qe&&(Te=Qe=null,Ne=0),oi=t,In=e,_n=a,Ju=u,Xu=o,Nf=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,vy(Qa,function(){return Vf(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=C.T,C.T=null,o=$.p,$.p=2,m=Me,Me|=4;try{ry(e,t,a)}finally{Me=m,$.p=o,C.T=s}}Et=1,qf(),Hf(),$f()}}function qf(){if(Et===1){Et=0;var e=In,t=oi,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=C.T,C.T=null;var s=$.p;$.p=2;var o=Me;Me|=4;try{bf(t,e);var u=uc,m=Td(e.containerInfo),v=u.focusedElem,w=u.selectionRange;if(m!==v&&v&&v.ownerDocument&&Sd(v.ownerDocument.documentElement,v)){if(w!==null&&Do(v)){var R=w.start,G=w.end;if(G===void 0&&(G=R),"selectionStart"in v)v.selectionStart=R,v.selectionEnd=Math.min(G,v.value.length);else{var J=v.ownerDocument||document,D=J&&J.defaultView||window;if(D.getSelection){var B=D.getSelection(),ce=v.textContent.length,ye=Math.min(w.start,ce),Ye=w.end===void 0?ye:Math.min(w.end,ce);!B.extend&&ye>Ye&&(m=Ye,Ye=ye,ye=m);var O=wd(v,ye),T=wd(v,Ye);if(O&&T&&(B.rangeCount!==1||B.anchorNode!==O.node||B.anchorOffset!==O.offset||B.focusNode!==T.node||B.focusOffset!==T.offset)){var k=J.createRange();k.setStart(O.node,O.offset),B.removeAllRanges(),ye>Ye?(B.addRange(k),B.extend(T.node,T.offset)):(k.setEnd(T.node,T.offset),B.addRange(k))}}}}for(J=[],B=v;B=B.parentNode;)B.nodeType===1&&J.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<J.length;v++){var K=J[v];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Pr=!!oc,uc=oc=null}finally{Me=o,$.p=s,C.T=a}}e.current=t,Et=2}}function Hf(){if(Et===2){Et=0;var e=In,t=oi,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=C.T,C.T=null;var s=$.p;$.p=2;var o=Me;Me|=4;try{mf(e,t.alternate,t)}finally{Me=o,$.p=s,C.T=a}}Et=3}}function $f(){if(Et===4||Et===3){Et=0,En();var e=In,t=oi,a=_n,s=Nf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Et=5:(Et=0,oi=In=null,Gf(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Xn=null),Ht(a),t=t.stateNode,at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(At,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=C.T,o=$.p,$.p=2,C.T=null;try{for(var u=e.onRecoverableError,m=0;m<s.length;m++){var v=s[m];u(v.value,{componentStack:v.stack})}}finally{C.T=t,$.p=o}}(_n&3)!==0&&qr(),en(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===Iu?hl++:(hl=0,Iu=e):hl=0,fl(0)}}function Gf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ji(t)))}function qr(){return qf(),Hf(),$f(),Vf()}function Vf(){if(Et!==5)return!1;var e=In,t=Ju;Ju=0;var a=Ht(_n),s=C.T,o=$.p;try{$.p=32>a?32:a,C.T=null,a=Xu,Xu=null;var u=In,m=_n;if(Et=0,oi=In=null,_n=0,(Me&6)!==0)throw Error(r(331));var v=Me;if(Me|=4,Tf(u.current),_f(u,u.current,m,a),Me=v,fl(0,!1),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(At,u)}catch{}return!0}finally{$.p=o,C.T=s,Gf(e,t)}}function Yf(e,t,a){t=_a(a,t),t=Nu(e.stateNode,t,2),e=Gn(e,t,2),e!==null&&(Xa(e,2),en(e))}function He(e,t,a){if(e.tag===3)Yf(e,e,a);else for(;t!==null;){if(t.tag===3){Yf(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Xn===null||!Xn.has(s))){e=_a(a,e),a=Yh(2),s=Gn(t,a,2),s!==null&&(Kh(a,s,t,e),Xa(s,2),en(s));break}}t=t.return}}function Wu(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new cy;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(a)||(Yu=!0,o.add(a),e=gy.bind(null,e,t,a),t.then(e,e))}function gy(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Qe===e&&(Ne&a)===a&&(lt===4||lt===3&&(Ne&62914560)===Ne&&300>_t()-Ur?(Me&2)===0&&ui(e,0):Ku|=a,ri===Ne&&(ri=0)),en(e)}function Kf(e,t){t===0&&(t=nn()),e=ys(e,t),e!==null&&(Xa(e,t),en(e))}function yy(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Kf(e,a)}function py(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(r(314))}s!==null&&s.delete(t),Kf(e,a)}function vy(e,t){return ya(e,t)}var Hr=null,di=null,Fu=!1,$r=!1,ec=!1,Pn=0;function en(e){e!==di&&e.next===null&&(di===null?Hr=di=e:di=di.next=e),$r=!0,Fu||(Fu=!0,xy())}function fl(e,t){if(!ec&&$r){ec=!0;do for(var a=!1,s=Hr;s!==null;){if(e!==0){var o=s.pendingLanes;if(o===0)var u=0;else{var m=s.suspendedLanes,v=s.pingedLanes;u=(1<<31-nt(42|e)+1)-1,u&=o&~(m&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,If(s,u))}else u=Ne,u=Ja(s,s===Qe?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||va(s,u)||(a=!0,If(s,u));s=s.next}while(a);ec=!1}}function by(){Qf()}function Qf(){$r=Fu=!1;var e=0;Pn!==0&&Oy()&&(e=Pn);for(var t=_t(),a=null,s=Hr;s!==null;){var o=s.next,u=Jf(s,t);u===0?(s.next=null,a===null?Hr=o:a.next=o,o===null&&(di=a)):(a=s,(e!==0||(u&3)!==0)&&($r=!0)),s=o}Et!==0&&Et!==5||fl(e),Pn!==0&&(Pn=0)}function Jf(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var m=31-nt(u),v=1<<m,w=o[m];w===-1?((v&a)===0||(v&s)!==0)&&(o[m]=an(v,t)):w<=t&&(e.expiredLanes|=v),u&=~v}if(t=Qe,a=Ne,a=Ja(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(qe===2||qe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Ms(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||va(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&Ms(s),Ht(a)){case 2:case 8:a=We;break;case 32:a=Qa;break;case 268435456:a=Nn;break;default:a=Qa}return s=Xf.bind(null,e),a=ya(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&Ms(s),e.callbackPriority=2,e.callbackNode=null,2}function Xf(e,t){if(Et!==0&&Et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(qr()&&e.callbackNode!==a)return null;var s=Ne;return s=Ja(e,e===Qe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Cf(e,s,t),Jf(e,_t()),e.callbackNode!=null&&e.callbackNode===a?Xf.bind(null,e):null)}function If(e,t){if(qr())return null;Cf(e,t,!0)}function xy(){Ry(function(){(Me&6)!==0?ya(jn,by):Qf()})}function tc(){if(Pn===0){var e=Zs;e===0&&(e=Kt,Kt<<=1,(Kt&261888)===0&&(Kt=256)),Pn=e}return Pn}function Zf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:E(""+e)}function Pf(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function _y(e,t,a,s,o){if(t==="submit"&&a&&a.stateNode===o){var u=Zf((o[Ct]||null).action),m=s.submitter;m&&(t=(t=m[Ct]||null)?Zf(t.formAction):m.getAttribute("formAction"),t!==null&&(u=t,m=null));var v=new Fl("action","action",null,s,o);e.push({event:v,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Pn!==0){var w=m?Pf(o,m):new FormData(o);_u(a,{pending:!0,data:w,method:o.method,action:u},null,w)}}else typeof u=="function"&&(v.preventDefault(),w=m?Pf(o,m):new FormData(o),_u(a,{pending:!0,data:w,method:o.method,action:u},u,w))},currentTarget:o}]})}}for(var ac=0;ac<Lo.length;ac++){var nc=Lo[ac],wy=nc.toLowerCase(),Sy=nc[0].toUpperCase()+nc.slice(1);La(wy,"on"+Sy)}La(Nd,"onAnimationEnd"),La(Ad,"onAnimationIteration"),La(Cd,"onAnimationStart"),La("dblclick","onDoubleClick"),La("focusin","onFocus"),La("focusout","onBlur"),La(qg,"onTransitionRun"),La(Hg,"onTransitionStart"),La($g,"onTransitionCancel"),La(Od,"onTransitionEnd"),On("onMouseEnter",["mouseout","mouseover"]),On("onMouseLeave",["mouseout","mouseover"]),On("onPointerEnter",["pointerout","pointerover"]),On("onPointerLeave",["pointerout","pointerover"]),ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ty=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function Wf(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],o=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var m=s.length-1;0<=m;m--){var v=s[m],w=v.instance,R=v.currentTarget;if(v=v.listener,w!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=R;try{u(o)}catch(G){ar(G)}o.currentTarget=null,u=w}else for(m=0;m<s.length;m++){if(v=s[m],w=v.instance,R=v.currentTarget,v=v.listener,w!==u&&o.isPropagationStopped())break e;u=v,o.currentTarget=R;try{u(o)}catch(G){ar(G)}o.currentTarget=null,u=w}}}}function Ee(e,t){var a=t[ea];a===void 0&&(a=t[ea]=new Set);var s=e+"__bubble";a.has(s)||(Ff(t,e,2,!1),a.add(s))}function sc(e,t,a){var s=0;t&&(s|=4),Ff(a,e,s,t)}var Gr="_reactListening"+Math.random().toString(36).slice(2);function ic(e){if(!e[Gr]){e[Gr]=!0,Ui.forEach(function(a){a!=="selectionchange"&&(Ty.has(a)||sc(a,!1,e),sc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gr]||(t[Gr]=!0,sc("selectionchange",!1,t))}}function Ff(e,t,a,s){switch(Am(t)){case 2:var o=Wy;break;case 8:o=Fy;break;default:o=xc}a=o.bind(null,t,a,e),o=void 0,!aa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function lc(e,t,a,s,o){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var v=s.stateNode.containerInfo;if(v===o)break;if(m===4)for(m=s.return;m!==null;){var w=m.tag;if((w===3||w===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;v!==null;){if(m=ct(v),m===null)return;if(w=m.tag,w===5||w===6||w===26||w===27){s=u=m;continue e}v=v.parentNode}}s=s.return}ke(function(){var R=u,G=ee(a),J=[];e:{var D=kd.get(e);if(D!==void 0){var B=Fl,ce=e;switch(e){case"keypress":if(Dn(a)===0)break e;case"keydown":case"keyup":B=pg;break;case"focusin":ce="focus",B=Co;break;case"focusout":ce="blur",B=Co;break;case"beforeblur":case"afterblur":B=Co;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=ld;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=ig;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=xg;break;case Nd:case Ad:case Cd:B=og;break;case Od:B=wg;break;case"scroll":case"scrollend":B=ng;break;case"wheel":B=Tg;break;case"copy":case"cut":case"paste":B=cg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=od;break;case"toggle":case"beforetoggle":B=jg}var ye=(t&4)!==0,Ye=!ye&&(e==="scroll"||e==="scrollend"),O=ye?D!==null?D+"Capture":null:D;ye=[];for(var T=R,k;T!==null;){var K=T;if(k=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||k===null||O===null||(K=De(T,O),K!=null&&ye.push(gl(T,K,k))),Ye)break;T=T.return}0<ye.length&&(D=new B(D,ce,null,a,G),J.push({event:D,listeners:ye}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",D&&a!==F&&(ce=a.relatedTarget||a.fromElement)&&(ct(ce)||ce[wt]))break e;if((B||D)&&(D=G.window===G?G:(D=G.ownerDocument)?D.defaultView||D.parentWindow:window,B?(ce=a.relatedTarget||a.toElement,B=R,ce=ce?ct(ce):null,ce!==null&&(Ye=d(ce),ye=ce.tag,ce!==Ye||ye!==5&&ye!==27&&ye!==6)&&(ce=null)):(B=null,ce=R),B!==ce)){if(ye=ld,K="onMouseLeave",O="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(ye=od,K="onPointerLeave",O="onPointerEnter",T="pointer"),Ye=B==null?D:Qt(B),k=ce==null?D:Qt(ce),D=new ye(K,T+"leave",B,a,G),D.target=Ye,D.relatedTarget=k,K=null,ct(G)===R&&(ye=new ye(O,T+"enter",ce,a,G),ye.target=k,ye.relatedTarget=Ye,K=ye),Ye=K,B&&ce)t:{for(ye=Ey,O=B,T=ce,k=0,K=O;K;K=ye(K))k++;K=0;for(var me=T;me;me=ye(me))K++;for(;0<k-K;)O=ye(O),k--;for(;0<K-k;)T=ye(T),K--;for(;k--;){if(O===T||T!==null&&O===T.alternate){ye=O;break t}O=ye(O),T=ye(T)}ye=null}else ye=null;B!==null&&em(J,D,B,ye,!1),ce!==null&&Ye!==null&&em(J,Ye,ce,ye,!0)}}e:{if(D=R?Qt(R):window,B=D.nodeName&&D.nodeName.toLowerCase(),B==="select"||B==="input"&&D.type==="file")var Re=yd;else if(md(D))if(pd)Re=zg;else{Re=Dg;var de=Ug}else B=D.nodeName,!B||B.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?R&&rn(R.elementType)&&(Re=yd):Re=Mg;if(Re&&(Re=Re(e,R))){gd(J,Re,a,G);break e}de&&de(e,D,R),e==="focusout"&&R&&D.type==="number"&&R.memoizedProps.value!=null&&Bi(D,"number",D.value)}switch(de=R?Qt(R):window,e){case"focusin":(md(de)||de.contentEditable==="true")&&(Gs=de,Mo=R,Yi=null);break;case"focusout":Yi=Mo=Gs=null;break;case"mousedown":zo=!0;break;case"contextmenu":case"mouseup":case"dragend":zo=!1,Ed(J,a,G);break;case"selectionchange":if(Lg)break;case"keydown":case"keyup":Ed(J,a,G)}var Se;if(ko)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else $s?hd(e,a)&&(Ae="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(ud&&a.locale!=="ko"&&($s||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&$s&&(Se=Jt()):(se=G,$e="value"in se?se.value:se.textContent,$s=!0)),de=Vr(R,Ae),0<de.length&&(Ae=new rd(Ae,e,null,a,G),J.push({event:Ae,listeners:de}),Se?Ae.data=Se:(Se=fd(a),Se!==null&&(Ae.data=Se)))),(Se=Ag?Cg(e,a):Og(e,a))&&(Ae=Vr(R,"onBeforeInput"),0<Ae.length&&(de=new rd("onBeforeInput","beforeinput",null,a,G),J.push({event:de,listeners:Ae}),de.data=Se)),_y(J,e,R,a,G)}Wf(J,t)})}function gl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Vr(e,t){for(var a=t+"Capture",s=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=De(e,a),o!=null&&s.unshift(gl(e,o,u)),o=De(e,t),o!=null&&s.push(gl(e,o,u))),e.tag===3)return s;e=e.return}return[]}function Ey(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function em(e,t,a,s,o){for(var u=t._reactName,m=[];a!==null&&a!==s;){var v=a,w=v.alternate,R=v.stateNode;if(v=v.tag,w!==null&&w===s)break;v!==5&&v!==26&&v!==27||R===null||(w=R,o?(R=De(a,u),R!=null&&m.unshift(gl(a,R,w))):o||(R=De(a,u),R!=null&&m.push(gl(a,R,w)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var jy=/\r\n?/g,Ny=/\u0000|\uFFFD/g;function tm(e){return(typeof e=="string"?e:""+e).replace(jy,`
`).replace(Ny,"")}function am(e,t){return t=tm(t),tm(e)===t}function Ve(e,t,a,s,o,u){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||ba(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&ba(e,""+s);break;case"className":Hs(e,"class",s);break;case"tabIndex":Hs(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Hs(e,a,s);break;case"style":Un(e,s,u);break;case"data":if(t!=="object"){Hs(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=E(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&Ve(e,t,"name",o.name,o,null),Ve(e,t,"formEncType",o.formEncType,o,null),Ve(e,t,"formMethod",o.formMethod,o,null),Ve(e,t,"formTarget",o.formTarget,o,null)):(Ve(e,t,"encType",o.encType,o,null),Ve(e,t,"method",o.method,o,null),Ve(e,t,"target",o.target,o,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=E(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=L);break;case"onScroll":s!=null&&Ee("scroll",e);break;case"onScrollEnd":s!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=E(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),qs(e,"popover",s);break;case"xlinkActuate":Lt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Lt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Lt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Lt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Lt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Lt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Lt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Lt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Lt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":qs(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Wl.get(a)||a,qs(e,a,s))}}function rc(e,t,a,s,o,u){switch(a){case"style":Un(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(r(61));if(a=s.__html,a!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof s=="string"?ba(e,s):(typeof s=="number"||typeof s=="bigint")&&ba(e,""+s);break;case"onScroll":s!=null&&Ee("scroll",e);break;case"onScrollEnd":s!=null&&Ee("scrollend",e);break;case"onClick":s!=null&&(e.onclick=L);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cn.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),u=e[Ct]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof s=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,o);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):qs(e,a,s)}}}function Ut(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var s=!1,o=!1,u;for(u in a)if(a.hasOwnProperty(u)){var m=a[u];if(m!=null)switch(u){case"src":s=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ve(e,t,u,m,a,null)}}o&&Ve(e,t,"srcSet",a.srcSet,a,null),s&&Ve(e,t,"src",a.src,a,null);return;case"input":Ee("invalid",e);var v=u=m=o=null,w=null,R=null;for(s in a)if(a.hasOwnProperty(s)){var G=a[s];if(G!=null)switch(s){case"name":o=G;break;case"type":m=G;break;case"checked":w=G;break;case"defaultChecked":R=G;break;case"value":u=G;break;case"defaultValue":v=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,t));break;default:Ve(e,t,s,G,a,null)}}Il(e,u,v,w,R,m,o,!1);return;case"select":Ee("invalid",e),s=m=u=null;for(o in a)if(a.hasOwnProperty(o)&&(v=a[o],v!=null))switch(o){case"value":u=v;break;case"defaultValue":m=v;break;case"multiple":s=v;default:Ve(e,t,o,v,a,null)}t=u,a=m,e.multiple=!!s,t!=null?kn(e,!!s,t,!1):a!=null&&kn(e,!!s,a,!0);return;case"textarea":Ee("invalid",e),u=o=s=null;for(m in a)if(a.hasOwnProperty(m)&&(v=a[m],v!=null))switch(m){case"value":s=v;break;case"defaultValue":o=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Ve(e,t,m,v,a,null)}Pl(e,s,o,u);return;case"option":for(w in a)a.hasOwnProperty(w)&&(s=a[w],s!=null)&&(w==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":Ve(e,t,w,s,a,null));return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(s=0;s<ml.length;s++)Ee(ml[s],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(s=a[R],s!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ve(e,t,R,s,a,null)}return;default:if(rn(t)){for(G in a)a.hasOwnProperty(G)&&(s=a[G],s!==void 0&&rc(e,t,G,s,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(s=a[v],s!=null&&Ve(e,t,v,s,a,null))}function Ay(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,m=null,v=null,w=null,R=null,G=null;for(B in a){var J=a[B];if(a.hasOwnProperty(B)&&J!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":w=J;default:s.hasOwnProperty(B)||Ve(e,t,B,null,s,J)}}for(var D in s){var B=s[D];if(J=a[D],s.hasOwnProperty(D)&&(B!=null||J!=null))switch(D){case"type":u=B;break;case"name":o=B;break;case"checked":R=B;break;case"defaultChecked":G=B;break;case"value":m=B;break;case"defaultValue":v=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,t));break;default:B!==J&&Ve(e,t,D,B,s,J)}}zi(e,m,v,w,R,G,u,o);return;case"select":B=m=v=D=null;for(u in a)if(w=a[u],a.hasOwnProperty(u)&&w!=null)switch(u){case"value":break;case"multiple":B=w;default:s.hasOwnProperty(u)||Ve(e,t,u,null,s,w)}for(o in s)if(u=s[o],w=a[o],s.hasOwnProperty(o)&&(u!=null||w!=null))switch(o){case"value":D=u;break;case"defaultValue":v=u;break;case"multiple":m=u;default:u!==w&&Ve(e,t,o,u,s,w)}t=v,a=m,s=B,D!=null?kn(e,!!a,D,!1):!!s!=!!a&&(t!=null?kn(e,!!a,t,!0):kn(e,!!a,a?[]:"",!1));return;case"textarea":B=D=null;for(v in a)if(o=a[v],a.hasOwnProperty(v)&&o!=null&&!s.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ve(e,t,v,null,s,o)}for(m in s)if(o=s[m],u=a[m],s.hasOwnProperty(m)&&(o!=null||u!=null))switch(m){case"value":D=o;break;case"defaultValue":B=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==u&&Ve(e,t,m,o,s,u)}Zl(e,D,B);return;case"option":for(var ce in a)D=a[ce],a.hasOwnProperty(ce)&&D!=null&&!s.hasOwnProperty(ce)&&(ce==="selected"?e.selected=!1:Ve(e,t,ce,null,s,D));for(w in s)D=s[w],B=a[w],s.hasOwnProperty(w)&&D!==B&&(D!=null||B!=null)&&(w==="selected"?e.selected=D&&typeof D!="function"&&typeof D!="symbol":Ve(e,t,w,D,s,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)D=a[ye],a.hasOwnProperty(ye)&&D!=null&&!s.hasOwnProperty(ye)&&Ve(e,t,ye,null,s,D);for(R in s)if(D=s[R],B=a[R],s.hasOwnProperty(R)&&D!==B&&(D!=null||B!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:Ve(e,t,R,D,s,B)}return;default:if(rn(t)){for(var Ye in a)D=a[Ye],a.hasOwnProperty(Ye)&&D!==void 0&&!s.hasOwnProperty(Ye)&&rc(e,t,Ye,void 0,s,D);for(G in s)D=s[G],B=a[G],!s.hasOwnProperty(G)||D===B||D===void 0&&B===void 0||rc(e,t,G,D,s,B);return}}for(var O in a)D=a[O],a.hasOwnProperty(O)&&D!=null&&!s.hasOwnProperty(O)&&Ve(e,t,O,null,s,D);for(J in s)D=s[J],B=a[J],!s.hasOwnProperty(J)||D===B||D==null&&B==null||Ve(e,t,J,D,s,B)}function nm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Cy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var o=a[s],u=o.transferSize,m=o.initiatorType,v=o.duration;if(u&&v&&nm(m)){for(m=0,v=o.responseEnd,s+=1;s<a.length;s++){var w=a[s],R=w.startTime;if(R>v)break;var G=w.transferSize,J=w.initiatorType;G&&nm(J)&&(w=w.responseEnd,m+=G*(w<v?1:(v-R)/(w-R)))}if(--s,t+=8*(u+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var oc=null,uc=null;function Yr(e){return e.nodeType===9?e:e.ownerDocument}function sm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function im(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function cc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dc=null;function Oy(){var e=window.event;return e&&e.type==="popstate"?e===dc?!1:(dc=e,!0):(dc=null,!1)}var lm=typeof setTimeout=="function"?setTimeout:void 0,ky=typeof clearTimeout=="function"?clearTimeout:void 0,rm=typeof Promise=="function"?Promise:void 0,Ry=typeof queueMicrotask=="function"?queueMicrotask:typeof rm<"u"?function(e){return rm.resolve(null).then(e).catch(Uy)}:lm;function Uy(e){setTimeout(function(){throw e})}function Wn(e){return e==="head"}function om(e,t){var a=t,s=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(o),gi(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")yl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,yl(a);for(var u=a.firstChild;u;){var m=u.nextSibling,v=u.nodeName;u[Xe]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=m}}else a==="body"&&yl(e.ownerDocument.body);a=o}while(a);gi(t)}function um(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function hc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hc(a),Ba(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Dy(e,t,a,s){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Xe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=ja(e.nextSibling),e===null)break}return null}function My(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ja(e.nextSibling),e===null))return null;return e}function cm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ja(e.nextSibling),e===null))return null;return e}function fc(e){return e.data==="$?"||e.data==="$~"}function mc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function zy(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function ja(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var gc=null;function dm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return ja(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function hm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function fm(e,t,a){switch(t=Yr(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function yl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ba(e)}var Na=new Map,mm=new Set;function Kr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wn=$.d;$.d={f:By,r:Ly,D:qy,C:Hy,L:$y,m:Gy,X:Yy,S:Vy,M:Ky};function By(){var e=wn.f(),t=zr();return e||t}function Ly(e){var t=$t(e);t!==null&&t.tag===5&&t.type==="form"?Oh(t):wn.r(e)}var hi=typeof document>"u"?null:document;function gm(e,t,a){var s=hi;if(s&&typeof t=="string"&&t){var o=Gt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),mm.has(o)||(mm.add(o),e={rel:e,crossOrigin:a,href:t},s.querySelector(o)===null&&(t=s.createElement("link"),Ut(t,"link",e),dt(t),s.head.appendChild(t)))}}function qy(e){wn.D(e),gm("dns-prefetch",e,null)}function Hy(e,t){wn.C(e,t),gm("preconnect",e,t)}function $y(e,t,a){wn.L(e,t,a);var s=hi;if(s&&e&&t){var o='link[rel="preload"][as="'+Gt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+Gt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+Gt(a.imageSizes)+'"]')):o+='[href="'+Gt(e)+'"]';var u=o;switch(t){case"style":u=fi(e);break;case"script":u=mi(e)}Na.has(u)||(e=S({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Na.set(u,e),s.querySelector(o)!==null||t==="style"&&s.querySelector(pl(u))||t==="script"&&s.querySelector(vl(u))||(t=s.createElement("link"),Ut(t,"link",e),dt(t),s.head.appendChild(t)))}}function Gy(e,t){wn.m(e,t);var a=hi;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Gt(s)+'"][href="'+Gt(e)+'"]',u=o;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=mi(e)}if(!Na.has(u)&&(e=S({rel:"modulepreload",href:e},t),Na.set(u,e),a.querySelector(o)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(vl(u)))return}s=a.createElement("link"),Ut(s,"link",e),dt(s),a.head.appendChild(s)}}}function Vy(e,t,a){wn.S(e,t,a);var s=hi;if(s&&e){var o=Za(s).hoistableStyles,u=fi(e);t=t||"default";var m=o.get(u);if(!m){var v={loading:0,preload:null};if(m=s.querySelector(pl(u)))v.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Na.get(u))&&yc(e,a);var w=m=s.createElement("link");dt(w),Ut(w,"link",e),w._p=new Promise(function(R,G){w.onload=R,w.onerror=G}),w.addEventListener("load",function(){v.loading|=1}),w.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Qr(m,t,s)}m={type:"stylesheet",instance:m,count:1,state:v},o.set(u,m)}}}function Yy(e,t){wn.X(e,t);var a=hi;if(a&&e){var s=Za(a).hoistableScripts,o=mi(e),u=s.get(o);u||(u=a.querySelector(vl(o)),u||(e=S({src:e,async:!0},t),(t=Na.get(o))&&pc(e,t),u=a.createElement("script"),dt(u),Ut(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function Ky(e,t){wn.M(e,t);var a=hi;if(a&&e){var s=Za(a).hoistableScripts,o=mi(e),u=s.get(o);u||(u=a.querySelector(vl(o)),u||(e=S({src:e,async:!0,type:"module"},t),(t=Na.get(o))&&pc(e,t),u=a.createElement("script"),dt(u),Ut(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(o,u))}}function ym(e,t,a,s){var o=(o=be.current)?Kr(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=fi(a.href),a=Za(o).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=fi(a.href);var u=Za(o).hoistableStyles,m=u.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,m),(u=o.querySelector(pl(e)))&&!u._p&&(m.instance=u,m.state.loading=5),Na.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Na.set(e,a),u||Qy(o,e,a,m.state))),t&&s===null)throw Error(r(528,""));return m}if(t&&s!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=mi(a),a=Za(o).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function fi(e){return'href="'+Gt(e)+'"'}function pl(e){return'link[rel="stylesheet"]['+e+"]"}function pm(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Qy(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Ut(t,"link",a),dt(t),e.head.appendChild(t))}function mi(e){return'[src="'+Gt(e)+'"]'}function vl(e){return"script[async]"+e}function vm(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Gt(a.href)+'"]');if(s)return t.instance=s,dt(s),s;var o=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),dt(s),Ut(s,"style",o),Qr(s,a.precedence,e),t.instance=s;case"stylesheet":o=fi(a.href);var u=e.querySelector(pl(o));if(u)return t.state.loading|=4,t.instance=u,dt(u),u;s=pm(a),(o=Na.get(o))&&yc(s,o),u=(e.ownerDocument||e).createElement("link"),dt(u);var m=u;return m._p=new Promise(function(v,w){m.onload=v,m.onerror=w}),Ut(u,"link",s),t.state.loading|=4,Qr(u,a.precedence,e),t.instance=u;case"script":return u=mi(a.src),(o=e.querySelector(vl(u)))?(t.instance=o,dt(o),o):(s=a,(o=Na.get(u))&&(s=S({},a),pc(s,o)),e=e.ownerDocument||e,o=e.createElement("script"),dt(o),Ut(o,"link",s),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Qr(s,a.precedence,e));return t.instance}function Qr(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=s.length?s[s.length-1]:null,u=o,m=0;m<s.length;m++){var v=s[m];if(v.dataset.precedence===t)u=v;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function yc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function pc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Jr=null;function bm(e,t,a){if(Jr===null){var s=new Map,o=Jr=new Map;o.set(a,s)}else o=Jr,s=o.get(a),s||(s=new Map,o.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var u=a[o];if(!(u[Xe]||u[ut]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var m=u.getAttribute(t)||"";m=e+m;var v=s.get(m);v?v.push(u):s.set(m,[u])}}return s}function xm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Jy(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function _m(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Xy(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=fi(s.href),u=t.querySelector(pl(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Xr.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,dt(u);return}u=t.ownerDocument||t,s=pm(s),(o=Na.get(o))&&yc(s,o),u=u.createElement("link"),dt(u);var m=u;m._p=new Promise(function(v,w){m.onload=v,m.onerror=w}),Ut(u,"link",s),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Xr.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var vc=0;function Iy(e,t){return e.stylesheets&&e.count===0&&Zr(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Zr(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&vc===0&&(vc=62500*Cy());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zr(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>vc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(o)}}:null}function Xr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ir=null;function Zr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ir=new Map,t.forEach(Zy,e),Ir=null,Xr.call(e))}function Zy(e,t){if(!(t.state.loading&4)){var a=Ir.get(e);if(a)var s=a.get(null);else{a=new Map,Ir.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var m=o[u];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),s=m)}s&&a.set(null,s)}o=t.instance,m=o.getAttribute("data-precedence"),u=a.get(m)||s,u===s&&a.set(null,o),a.set(m,o),this.count++,s=Xr.bind(this),o.addEventListener("load",s),o.addEventListener("error",s),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var bl={$$typeof:M,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function Py(e,t,a,s,o,u,m,v,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ma(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.hiddenUpdates=Ma(null),this.identifierPrefix=s,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function wm(e,t,a,s,o,u,m,v,w,R,G,J){return e=new Py(e,t,a,m,w,R,G,J,v),t=1,u===!0&&(t|=24),u=ia(3,null,null,t),e.current=u,u.stateNode=e,t=Po(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:a,cache:t},tu(u),e}function Sm(e){return e?(e=Ks,e):Ks}function Tm(e,t,a,s,o,u){o=Sm(o),s.context===null?s.context=o:s.pendingContext=o,s=$n(t),s.payload={element:a},u=u===void 0?null:u,u!==null&&(s.callback=u),a=Gn(e,s,t),a!==null&&(Ft(a,e,t),Pi(a,e,t))}function Em(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function bc(e,t){Em(e,t),(e=e.alternate)&&Em(e,t)}function jm(e){if(e.tag===13||e.tag===31){var t=ys(e,67108864);t!==null&&Ft(t,e,67108864),bc(e,67108864)}}function Nm(e){if(e.tag===13||e.tag===31){var t=ca();t=sn(t);var a=ys(e,t);a!==null&&Ft(a,e,t),bc(e,t)}}var Pr=!0;function Wy(e,t,a,s){var o=C.T;C.T=null;var u=$.p;try{$.p=2,xc(e,t,a,s)}finally{$.p=u,C.T=o}}function Fy(e,t,a,s){var o=C.T;C.T=null;var u=$.p;try{$.p=8,xc(e,t,a,s)}finally{$.p=u,C.T=o}}function xc(e,t,a,s){if(Pr){var o=_c(s);if(o===null)lc(e,t,s,Wr,a),Cm(e,s);else if(tp(o,e,t,a,s))s.stopPropagation();else if(Cm(e,s),t&4&&-1<ep.indexOf(e)){for(;o!==null;){var u=$t(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var m=Bt(u.pendingLanes);if(m!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;m;){var w=1<<31-nt(m);v.entanglements[1]|=w,m&=~w}en(u),(Me&6)===0&&(Dr=_t()+500,fl(0))}}break;case 31:case 13:v=ys(u,2),v!==null&&Ft(v,u,2),zr(),bc(u,2)}if(u=_c(s),u===null&&lc(e,t,s,Wr,a),u===o)break;o=u}o!==null&&s.stopPropagation()}else lc(e,t,s,null,a)}}function _c(e){return e=ee(e),wc(e)}var Wr=null;function wc(e){if(Wr=null,e=ct(e),e!==null){var t=d(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Wr=e,null}function Am(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tt()){case jn:return 2;case We:return 8;case Qa:case ka:return 32;case Nn:return 268435456;default:return 32}default:return 32}}var Sc=!1,Fn=null,es=null,ts=null,xl=new Map,_l=new Map,as=[],ep="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cm(e,t){switch(e){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":xl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(t.pointerId)}}function wl(e,t,a,s,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:u,targetContainers:[o]},t!==null&&(t=$t(t),t!==null&&jm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function tp(e,t,a,s,o){switch(t){case"focusin":return Fn=wl(Fn,e,t,a,s,o),!0;case"dragenter":return es=wl(es,e,t,a,s,o),!0;case"mouseover":return ts=wl(ts,e,t,a,s,o),!0;case"pointerover":var u=o.pointerId;return xl.set(u,wl(xl.get(u)||null,e,t,a,s,o)),!0;case"gotpointercapture":return u=o.pointerId,_l.set(u,wl(_l.get(u)||null,e,t,a,s,o)),!0}return!1}function Om(e){var t=ct(e.target);if(t!==null){var a=d(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,Ls(e.priority,function(){Nm(a)});return}}else if(t===31){if(t=g(a),t!==null){e.blockedOn=t,Ls(e.priority,function(){Nm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=_c(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);F=s,a.target.dispatchEvent(s),F=null}else return t=$t(a),t!==null&&jm(t),e.blockedOn=a,!1;t.shift()}return!0}function km(e,t,a){Fr(e)&&a.delete(t)}function ap(){Sc=!1,Fn!==null&&Fr(Fn)&&(Fn=null),es!==null&&Fr(es)&&(es=null),ts!==null&&Fr(ts)&&(ts=null),xl.forEach(km),_l.forEach(km)}function eo(e,t){e.blockedOn===t&&(e.blockedOn=null,Sc||(Sc=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,ap)))}var to=null;function Rm(e){to!==e&&(to=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){to===e&&(to=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],o=e[t+2];if(typeof s!="function"){if(wc(s||a)===null)continue;break}var u=$t(a);u!==null&&(e.splice(t,3),t-=3,_u(u,{pending:!0,data:o,method:a.method,action:s},s,o))}}))}function gi(e){function t(w){return eo(w,e)}Fn!==null&&eo(Fn,e),es!==null&&eo(es,e),ts!==null&&eo(ts,e),xl.forEach(t),_l.forEach(t);for(var a=0;a<as.length;a++){var s=as[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<as.length&&(a=as[0],a.blockedOn===null);)Om(a),a.blockedOn===null&&as.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var o=a[s],u=a[s+1],m=o[Ct]||null;if(typeof u=="function")m||Rm(a);else if(m){var v=null;if(u&&u.hasAttribute("formAction")){if(o=u,m=u[Ct]||null)v=m.formAction;else if(wc(o)!==null)continue}else v=m.action;typeof v=="function"?a[s+1]=v:(a.splice(s,3),s-=3),Rm(a)}}}function Um(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Tc(e){this._internalRoot=e}ao.prototype.render=Tc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,s=ca();Tm(a,s,e,t,null,null)},ao.prototype.unmount=Tc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tm(e.current,2,null,e,null,null),zr(),t[wt]=null}};function ao(e){this._internalRoot=e}ao.prototype.unstable_scheduleHydration=function(e){if(e){var t=An();e={blockedOn:null,target:e,priority:t};for(var a=0;a<as.length&&t!==0&&t<as[a].priority;a++);as.splice(a,0,e),a===0&&Om(e)}};var Dm=n.version;if(Dm!=="19.2.3")throw Error(r(527,Dm,"19.2.3"));$.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var np={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var no=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!no.isDisabled&&no.supportsFiber)try{At=no.inject(np),at=no}catch{}}return Tl.createRoot=function(e,t){if(!c(e))throw Error(r(299));var a=!1,s="",o=Hh,u=$h,m=Gh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=wm(e,1,!1,null,null,a,s,null,o,u,m,Um),e[wt]=t.current,ic(e),new Tc(t)},Tl.hydrateRoot=function(e,t,a){if(!c(e))throw Error(r(299));var s=!1,o="",u=Hh,m=$h,v=Gh,w=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),t=wm(e,1,!0,t,a??null,s,o,w,u,m,v,Um),t.context=Sm(null),a=t.current,s=ca(),s=sn(s),o=$n(s),o.callback=null,Gn(a,o,s),a=s,t.current.lanes=a,Xa(t,a),en(t),e[wt]=t.current,ic(e),new ao(t)},Tl.version="19.2.3",Tl}var Ym;function fp(){if(Ym)return Nc.exports;Ym=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Nc.exports=hp(),Nc.exports}var mp=fp();function bo(i,n){var l={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&n.indexOf(r)<0&&(l[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(i);c<r.length;c++)n.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(i,r[c])&&(l[r[c]]=i[r[c]]);return l}function gp(i,n,l,r){function c(d){return d instanceof l?d:new l(function(f){f(d)})}return new(l||(l=Promise))(function(d,f){function g(b){try{y(r.next(b))}catch(S){f(S)}}function p(b){try{y(r.throw(b))}catch(S){f(S)}}function y(b){b.done?d(b.value):c(b.value).then(g,p)}y((r=r.apply(i,n||[])).next())})}const yp=i=>i?(...n)=>i(...n):(...n)=>fetch(...n);class ed extends Error{constructor(n,l="FunctionsError",r){super(n),this.name=l,this.context=r}}class pp extends ed{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Km extends ed{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class Qm extends ed{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Hc;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Hc||(Hc={}));class vp{constructor(n,{headers:l={},customFetch:r,region:c=Hc.Any}={}){this.url=n,this.headers=l,this.region=c,this.fetch=yp(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return gp(this,arguments,void 0,function*(l,r={}){var c;let d,f;try{const{headers:g,method:p,body:y,signal:b,timeout:S}=r;let N={},{region:A}=r;A||(A=this.region);const U=new URL(`${this.url}/${l}`);A&&A!=="any"&&(N["x-region"]=A,U.searchParams.set("forceFunctionRegion",A));let H;y&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(N["Content-Type"]="application/octet-stream",H=y):typeof y=="string"?(N["Content-Type"]="text/plain",H=y):typeof FormData<"u"&&y instanceof FormData?H=y:(N["Content-Type"]="application/json",H=JSON.stringify(y)):y&&typeof y!="string"&&!(typeof Blob<"u"&&y instanceof Blob)&&!(y instanceof ArrayBuffer)&&!(typeof FormData<"u"&&y instanceof FormData)?H=JSON.stringify(y):H=y;let Q=b;S&&(f=new AbortController,d=setTimeout(()=>f.abort(),S),b?(Q=f.signal,b.addEventListener("abort",()=>f.abort())):Q=f.signal);const Y=yield this.fetch(U.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},N),this.headers),g),body:H,signal:Q}).catch(oe=>{throw new pp(oe)}),q=Y.headers.get("x-relay-error");if(q&&q==="true")throw new Km(Y);if(!Y.ok)throw new Qm(Y);let M=((c=Y.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),P;return M==="application/json"?P=yield Y.json():M==="application/octet-stream"||M==="application/pdf"?P=yield Y.blob():M==="text/event-stream"?P=Y:M==="multipart/form-data"?P=yield Y.formData():P=yield Y.text(),{data:P,error:null,response:Y}}catch(g){return{data:null,error:g,response:g instanceof Qm||g instanceof Km?g.context:void 0}}finally{d&&clearTimeout(d)}})}}var bp=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},xp=class{constructor(i){var n,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(n=i.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,n){return this.headers=new Headers(this.headers),this.headers.set(i,n),this}then(i,n){var l=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let c=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let f=null,g=null,p=null,y=d.status,b=d.statusText;if(d.ok){var S,N;if(l.method!=="HEAD"){var A;const Y=await d.text();Y===""||(l.headers.get("Accept")==="text/csv"||l.headers.get("Accept")&&(!((A=l.headers.get("Accept"))===null||A===void 0)&&A.includes("application/vnd.pgrst.plan+text"))?g=Y:g=JSON.parse(Y))}const H=(S=l.headers.get("Prefer"))===null||S===void 0?void 0:S.match(/count=(exact|planned|estimated)/),Q=(N=d.headers.get("content-range"))===null||N===void 0?void 0:N.split("/");H&&Q&&Q.length>1&&(p=parseInt(Q[1])),l.isMaybeSingle&&l.method==="GET"&&Array.isArray(g)&&(g.length>1?(f={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,p=null,y=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var U;const H=await d.text();try{f=JSON.parse(H),Array.isArray(f)&&d.status===404&&(g=[],f=null,y=200,b="OK")}catch{d.status===404&&H===""?(y=204,b="No Content"):f={message:H}}if(f&&l.isMaybeSingle&&(!(f==null||(U=f.details)===null||U===void 0)&&U.includes("0 rows"))&&(f=null,y=200,b="OK"),f&&l.shouldThrowOnError)throw new bp(f)}return{error:f,data:g,count:p,status:y,statusText:b}});return this.shouldThrowOnError||(c=c.catch(d=>{var f;let g="";const p=d?.cause;if(p){var y,b,S,N;const U=(y=p?.message)!==null&&y!==void 0?y:"",H=(b=p?.code)!==null&&b!==void 0?b:"";g=`${(S=d?.name)!==null&&S!==void 0?S:"FetchError"}: ${d?.message}`,g+=`

Caused by: ${(N=p?.name)!==null&&N!==void 0?N:"Error"}: ${U}`,H&&(g+=` (${H})`),p?.stack&&(g+=`
${p.stack}`)}else{var A;g=(A=d?.stack)!==null&&A!==void 0?A:""}return{error:{message:`${(f=d?.name)!==null&&f!==void 0?f:"FetchError"}: ${d?.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(i,n)}returns(){return this}overrideTypes(){return this}},_p=class extends xp{select(i){let n=!1;const l=(i??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:n=!0,nullsFirst:l,foreignTable:r,referencedTable:c=r}={}){const d=c?`${c}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${i}.${n?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:n,referencedTable:l=n}={}){const r=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(r,`${i}`),this}range(i,n,{foreignTable:l,referencedTable:r=l}={}){const c=typeof r>"u"?"offset":`${r}.offset`,d=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(d,`${n-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:n=!1,settings:l=!1,buffers:r=!1,wal:c=!1,format:d="text"}={}){var f;const g=[i?"analyze":null,n?"verbose":null,l?"settings":null,r?"buffers":null,c?"wal":null].filter(Boolean).join("|"),p=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${p}"; options=${g};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const Jm=new RegExp("[,()]");var Si=class extends _p{eq(i,n){return this.url.searchParams.append(i,`eq.${n}`),this}neq(i,n){return this.url.searchParams.append(i,`neq.${n}`),this}gt(i,n){return this.url.searchParams.append(i,`gt.${n}`),this}gte(i,n){return this.url.searchParams.append(i,`gte.${n}`),this}lt(i,n){return this.url.searchParams.append(i,`lt.${n}`),this}lte(i,n){return this.url.searchParams.append(i,`lte.${n}`),this}like(i,n){return this.url.searchParams.append(i,`like.${n}`),this}likeAllOf(i,n){return this.url.searchParams.append(i,`like(all).{${n.join(",")}}`),this}likeAnyOf(i,n){return this.url.searchParams.append(i,`like(any).{${n.join(",")}}`),this}ilike(i,n){return this.url.searchParams.append(i,`ilike.${n}`),this}ilikeAllOf(i,n){return this.url.searchParams.append(i,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(i,n){return this.url.searchParams.append(i,`ilike(any).{${n.join(",")}}`),this}regexMatch(i,n){return this.url.searchParams.append(i,`match.${n}`),this}regexIMatch(i,n){return this.url.searchParams.append(i,`imatch.${n}`),this}is(i,n){return this.url.searchParams.append(i,`is.${n}`),this}isDistinct(i,n){return this.url.searchParams.append(i,`isdistinct.${n}`),this}in(i,n){const l=Array.from(new Set(n)).map(r=>typeof r=="string"&&Jm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}notIn(i,n){const l=Array.from(new Set(n)).map(r=>typeof r=="string"&&Jm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(i,`not.in.(${l})`),this}contains(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cs.{${n.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(n)}`),this}containedBy(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cd.{${n.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(n)}`),this}rangeGt(i,n){return this.url.searchParams.append(i,`sr.${n}`),this}rangeGte(i,n){return this.url.searchParams.append(i,`nxl.${n}`),this}rangeLt(i,n){return this.url.searchParams.append(i,`sl.${n}`),this}rangeLte(i,n){return this.url.searchParams.append(i,`nxr.${n}`),this}rangeAdjacent(i,n){return this.url.searchParams.append(i,`adj.${n}`),this}overlaps(i,n){return typeof n=="string"?this.url.searchParams.append(i,`ov.${n}`):this.url.searchParams.append(i,`ov.{${n.join(",")}}`),this}textSearch(i,n,{config:l,type:r}={}){let c="";r==="plain"?c="pl":r==="phrase"?c="ph":r==="websearch"&&(c="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${c}fts${d}.${n}`),this}match(i){return Object.entries(i).forEach(([n,l])=>{this.url.searchParams.append(n,`eq.${l}`)}),this}not(i,n,l){return this.url.searchParams.append(i,`not.${n}.${l}`),this}or(i,{foreignTable:n,referencedTable:l=n}={}){const r=l?`${l}.or`:"or";return this.url.searchParams.append(r,`(${i})`),this}filter(i,n,l){return this.url.searchParams.append(i,`${n}.${l}`),this}},wp=class{constructor(i,{headers:n={},schema:l,fetch:r}){this.url=i,this.headers=new Headers(n),this.schema=l,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(i,n){const{head:l=!1,count:r}=n??{},c=l?"HEAD":"GET";let d=!1;const f=(i??"*").split("").map(y=>/\s/.test(y)&&!d?"":(y==='"'&&(d=!d),y)).join(""),{url:g,headers:p}=this.cloneRequestState();return g.searchParams.set("select",f),r&&p.append("Prefer",`count=${r}`),new Si({method:c,url:g,headers:p,schema:this.schema,fetch:this.fetch})}insert(i,{count:n,defaultToNull:l=!0}={}){var r;const c="POST",{url:d,headers:f}=this.cloneRequestState();if(n&&f.append("Prefer",`count=${n}`),l||f.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(g.length>0){const p=[...new Set(g)].map(y=>`"${y}"`);d.searchParams.set("columns",p.join(","))}}return new Si({method:c,url:d,headers:f,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(i,{onConflict:n,ignoreDuplicates:l=!1,count:r,defaultToNull:c=!0}={}){var d;const f="POST",{url:g,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),n!==void 0&&g.searchParams.set("on_conflict",n),r&&p.append("Prefer",`count=${r}`),c||p.append("Prefer","missing=default"),Array.isArray(i)){const y=i.reduce((b,S)=>b.concat(Object.keys(S)),[]);if(y.length>0){const b=[...new Set(y)].map(S=>`"${S}"`);g.searchParams.set("columns",b.join(","))}}return new Si({method:f,url:g,headers:p,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:n}={}){var l;const r="PATCH",{url:c,headers:d}=this.cloneRequestState();return n&&d.append("Prefer",`count=${n}`),new Si({method:r,url:c,headers:d,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var n;const l="DELETE",{url:r,headers:c}=this.cloneRequestState();return i&&c.append("Prefer",`count=${i}`),new Si({method:l,url:r,headers:c,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},Sp=class N0{constructor(n,{headers:l={},schema:r,fetch:c}={}){this.url=n,this.headers=new Headers(l),this.schemaName=r,this.fetch=c}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new wp(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new N0(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,l={},{head:r=!1,get:c=!1,count:d}={}){var f;let g;const p=new URL(`${this.url}/rpc/${n}`);let y;const b=A=>A!==null&&typeof A=="object"&&(!Array.isArray(A)||A.some(b)),S=r&&Object.values(l).some(b);S?(g="POST",y=l):r||c?(g=r?"HEAD":"GET",Object.entries(l).filter(([A,U])=>U!==void 0).map(([A,U])=>[A,Array.isArray(U)?`{${U.join(",")}}`:`${U}`]).forEach(([A,U])=>{p.searchParams.append(A,U)})):(g="POST",y=l);const N=new Headers(this.headers);return S?N.set("Prefer",d?`count=${d},return=minimal`:"return=minimal"):d&&N.set("Prefer",`count=${d}`),new Si({method:g,url:p,headers:N,schema:this.schemaName,body:y,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class Tp{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const l=globalThis.process;if(l){const r=l.versions;if(r&&r.node){const c=r.node,d=parseInt(c.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let l=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(l+=`

Suggested solution: ${n.workaround}`),new Error(l)}static createWebSocket(n,l){const r=this.getWebSocketConstructor();return new r(n,l)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Ep="2.93.3",jp=`realtime-js/${Ep}`,Np="1.0.0",A0="2.0.0",Xm=A0,$c=1e4,Ap=1e3,Cp=100;var ss;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(ss||(ss={}));var jt;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(jt||(jt={}));var Ya;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Ya||(Ya={}));var Gc;(function(i){i.websocket="websocket"})(Gc||(Gc={}));var Rs;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Rs||(Rs={}));class Op{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,l){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return l(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return l(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var l;return this._isArrayBuffer((l=n.payload)===null||l===void 0?void 0:l.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var l,r;const c=(r=(l=n.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var l,r;const c=(r=(l=n.payload)===null||l===void 0?void 0:l.payload)!==null&&r!==void 0?r:{},f=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,l,r){var c,d;const f=n.topic,g=(c=n.ref)!==null&&c!==void 0?c:"",p=(d=n.join_ref)!==null&&d!==void 0?d:"",y=n.payload.event,b=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},S=Object.keys(b).length===0?"":JSON.stringify(b);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(S.length>255)throw new Error(`metadata length ${S.length} exceeds maximum of 255`);const N=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+g.length+f.length+y.length+S.length,A=new ArrayBuffer(this.HEADER_LENGTH+N);let U=new DataView(A),H=0;U.setUint8(H++,this.KINDS.userBroadcastPush),U.setUint8(H++,p.length),U.setUint8(H++,g.length),U.setUint8(H++,f.length),U.setUint8(H++,y.length),U.setUint8(H++,S.length),U.setUint8(H++,l),Array.from(p,Y=>U.setUint8(H++,Y.charCodeAt(0))),Array.from(g,Y=>U.setUint8(H++,Y.charCodeAt(0))),Array.from(f,Y=>U.setUint8(H++,Y.charCodeAt(0))),Array.from(y,Y=>U.setUint8(H++,Y.charCodeAt(0))),Array.from(S,Y=>U.setUint8(H++,Y.charCodeAt(0)));var Q=new Uint8Array(A.byteLength+r.byteLength);return Q.set(new Uint8Array(A),0),Q.set(new Uint8Array(r),A.byteLength),Q.buffer}decode(n,l){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return l(r)}if(typeof n=="string"){const r=JSON.parse(n),[c,d,f,g,p]=r;return l({join_ref:c,ref:d,topic:f,event:g,payload:p})}return l({})}_binaryDecode(n){const l=new DataView(n),r=l.getUint8(0),c=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,l,c)}_decodeUserBroadcast(n,l,r){const c=l.getUint8(1),d=l.getUint8(2),f=l.getUint8(3),g=l.getUint8(4);let p=this.HEADER_LENGTH+4;const y=r.decode(n.slice(p,p+c));p=p+c;const b=r.decode(n.slice(p,p+d));p=p+d;const S=r.decode(n.slice(p,p+f));p=p+f;const N=n.slice(p,n.byteLength),A=g===this.JSON_ENCODING?JSON.parse(r.decode(N)):N,U={type:this.BROADCAST_EVENT,event:b,payload:A};return f>0&&(U.meta=JSON.parse(S)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:U}}_isArrayBuffer(n){var l;return n instanceof ArrayBuffer||((l=n?.constructor)===null||l===void 0?void 0:l.name)==="ArrayBuffer"}_pick(n,l){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>l.includes(r)))}}class C0{constructor(n,l){this.callback=n,this.timerCalc=l,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=l}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ie;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ie||(Ie={}));const Im=(i,n,l={})=>{var r;const c=(r=l.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((d,f)=>(d[f]=kp(f,i,n,c),d),{}):{}},kp=(i,n,l,r)=>{const c=n.find(g=>g.name===i),d=c?.type,f=l[i];return d&&!r.includes(d)?O0(d,f):Vc(f)},O0=(i,n)=>{if(i.charAt(0)==="_"){const l=i.slice(1,i.length);return Mp(n,l)}switch(i){case Ie.bool:return Rp(n);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return Up(n);case Ie.json:case Ie.jsonb:return Dp(n);case Ie.timestamp:return zp(n);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return Vc(n);default:return Vc(n)}},Vc=i=>i,Rp=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Up=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},Dp=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},Mp=(i,n)=>{if(typeof i!="string")return i;const l=i.length-1,r=i[l];if(i[0]==="{"&&r==="}"){let d;const f=i.slice(1,l);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(g=>O0(n,g))}return i},zp=i=>typeof i=="string"?i.replace(" ","T"):i,k0=i=>{const n=new URL(i);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class kc{constructor(n,l,r={},c=$c){this.channel=n,this.event=l,this.payload=r,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,l){var r;return this._hasReceived(n)&&l((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:l}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=l=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=l,this._matchReceive(l)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,l){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:l})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:l}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(l))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Zm;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Zm||(Zm={}));class Ol{constructor(n,l){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=l?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},c=>{const{onJoin:d,onLeave:f,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ol.syncState(this.state,c,d,f),this.pendingDiffs.forEach(p=>{this.state=Ol.syncDiff(this.state,p,d,f)}),this.pendingDiffs=[],g()}),this.channel._on(r.diff,{},c=>{const{onJoin:d,onLeave:f,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Ol.syncDiff(this.state,c,d,f),g())}),this.onJoin((c,d,f)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:d,newPresences:f})}),this.onLeave((c,d,f)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,l,r,c){const d=this.cloneDeep(n),f=this.transformState(l),g={},p={};return this.map(d,(y,b)=>{f[y]||(p[y]=b)}),this.map(f,(y,b)=>{const S=d[y];if(S){const N=b.map(Q=>Q.presence_ref),A=S.map(Q=>Q.presence_ref),U=b.filter(Q=>A.indexOf(Q.presence_ref)<0),H=S.filter(Q=>N.indexOf(Q.presence_ref)<0);U.length>0&&(g[y]=U),H.length>0&&(p[y]=H)}else g[y]=b}),this.syncDiff(d,{joins:g,leaves:p},r,c)}static syncDiff(n,l,r,c){const{joins:d,leaves:f}={joins:this.transformState(l.joins),leaves:this.transformState(l.leaves)};return r||(r=()=>{}),c||(c=()=>{}),this.map(d,(g,p)=>{var y;const b=(y=n[g])!==null&&y!==void 0?y:[];if(n[g]=this.cloneDeep(p),b.length>0){const S=n[g].map(A=>A.presence_ref),N=b.filter(A=>S.indexOf(A.presence_ref)<0);n[g].unshift(...N)}r(g,b,p)}),this.map(f,(g,p)=>{let y=n[g];if(!y)return;const b=p.map(S=>S.presence_ref);y=y.filter(S=>b.indexOf(S.presence_ref)<0),n[g]=y,c(g,y,p),y.length===0&&delete n[g]}),n}static map(n,l){return Object.getOwnPropertyNames(n).map(r=>l(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((l,r)=>{const c=n[r];return"metas"in c?l[r]=c.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):l[r]=c,l},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pm;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(Pm||(Pm={}));var kl;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(kl||(kl={}));var Sn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Sn||(Sn={}));class Ai{constructor(n,l={config:{}},r){var c,d;if(this.topic=n,this.params=l,this.socket=r,this.bindings={},this.state=jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},l.config),this.timeout=this.socket.timeout,this.joinPush=new kc(this,Ya.join,this.params,this.timeout),this.rejoinTimer=new C0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jt.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ya.reply,{},(f,g)=>{this._trigger(this._replyEventName(g),f)}),this.presence=new Ol(this),this.broadcastEndpointURL=k0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,l=this.timeout){var r,c,d;if(this.socket.isConnected()||this.socket.connect(),this.state==jt.closed){const{config:{broadcast:f,presence:g,private:p}}=this.params,y=(c=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(A=>A.filter))!==null&&c!==void 0?c:[],b=!!this.bindings[kl.PRESENCE]&&this.bindings[kl.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,S={},N={broadcast:f,presence:Object.assign(Object.assign({},g),{enabled:b}),postgres_changes:y,private:p};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(A=>n?.(Sn.CHANNEL_ERROR,A)),this._onClose(()=>n?.(Sn.CLOSED)),this.updateJoinPayload(Object.assign({config:N},S)),this.joinedOnce=!0,this._rejoin(l),this.joinPush.receive("ok",async({postgres_changes:A})=>{var U;if(this.socket._isManualToken()||this.socket.setAuth(),A===void 0){n?.(Sn.SUBSCRIBED);return}else{const H=this.bindings.postgres_changes,Q=(U=H?.length)!==null&&U!==void 0?U:0,Y=[];for(let q=0;q<Q;q++){const M=H[q],{filter:{event:P,schema:oe,table:re,filter:te}}=M,_e=A&&A[q];if(_e&&_e.event===P&&Ai.isFilterValueEqual(_e.schema,oe)&&Ai.isFilterValueEqual(_e.table,re)&&Ai.isFilterValueEqual(_e.filter,te))Y.push(Object.assign(Object.assign({},M),{id:_e.id}));else{this.unsubscribe(),this.state=jt.errored,n?.(Sn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Y,n&&n(Sn.SUBSCRIBED);return}}).receive("error",A=>{this.state=jt.errored,n?.(Sn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{n?.(Sn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,l={}){return await this.send({type:"presence",event:"track",payload:n},l.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,l,r){return this.state===jt.joined&&n===kl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,l,r)}async httpSend(n,l,r={}){var c;if(l==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:l,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(c=r.timeout)!==null&&c!==void 0?c:this.timeout);if(g.status===202)return{success:!0};let p=g.statusText;try{const y=await g.json();p=y.error||y.message||p}catch{}return Promise.reject(new Error(p))}async send(n,l={}){var r,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=n,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(r=l.timeout)!==null&&r!==void 0?r:this.timeout);return await((c=y.body)===null||c===void 0?void 0:c.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,g,p;const y=this._push(n.type,n,l.timeout||this.timeout);n.type==="broadcast"&&!(!((p=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||p===void 0)&&p.ack)&&d("ok"),y.receive("ok",()=>d("ok")),y.receive("error",()=>d("error")),y.receive("timeout",()=>d("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=jt.leaving;const l=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ya.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(c=>{r=new kc(this,Ya.leave,{},n),r.receive("ok",()=>{l(),c("ok")}).receive("timeout",()=>{l(),c("timed out")}).receive("error",()=>{c("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=jt.closed,this.bindings={}}async _fetchWithTimeout(n,l,r){const c=new AbortController,d=setTimeout(()=>c.abort(),r),f=await this.socket.fetch(n,Object.assign(Object.assign({},l),{signal:c.signal}));return clearTimeout(d),f}_push(n,l,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new kc(this,n,l,r);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Cp){const l=this.pushBuffer.shift();l&&(l.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${l.event}`,l.payload))}}_onMessage(n,l,r){return l}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,l,r){var c,d;const f=n.toLocaleLowerCase(),{close:g,error:p,leave:y,join:b}=Ya;if(r&&[g,p,y,b].indexOf(f)>=0&&r!==this._joinRef())return;let N=this._onMessage(f,l,r);if(l&&!N)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(A=>{var U,H,Q;return((U=A.filter)===null||U===void 0?void 0:U.event)==="*"||((Q=(H=A.filter)===null||H===void 0?void 0:H.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase())===f}).map(A=>A.callback(N,r)):(d=this.bindings[f])===null||d===void 0||d.filter(A=>{var U,H,Q,Y,q,M;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in A){const P=A.id,oe=(U=A.filter)===null||U===void 0?void 0:U.event;return P&&((H=l.ids)===null||H===void 0?void 0:H.includes(P))&&(oe==="*"||oe?.toLocaleLowerCase()===((Q=l.data)===null||Q===void 0?void 0:Q.type.toLocaleLowerCase()))}else{const P=(q=(Y=A?.filter)===null||Y===void 0?void 0:Y.event)===null||q===void 0?void 0:q.toLocaleLowerCase();return P==="*"||P===((M=l?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===f}).map(A=>{if(typeof N=="object"&&"ids"in N){const U=N.data,{schema:H,table:Q,commit_timestamp:Y,type:q,errors:M}=U;N=Object.assign(Object.assign({},{schema:H,table:Q,commit_timestamp:Y,eventType:q,new:{},old:{},errors:M}),this._getPayloadRecords(U))}A.callback(N,r)})}_isClosed(){return this.state===jt.closed}_isJoined(){return this.state===jt.joined}_isJoining(){return this.state===jt.joining}_isLeaving(){return this.state===jt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,l,r){const c=n.toLocaleLowerCase(),d={type:c,filter:l,callback:r};return this.bindings[c]?this.bindings[c].push(d):this.bindings[c]=[d],this}_off(n,l){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(c=>{var d;return!(((d=c.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===r&&Ai.isEqual(c.filter,l))})),this}static isEqual(n,l){if(Object.keys(n).length!==Object.keys(l).length)return!1;for(const r in n)if(n[r]!==l[r])return!1;return!0}static isFilterValueEqual(n,l){return(n??void 0)===(l??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Ya.close,{},n)}_onError(n){this._on(Ya.error,{},l=>n(l))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const l={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(l.new=Im(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(l.old=Im(n.columns,n.old_record)),l}}const Rc=()=>{},so={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Bp=[1e3,2e3,5e3,1e4],Lp=1e4,qp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Hp{constructor(n,l){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$c,this.transport=null,this.heartbeatIntervalMs=so.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rc,this.ref=0,this.reconnectTimer=null,this.vsn=Xm,this.logger=Rc,this.conn=null,this.sendBuffer=[],this.serializer=new Op,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...d)=>c(...d):(...d)=>fetch(...d),!(!((r=l?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=l.params.apikey,this.endPoint=`${n}/${Gc.websocket}`,this.httpEndpoint=k0(n),this._initializeOptions(l),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(l?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Tp.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const l=n.message;throw l.includes("Node.js")?new Error(`${l}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${l}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,l){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,l??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const l=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),l}async removeAllChannels(){const n=await Promise.all(this.channels.map(l=>l.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,l,r){this.logger(n,l,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ss.connecting:return Rs.Connecting;case ss.open:return Rs.Open;case ss.closing:return Rs.Closing;default:return Rs.Closed}}isConnected(){return this.connectionState()===Rs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,l={config:{}}){const r=`realtime:${n}`,c=this.getChannels().find(d=>d.topic===r);if(c)return c;{const d=new Ai(`realtime:${n}`,l,this);return this.channels.push(d),d}}push(n){const{topic:l,event:r,payload:c,ref:d}=n,f=()=>{this.encode(n,g=>{var p;(p=this.conn)===null||p===void 0||p.send(g)})};this.log("push",`${l} ${r} (${d})`,c),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(l){this.log("error","error in heartbeat callback",l)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(l){this.log("error","error in heartbeat callback",l)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Ap,"heartbeat timeout"),setTimeout(()=>{var l;this.isConnected()||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout()},so.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(l){this.log("error","error in heartbeat callback",l)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let l=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));l&&(this.log("transport",`leaving duplicate topic "${n}"`),l.unsubscribe())}_remove(n){this.channels=this.channels.filter(l=>l.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,l=>{if(l.topic==="phoenix"&&l.event==="phx_reply"&&l.ref&&l.ref===this.pendingHeartbeatRef){const y=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(l.payload.status==="ok"?"ok":"error",y)}catch(b){this.log("error","error in heartbeat callback",b)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:c,payload:d,ref:f}=l,g=f?`(${f})`:"",p=d.status||"";this.log("receive",`${p} ${r} ${c} ${g}`.trim(),d),this.channels.filter(y=>y._isMember(r)).forEach(y=>y._trigger(c,d,f)),this._triggerStateCallbacks("message",l)})}_clearTimer(n){var l;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((l=this.reconnectTimer)===null||l===void 0||l.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===ss.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ss.open||this.conn.readyState===ss.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(l=>{this.log("error","error waiting for auth on connect",l),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=l=>{this.log("worker","worker error",l.message),this._terminateWorker()},this.workerRef.onmessage=l=>{l.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var l;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(l=this.reconnectTimer)===null||l===void 0||l.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(l){this.log("error","error in heartbeat callback",l)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(Ya.error))}_appendParams(n,l){if(Object.keys(l).length===0)return n;const r=n.match(/\?/)?"&":"?",c=new URLSearchParams(l);return`${n}${r}${c}`}_workerObjectUrl(n){let l;if(n)l=n;else{const r=new Blob([qp],{type:"application/javascript"});l=URL.createObjectURL(r)}return l}_setConnectionState(n,l=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=l)}async _performAuth(n=null){let l,r=!1;if(n)l=n,r=!0;else if(this.accessToken)try{l=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),l=this.accessTokenValue}else l=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=l&&(this.accessTokenValue=l,this.channels.forEach(c=>{const d={access_token:l,version:jp};l&&c.updateJoinPayload(d),c.joinedOnce&&c._isJoined()&&c._push(Ya.access_token,{access_token:l})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(l=>{this.log("error",`Error setting auth in ${n}`,l)})}_triggerStateCallbacks(n,l){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(l)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new C0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},so.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var l,r,c,d,f,g,p,y,b,S,N,A;switch(this.transport=(l=n?.transport)!==null&&l!==void 0?l:null,this.timeout=(r=n?.timeout)!==null&&r!==void 0?r:$c,this.heartbeatIntervalMs=(c=n?.heartbeatIntervalMs)!==null&&c!==void 0?c:so.HEARTBEAT_INTERVAL,this.worker=(d=n?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(g=n?.heartbeatCallback)!==null&&g!==void 0?g:Rc,this.vsn=(p=n?.vsn)!==null&&p!==void 0?p:Xm,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=n?.reconnectAfterMs)!==null&&y!==void 0?y:(U=>Bp[U-1]||Lp),this.vsn){case Np:this.encode=(b=n?.encode)!==null&&b!==void 0?b:((U,H)=>H(JSON.stringify(U))),this.decode=(S=n?.decode)!==null&&S!==void 0?S:((U,H)=>H(JSON.parse(U)));break;case A0:this.encode=(N=n?.encode)!==null&&N!==void 0?N:this.serializer.encode.bind(this.serializer),this.decode=(A=n?.decode)!==null&&A!==void 0?A:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var Ul=class extends Error{constructor(i,n){super(i),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function $p(i,n,l){const r=new URL(n,i);if(l)for(const[c,d]of Object.entries(l))d!==void 0&&r.searchParams.set(c,d);return r.toString()}async function Gp(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function Vp(i){const n=i.fetchImpl??globalThis.fetch;return{async request({method:l,path:r,query:c,body:d,headers:f}){const g=$p(i.baseUrl,r,c),p=await Gp(i.auth),y=await n(g,{method:l,headers:{...d?{"Content-Type":"application/json"}:{},...p,...f},body:d?JSON.stringify(d):void 0}),b=await y.text(),S=(y.headers.get("content-type")||"").includes("application/json"),N=S&&b?JSON.parse(b):b;if(!y.ok){const A=S?N:void 0,U=A?.error;throw new Ul(U?.message??`Request failed with status ${y.status}`,{status:y.status,icebergType:U?.type,icebergCode:U?.code,details:A})}return{status:y.status,headers:y.headers,data:N}}}}function io(i){return i.join("")}var Yp=class{constructor(i,n=""){this.client=i,this.prefix=n}async listNamespaces(i){const n=i?{parent:io(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(i,n){const l={namespace:i.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:l})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${io(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${io(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${io(i.namespace)}`}),!0}catch(n){if(n instanceof Ul&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(i,n){try{return await this.createNamespace(i,n)}catch(l){if(l instanceof Ul&&l.status===409)return;throw l}}};function yi(i){return i.join("")}var Kp=class{constructor(i,n="",l){this.client=i,this.prefix=n,this.accessDelegation=l}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yi(i.namespace)}/tables`})).data.identifiers}async createTable(i,n){const l={};return this.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yi(i.namespace)}/tables`,body:n,headers:l})).data.metadata}async updateTable(i,n){const l=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yi(i.namespace)}/tables/${i.name}`,body:n});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}}async dropTable(i,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yi(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(i){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yi(i.namespace)}/tables/${i.name}`,headers:n})).data.metadata}async tableExists(i){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yi(i.namespace)}/tables/${i.name}`,headers:n}),!0}catch(l){if(l instanceof Ul&&l.status===404)return!1;throw l}}async createTableIfNotExists(i,n){try{return await this.createTable(i,n)}catch(l){if(l instanceof Ul&&l.status===409)return await this.loadTable({namespace:i.namespace,name:n.name});throw l}}},Qp=class{constructor(i){let n="v1";i.catalogName&&(n+=`/${i.catalogName}`);const l=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=Vp({baseUrl:l,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new Yp(this.client,n),this.tableOps=new Kp(this.client,n,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,n){return this.namespaceOps.createNamespace(i,n)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,n){return this.tableOps.createTable(i,n)}async updateTable(i,n){return this.tableOps.updateTable(i,n)}async dropTable(i,n){await this.tableOps.dropTable(i,n)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,n){return this.namespaceOps.createNamespaceIfNotExists(i,n)}async createTableIfNotExists(i,n){return this.tableOps.createTableIfNotExists(i,n)}},xo=class extends Error{constructor(i,n="storage",l,r){super(i),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=l,this.statusCode=r}};function _o(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var lo=class extends xo{constructor(i,n,l,r="storage"){super(i,r,n,l),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},R0=class extends xo{constructor(i,n,l="storage"){super(i,l),this.name=l==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const Jp=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Xp=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Yc=i=>{if(Array.isArray(i))return i.map(l=>Yc(l));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([l,r])=>{const c=l.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));n[c]=Yc(r)}),n},Ip=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function Dl(i){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Dl(i)}function Zp(i,n){if(Dl(i)!="object"||!i)return i;var l=i[Symbol.toPrimitive];if(l!==void 0){var r=l.call(i,n);if(Dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function Pp(i){var n=Zp(i,"string");return Dl(n)=="symbol"?n:n+""}function Wp(i,n,l){return(n=Pp(n))in i?Object.defineProperty(i,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[n]=l,i}function Wm(i,n){var l=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),l.push.apply(l,r)}return l}function ve(i){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?Wm(Object(l),!0).forEach(function(r){Wp(i,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):Wm(Object(l)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(l,r))})}return i}const Fm=i=>{var n;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(n=i.error)===null||n===void 0?void 0:n.message)||JSON.stringify(i)},Fp=async(i,n,l,r)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!l?.noResolveJson){const c=i,d=c.status||500;if(typeof c.json=="function")c.json().then(f=>{const g=f?.statusCode||f?.code||d+"";n(new lo(Fm(f),d,g,r))}).catch(()=>{if(r==="vectors"){const f=d+"";n(new lo(c.statusText||`HTTP ${d} error`,d,f,r))}else{const f=d+"";n(new lo(c.statusText||`HTTP ${d} error`,d,f,r))}});else{const f=d+"";n(new lo(c.statusText||`HTTP ${d} error`,d,f,r))}}else n(new R0(Fm(i),i,r))},ev=(i,n,l,r)=>{const c={method:i,headers:n?.headers||{}};return i==="GET"||i==="HEAD"||!r?ve(ve({},c),l):(Xp(r)?(c.headers=ve({"Content-Type":"application/json"},n?.headers),c.body=JSON.stringify(r)):c.body=r,n?.duplex&&(c.duplex=n.duplex),ve(ve({},c),l))};async function El(i,n,l,r,c,d,f){return new Promise((g,p)=>{i(l,ev(n,r,c,d)).then(y=>{if(!y.ok)throw y;if(r?.noResolveJson)return y;if(f==="vectors"){const b=y.headers.get("content-type");if(y.headers.get("content-length")==="0"||y.status===204)return{};if(!b||!b.includes("application/json"))return{}}return y.json()}).then(y=>g(y)).catch(y=>Fp(y,p,r,f))})}function U0(i="storage"){return{get:async(n,l,r,c)=>El(n,"GET",l,r,c,void 0,i),post:async(n,l,r,c,d)=>El(n,"POST",l,c,d,r,i),put:async(n,l,r,c,d)=>El(n,"PUT",l,c,d,r,i),head:async(n,l,r,c)=>El(n,"HEAD",l,ve(ve({},r),{},{noResolveJson:!0}),c,void 0,i),remove:async(n,l,r,c,d)=>El(n,"DELETE",l,c,d,r,i)}}const tv=U0("storage"),{get:Ml,post:Ga,put:Kc,head:av,remove:td}=tv,ha=U0("vectors");var Ri=class{constructor(i,n={},l,r="storage"){this.shouldThrowOnError=!1,this.url=i,this.headers=n,this.fetch=Jp(l),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(i){var n=this;try{return{data:await i(),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(_o(l))return{data:null,error:l};throw l}}},nv=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n}then(i,n){return this.execute().then(i,n)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(_o(n))return{data:null,error:n};throw n}}};let D0;D0=Symbol.toStringTag;var sv=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n,this[D0]="BlobDownloadBuilder",this.promise=null}asStream(){return new nv(this.downloadFn,this.shouldThrowOnError)}then(i,n){return this.getPromise().then(i,n)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(_o(n))return{data:null,error:n};throw n}}};const iv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},e0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var lv=class extends Ri{constructor(i,n={},l,r){super(i,n,r,"storage"),this.bucketId=l}async uploadOrUpdate(i,n,l,r){var c=this;return c.handleOperation(async()=>{let d;const f=ve(ve({},e0),r);let g=ve(ve({},c.headers),i==="POST"&&{"x-upsert":String(f.upsert)});const p=f.metadata;typeof Blob<"u"&&l instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),p&&d.append("metadata",c.encodeMetadata(p)),d.append("",l)):typeof FormData<"u"&&l instanceof FormData?(d=l,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),p&&!d.has("metadata")&&d.append("metadata",c.encodeMetadata(p))):(d=l,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,p&&(g["x-metadata"]=c.toBase64(c.encodeMetadata(p))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),r?.headers&&(g=ve(ve({},g),r.headers));const y=c._removeEmptyFolders(n),b=c._getFinalPath(y),S=await(i=="PUT"?Kc:Ga)(c.fetch,`${c.url}/object/${b}`,d,ve({headers:g},f?.duplex?{duplex:f.duplex}:{}));return{path:y,id:S.Id,fullPath:S.Key}})}async upload(i,n,l){return this.uploadOrUpdate("POST",i,n,l)}async uploadToSignedUrl(i,n,l,r){var c=this;const d=c._removeEmptyFolders(i),f=c._getFinalPath(d),g=new URL(c.url+`/object/upload/sign/${f}`);return g.searchParams.set("token",n),c.handleOperation(async()=>{let p;const y=ve({upsert:e0.upsert},r),b=ve(ve({},c.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&l instanceof Blob?(p=new FormData,p.append("cacheControl",y.cacheControl),p.append("",l)):typeof FormData<"u"&&l instanceof FormData?(p=l,p.append("cacheControl",y.cacheControl)):(p=l,b["cache-control"]=`max-age=${y.cacheControl}`,b["content-type"]=y.contentType),{path:d,fullPath:(await Kc(c.fetch,g.toString(),p,{headers:b})).Key}})}async createSignedUploadUrl(i,n){var l=this;return l.handleOperation(async()=>{let r=l._getFinalPath(i);const c=ve({},l.headers);n?.upsert&&(c["x-upsert"]="true");const d=await Ga(l.fetch,`${l.url}/object/upload/sign/${r}`,{},{headers:c}),f=new URL(l.url+d.url),g=f.searchParams.get("token");if(!g)throw new xo("No token returned by API");return{signedUrl:f.toString(),path:i,token:g}})}async update(i,n,l){return this.uploadOrUpdate("PUT",i,n,l)}async move(i,n,l){var r=this;return r.handleOperation(async()=>await Ga(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:i,destinationKey:n,destinationBucket:l?.destinationBucket},{headers:r.headers}))}async copy(i,n,l){var r=this;return r.handleOperation(async()=>({path:(await Ga(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:i,destinationKey:n,destinationBucket:l?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(i,n,l){var r=this;return r.handleOperation(async()=>{let c=r._getFinalPath(i),d=await Ga(r.fetch,`${r.url}/object/sign/${c}`,ve({expiresIn:n},l?.transform?{transform:l.transform}:{}),{headers:r.headers});const f=l?.download?`&download=${l.download===!0?"":l.download}`:"";return{signedUrl:encodeURI(`${r.url}${d.signedURL}${f}`)}})}async createSignedUrls(i,n,l){var r=this;return r.handleOperation(async()=>{const c=await Ga(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:n,paths:i},{headers:r.headers}),d=l?.download?`&download=${l.download===!0?"":l.download}`:"";return c.map(f=>ve(ve({},f),{},{signedUrl:f.signedURL?encodeURI(`${r.url}${f.signedURL}${d}`):null}))})}download(i,n){const l=typeof n?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(n?.transform||{}),c=r?`?${r}`:"",d=this._getFinalPath(i),f=()=>Ml(this.fetch,`${this.url}/${l}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new sv(f,this.shouldThrowOnError)}async info(i){var n=this;const l=n._getFinalPath(i);return n.handleOperation(async()=>Yc(await Ml(n.fetch,`${n.url}/object/info/${l}`,{headers:n.headers})))}async exists(i){var n=this;const l=n._getFinalPath(i);try{return await av(n.fetch,`${n.url}/object/${l}`,{headers:n.headers}),{data:!0,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(_o(r)&&r instanceof R0){const c=r.originalError;if([400,404].includes(c?.status))return{data:!1,error:r}}throw r}}getPublicUrl(i,n){const l=this._getFinalPath(i),r=[],c=n?.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&r.push(c);const d=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&r.push(f);let g=r.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${l}${g}`)}}}async remove(i){var n=this;return n.handleOperation(async()=>await td(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:i},{headers:n.headers}))}async list(i,n,l){var r=this;return r.handleOperation(async()=>{const c=ve(ve(ve({},iv),n),{},{prefix:i||""});return await Ga(r.fetch,`${r.url}/object/list/${r.bucketId}`,c,{headers:r.headers},l)})}async listV2(i,n){var l=this;return l.handleOperation(async()=>{const r=ve({},i);return await Ga(l.fetch,`${l.url}/object/list-v2/${l.bucketId}`,r,{headers:l.headers},n)})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const n=[];return i.width&&n.push(`width=${i.width}`),i.height&&n.push(`height=${i.height}`),i.resize&&n.push(`resize=${i.resize}`),i.format&&n.push(`format=${i.format}`),i.quality&&n.push(`quality=${i.quality}`),n.join("&")}};const rv="2.93.3",$l={"X-Client-Info":`storage-js/${rv}`};var ov=class extends Ri{constructor(i,n={},l,r){const c=new URL(i);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase."));const d=c.href.replace(/\/$/,""),f=ve(ve({},$l),n);super(d,f,l,"storage")}async listBuckets(i){var n=this;return n.handleOperation(async()=>{const l=n.listBucketOptionsToQueryString(i);return await Ml(n.fetch,`${n.url}/bucket${l}`,{headers:n.headers})})}async getBucket(i){var n=this;return n.handleOperation(async()=>await Ml(n.fetch,`${n.url}/bucket/${i}`,{headers:n.headers}))}async createBucket(i,n={public:!1}){var l=this;return l.handleOperation(async()=>await Ga(l.fetch,`${l.url}/bucket`,{id:i,name:i,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:l.headers}))}async updateBucket(i,n){var l=this;return l.handleOperation(async()=>await Kc(l.fetch,`${l.url}/bucket/${i}`,{id:i,name:i,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:l.headers}))}async emptyBucket(i){var n=this;return n.handleOperation(async()=>await Ga(n.fetch,`${n.url}/bucket/${i}/empty`,{},{headers:n.headers}))}async deleteBucket(i){var n=this;return n.handleOperation(async()=>await td(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(i){const n={};return i&&("limit"in i&&(n.limit=String(i.limit)),"offset"in i&&(n.offset=String(i.offset)),i.search&&(n.search=i.search),i.sortColumn&&(n.sortColumn=i.sortColumn),i.sortOrder&&(n.sortOrder=i.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},uv=class extends Ri{constructor(i,n={},l){const r=i.replace(/\/$/,""),c=ve(ve({},$l),n);super(r,c,l,"storage")}async createBucket(i){var n=this;return n.handleOperation(async()=>await Ga(n.fetch,`${n.url}/bucket`,{name:i},{headers:n.headers}))}async listBuckets(i){var n=this;return n.handleOperation(async()=>{const l=new URLSearchParams;i?.limit!==void 0&&l.set("limit",i.limit.toString()),i?.offset!==void 0&&l.set("offset",i.offset.toString()),i?.sortColumn&&l.set("sortColumn",i.sortColumn),i?.sortOrder&&l.set("sortOrder",i.sortOrder),i?.search&&l.set("search",i.search);const r=l.toString(),c=r?`${n.url}/bucket?${r}`:`${n.url}/bucket`;return await Ml(n.fetch,c,{headers:n.headers})})}async deleteBucket(i){var n=this;return n.handleOperation(async()=>await td(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}))}from(i){var n=this;if(!Ip(i))throw new xo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const l=new Qp({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(l,{get(c,d){const f=c[d];return typeof f!="function"?f:async(...g)=>{try{return{data:await f.apply(c,g),error:null}}catch(p){if(r)throw p;return{data:null,error:p}}}}})}},cv=class extends Ri{constructor(i,n={},l){const r=i.replace(/\/$/,""),c=ve(ve({},$l),{},{"Content-Type":"application/json"},n);super(r,c,l,"vectors")}async createIndex(i){var n=this;return n.handleOperation(async()=>await ha.post(n.fetch,`${n.url}/CreateIndex`,i,{headers:n.headers})||{})}async getIndex(i,n){var l=this;return l.handleOperation(async()=>await ha.post(l.fetch,`${l.url}/GetIndex`,{vectorBucketName:i,indexName:n},{headers:l.headers}))}async listIndexes(i){var n=this;return n.handleOperation(async()=>await ha.post(n.fetch,`${n.url}/ListIndexes`,i,{headers:n.headers}))}async deleteIndex(i,n){var l=this;return l.handleOperation(async()=>await ha.post(l.fetch,`${l.url}/DeleteIndex`,{vectorBucketName:i,indexName:n},{headers:l.headers})||{})}},dv=class extends Ri{constructor(i,n={},l){const r=i.replace(/\/$/,""),c=ve(ve({},$l),{},{"Content-Type":"application/json"},n);super(r,c,l,"vectors")}async putVectors(i){var n=this;if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await ha.post(n.fetch,`${n.url}/PutVectors`,i,{headers:n.headers})||{})}async getVectors(i){var n=this;return n.handleOperation(async()=>await ha.post(n.fetch,`${n.url}/GetVectors`,i,{headers:n.headers}))}async listVectors(i){var n=this;if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return n.handleOperation(async()=>await ha.post(n.fetch,`${n.url}/ListVectors`,i,{headers:n.headers}))}async queryVectors(i){var n=this;return n.handleOperation(async()=>await ha.post(n.fetch,`${n.url}/QueryVectors`,i,{headers:n.headers}))}async deleteVectors(i){var n=this;if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await ha.post(n.fetch,`${n.url}/DeleteVectors`,i,{headers:n.headers})||{})}},hv=class extends Ri{constructor(i,n={},l){const r=i.replace(/\/$/,""),c=ve(ve({},$l),{},{"Content-Type":"application/json"},n);super(r,c,l,"vectors")}async createBucket(i){var n=this;return n.handleOperation(async()=>await ha.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{})}async getBucket(i){var n=this;return n.handleOperation(async()=>await ha.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:i},{headers:n.headers}))}async listBuckets(i={}){var n=this;return n.handleOperation(async()=>await ha.post(n.fetch,`${n.url}/ListVectorBuckets`,i,{headers:n.headers}))}async deleteBucket(i){var n=this;return n.handleOperation(async()=>await ha.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{})}},fv=class extends hv{constructor(i,n={}){super(i,n.headers||{},n.fetch)}from(i){return new mv(this.url,this.headers,i,this.fetch)}async createBucket(i){var n=()=>super.createBucket,l=this;return n().call(l,i)}async getBucket(i){var n=()=>super.getBucket,l=this;return n().call(l,i)}async listBuckets(i={}){var n=()=>super.listBuckets,l=this;return n().call(l,i)}async deleteBucket(i){var n=()=>super.deleteBucket,l=this;return n().call(l,i)}},mv=class extends cv{constructor(i,n,l,r){super(i,n,r),this.vectorBucketName=l}async createIndex(i){var n=()=>super.createIndex,l=this;return n().call(l,ve(ve({},i),{},{vectorBucketName:l.vectorBucketName}))}async listIndexes(i={}){var n=()=>super.listIndexes,l=this;return n().call(l,ve(ve({},i),{},{vectorBucketName:l.vectorBucketName}))}async getIndex(i){var n=()=>super.getIndex,l=this;return n().call(l,l.vectorBucketName,i)}async deleteIndex(i){var n=()=>super.deleteIndex,l=this;return n().call(l,l.vectorBucketName,i)}index(i){return new gv(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},gv=class extends dv{constructor(i,n,l,r,c){super(i,n,c),this.vectorBucketName=l,this.indexName=r}async putVectors(i){var n=()=>super.putVectors,l=this;return n().call(l,ve(ve({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async getVectors(i){var n=()=>super.getVectors,l=this;return n().call(l,ve(ve({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async listVectors(i={}){var n=()=>super.listVectors,l=this;return n().call(l,ve(ve({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async queryVectors(i){var n=()=>super.queryVectors,l=this;return n().call(l,ve(ve({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}async deleteVectors(i){var n=()=>super.deleteVectors,l=this;return n().call(l,ve(ve({},i),{},{vectorBucketName:l.vectorBucketName,indexName:l.indexName}))}},yv=class extends ov{constructor(i,n={},l,r){super(i,n,l,r)}from(i){return new lv(this.url,this.headers,i,this.fetch)}get vectors(){return new fv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new uv(this.url+"/iceberg",this.headers,this.fetch)}};const M0="2.93.3",Ti=30*1e3,Qc=3,Uc=Qc*Ti,pv="http://localhost:9999",vv="supabase.auth.token",bv={"X-Client-Info":`gotrue-js/${M0}`},Jc="X-Supabase-Api-Version",z0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_v=600*1e3;class zl extends Error{constructor(n,l,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=l,this.code=r}}function fe(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class wv extends zl{constructor(n,l,r){super(n,l,r),this.name="AuthApiError",this.status=l,this.code=r}}function Sv(i){return fe(i)&&i.name==="AuthApiError"}class Us extends zl{constructor(n,l){super(n),this.name="AuthUnknownError",this.originalError=l}}class Tn extends zl{constructor(n,l,r,c){super(n,r,c),this.name=l,this.status=r}}class da extends Tn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Dc(i){return fe(i)&&i.name==="AuthSessionMissingError"}class pi extends Tn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ro extends Tn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class oo extends Tn{constructor(n,l=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Tv(i){return fe(i)&&i.name==="AuthImplicitGrantRedirectError"}class t0 extends Tn{constructor(n,l=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=l}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ev extends Tn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Xc extends Tn{constructor(n,l){super(n,"AuthRetryableFetchError",l,void 0)}}function Mc(i){return fe(i)&&i.name==="AuthRetryableFetchError"}class a0 extends Tn{constructor(n,l,r){super(n,"AuthWeakPasswordError",l,"weak_password"),this.reasons=r}}class Ic extends Tn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const go="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),n0=` 	
\r=`.split(""),jv=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<n0.length;n+=1)i[n0[n].charCodeAt(0)]=-2;for(let n=0;n<go.length;n+=1)i[go[n].charCodeAt(0)]=n;return i})();function s0(i,n,l){if(i!==null)for(n.queue=n.queue<<8|i,n.queuedBits+=8;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;l(go[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;l(go[r]),n.queuedBits-=6}}function B0(i,n,l){const r=jv[i];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)l(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function i0(i){const n=[],l=f=>{n.push(String.fromCodePoint(f))},r={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},d=f=>{Cv(f,r,l)};for(let f=0;f<i.length;f+=1)B0(i.charCodeAt(f),c,d);return n.join("")}function Nv(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function Av(i,n){for(let l=0;l<i.length;l+=1){let r=i.charCodeAt(l);if(r>55295&&r<=56319){const c=(r-55296)*1024&65535;r=(i.charCodeAt(l+1)-56320&65535|c)+65536,l+=1}Nv(r,n)}}function Cv(i,n,l){if(n.utf8seq===0){if(i<=127){l(i);return}for(let r=1;r<6;r+=1)if((i>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&l(n.codepoint)}}function Ci(i){const n=[],l={queue:0,queuedBits:0},r=c=>{n.push(c)};for(let c=0;c<i.length;c+=1)B0(i.charCodeAt(c),l,r);return new Uint8Array(n)}function Ov(i){const n=[];return Av(i,l=>n.push(l)),new Uint8Array(n)}function Ds(i){const n=[],l={queue:0,queuedBits:0},r=c=>{n.push(c)};return i.forEach(c=>s0(c,l,r)),s0(null,l,r),n.join("")}function kv(i){return Math.round(Date.now()/1e3)+i}function Rv(){return Symbol("auth-callback")}const Mt=()=>typeof window<"u"&&typeof document<"u",Cs={tested:!1,writable:!1},L0=()=>{if(!Mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Cs.tested)return Cs.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Cs.tested=!0,Cs.writable=!0}catch{Cs.tested=!0,Cs.writable=!1}return Cs.writable};function Uv(i){const n={},l=new URL(i);if(l.hash&&l.hash[0]==="#")try{new URLSearchParams(l.hash.substring(1)).forEach((c,d)=>{n[d]=c})}catch{}return l.searchParams.forEach((r,c)=>{n[c]=r}),n}const q0=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Dv=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Ei=async(i,n,l)=>{await i.setItem(n,JSON.stringify(l))},Os=async(i,n)=>{const l=await i.getItem(n);if(!l)return null;try{return JSON.parse(l)}catch{return l}},Dt=async(i,n)=>{await i.removeItem(n)};class wo{constructor(){this.promise=new wo.promiseConstructor((n,l)=>{this.resolve=n,this.reject=l})}}wo.promiseConstructor=Promise;function uo(i){const n=i.split(".");if(n.length!==3)throw new Ic("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!xv.test(n[r]))throw new Ic("JWT not in base64url format");return{header:JSON.parse(i0(n[0])),payload:JSON.parse(i0(n[1])),signature:Ci(n[2]),raw:{header:n[0],payload:n[1]}}}async function Mv(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function zv(i,n){return new Promise((r,c)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await i(d);if(!n(d,null,f)){r(f);return}}catch(f){if(!n(d,f)){c(f);return}}})()})}function Bv(i){return("0"+i.toString(16)).substr(-2)}function Lv(){const n=new Uint32Array(56);if(typeof crypto>"u"){const l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=l.length;let c="";for(let d=0;d<56;d++)c+=l.charAt(Math.floor(Math.random()*r));return c}return crypto.getRandomValues(n),Array.from(n,Bv).join("")}async function qv(i){const l=new TextEncoder().encode(i),r=await crypto.subtle.digest("SHA-256",l),c=new Uint8Array(r);return Array.from(c).map(d=>String.fromCharCode(d)).join("")}async function Hv(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const l=await qv(i);return btoa(l).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vi(i,n,l=!1){const r=Lv();let c=r;l&&(c+="/PASSWORD_RECOVERY"),await Ei(i,`${n}-code-verifier`,c);const d=await Hv(r);return[d,r===d?"plain":"s256"]}const $v=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Gv(i){const n=i.headers.get(Jc);if(!n||!n.match($v))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Vv(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function Yv(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Kv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function bi(i){if(!Kv.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zc(){const i={};return new Proxy(i,{get:(n,l)=>{if(l==="__isUserNotAvailableProxy")return!0;if(typeof l=="symbol"){const r=l.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${l}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,l)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${l}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Qv(i,n){return new Proxy(i,{get:(l,r,c)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const d=r.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(l,r,c)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(l,r,c)}})}function l0(i){return JSON.parse(JSON.stringify(i))}const ks=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Jv=[502,503,504];async function r0(i){var n;if(!Dv(i))throw new Xc(ks(i),0);if(Jv.includes(i.status))throw new Xc(ks(i),i.status);let l;try{l=await i.json()}catch(d){throw new Us(ks(d),d)}let r;const c=Gv(i);if(c&&c.getTime()>=z0["2024-01-01"].timestamp&&typeof l=="object"&&l&&typeof l.code=="string"?r=l.code:typeof l=="object"&&l&&typeof l.error_code=="string"&&(r=l.error_code),r){if(r==="weak_password")throw new a0(ks(l),i.status,((n=l.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new da}else if(typeof l=="object"&&l&&typeof l.weak_password=="object"&&l.weak_password&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new a0(ks(l),i.status,l.weak_password.reasons);throw new wv(ks(l),i.status||500,r)}const Xv=(i,n,l,r)=>{const c={method:i,headers:n?.headers||{}};return i==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),c.body=JSON.stringify(r),Object.assign(Object.assign({},c),l))};async function pe(i,n,l,r){var c;const d=Object.assign({},r?.headers);d[Jc]||(d[Jc]=z0["2024-01-01"].name),r?.jwt&&(d.Authorization=`Bearer ${r.jwt}`);const f=(c=r?.query)!==null&&c!==void 0?c:{};r?.redirectTo&&(f.redirect_to=r.redirectTo);const g=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",p=await Iv(i,n,l+g,{headers:d,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(p):{data:Object.assign({},p),error:null}}async function Iv(i,n,l,r,c,d){const f=Xv(n,r,c,d);let g;try{g=await i(l,Object.assign({},f))}catch(p){throw console.error(p),new Xc(ks(p),0)}if(g.ok||await r0(g),r?.noResolveJson)return g;try{return await g.json()}catch(p){await r0(p)}}function $a(i){var n;let l=null;Wv(i)&&(l=Object.assign({},i),i.expires_at||(l.expires_at=kv(i.expires_in)));const r=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:l,user:r},error:null}}function o0(i){const n=$a(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((l,r)=>l&&typeof r=="string",!0)&&(n.data.weak_password=i.weak_password),n}function is(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function Zv(i){return{data:i,error:null}}function Pv(i){const{action_link:n,email_otp:l,hashed_token:r,redirect_to:c,verification_type:d}=i,f=bo(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:n,email_otp:l,hashed_token:r,redirect_to:c,verification_type:d},p=Object.assign({},f);return{data:{properties:g,user:p},error:null}}function u0(i){return i}function Wv(i){return i.access_token&&i.refresh_token&&i.expires_in}const Bc=["global","local","others"];class Fv{constructor({url:n="",headers:l={},fetch:r}){this.url=n,this.headers=l,this.fetch=q0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,l=Bc[0]){if(Bc.indexOf(l)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Bc.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${l}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,l={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:l.data},headers:this.headers,redirectTo:l.redirectTo,xform:is})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{const{options:l}=n,r=bo(n,["options"]),c=Object.assign(Object.assign({},r),l);return"newEmail"in r&&(c.new_email=r?.newEmail,delete c.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Pv,redirectTo:l?.redirectTo})}catch(l){if(fe(l))return{data:{properties:null,user:null},error:l};throw l}}async createUser(n){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:is})}catch(l){if(fe(l))return{data:{user:null},error:l};throw l}}async listUsers(n){var l,r,c,d,f,g,p;try{const y={nextPage:null,lastPage:0,total:0},b=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=n?.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(d=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:u0});if(b.error)throw b.error;const S=await b.json(),N=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,A=(p=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&p!==void 0?p:[];return A.length>0&&(A.forEach(U=>{const H=parseInt(U.split(";")[0].split("=")[1].substring(0,1)),Q=JSON.parse(U.split(";")[1].split("=")[1]);y[`${Q}Page`]=H}),y.total=parseInt(N)),{data:Object.assign(Object.assign({},S),y),error:null}}catch(y){if(fe(y))return{data:{users:[]},error:y};throw y}}async getUserById(n){bi(n);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:is})}catch(l){if(fe(l))return{data:{user:null},error:l};throw l}}async updateUserById(n,l){bi(n);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:l,headers:this.headers,xform:is})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,l=!1){bi(n);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:l},xform:is})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){bi(n.userId);try{const{data:l,error:r}=await pe(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:l,error:r}}catch(l){if(fe(l))return{data:null,error:l};throw l}}async _deleteFactor(n){bi(n.userId),bi(n.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(l){if(fe(l))return{data:null,error:l};throw l}}async _listOAuthClients(n){var l,r,c,d,f,g,p;try{const y={nextPage:null,lastPage:0,total:0},b=await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(l=n?.page)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:"",per_page:(d=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&d!==void 0?d:""},xform:u0});if(b.error)throw b.error;const S=await b.json(),N=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,A=(p=(g=b.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&p!==void 0?p:[];return A.length>0&&(A.forEach(U=>{const H=parseInt(U.split(";")[0].split("=")[1].substring(0,1)),Q=JSON.parse(U.split(";")[1].split("=")[1]);y[`${Q}Page`]=H}),y.total=parseInt(N)),{data:Object.assign(Object.assign({},S),y),error:null}}catch(y){if(fe(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(n){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(fe(l))return{data:null,error:l};throw l}}async _getOAuthClient(n){try{return await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(fe(l))return{data:null,error:l};throw l}}async _updateOAuthClient(n,l){try{return await pe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:l,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(fe(l))return{data:null,error:l};throw l}}async _regenerateOAuthClientSecret(n){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(fe(l))return{data:null,error:l};throw l}}}function c0(i={}){return{getItem:n=>i[n]||null,setItem:(n,l)=>{i[n]=l},removeItem:n=>{delete i[n]}}}const xi={debug:!!(globalThis&&L0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class H0 extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class eb extends H0{}async function tb(i,n,l){xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),xi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async c=>{if(c){xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,c.name);try{return await l()}finally{xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,c.name)}}else{if(n===0)throw xi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new eb(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(xi.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await l()}}))}function ab(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $0(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function nb(i){return parseInt(i,16)}function sb(i){const n=new TextEncoder().encode(i);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function ib(i){var n;const{chainId:l,domain:r,expirationTime:c,issuedAt:d=new Date,nonce:f,notBefore:g,requestId:p,resources:y,scheme:b,uri:S,version:N}=i;{if(!Number.isInteger(l))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${l}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!S)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(N!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${N}`);if(!((n=i.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const A=$0(i.address),U=b?`${b}://${r}`:r,H=i.statement?`${i.statement}
`:"",Q=`${U} wants you to sign in with your Ethereum account:
${A}

${H}`;let Y=`URI: ${S}
Version: ${N}
Chain ID: ${l}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(c&&(Y+=`
Expiration Time: ${c.toISOString()}`),g&&(Y+=`
Not Before: ${g.toISOString()}`),p&&(Y+=`
Request ID: ${p}`),y){let q=`
Resources:`;for(const M of y){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);q+=`
- ${M}`}Y+=q}return`${Q}
${Y}`}class xt extends Error{constructor({message:n,code:l,cause:r,name:c}){var d;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(d=c??(r instanceof Error?r.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=l}}class yo extends xt{constructor(n,l){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l,message:n}),this.name="WebAuthnUnknownError",this.originalError=l}}function lb({error:i,options:n}){var l,r,c;const{publicKey:d}=n;if(!d)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new xt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((l=d.authenticatorSelection)===null||l===void 0?void 0:l.requireResidentKey)===!0)return new xt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(n.mediation==="conditional"&&((r=d.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new xt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((c=d.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new xt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new xt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new xt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return d.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new xt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new xt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const f=window.location.hostname;if(G0(f)){if(d.rp.id!==f)return new xt({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new xt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new xt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function rb({error:i,options:n}){const{publicKey:l}=n;if(!l)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new xt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new xt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const r=window.location.hostname;if(G0(r)){if(l.rpId!==r)return new xt({message:`The RP ID "${l.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new xt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new xt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new xt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class ob{createNewAbortSignal(){if(this.controller){const l=new Error("Cancelling existing WebAuthn API call for new one");l.name="AbortError",this.controller.abort(l)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const ub=new ob;function cb(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:n,user:l,excludeCredentials:r}=i,c=bo(i,["challenge","user","excludeCredentials"]),d=Ci(n).buffer,f=Object.assign(Object.assign({},l),{id:Ci(l.id).buffer}),g=Object.assign(Object.assign({},c),{challenge:d,user:f});if(r&&r.length>0){g.excludeCredentials=new Array(r.length);for(let p=0;p<r.length;p++){const y=r[p];g.excludeCredentials[p]=Object.assign(Object.assign({},y),{id:Ci(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return g}function db(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:n,allowCredentials:l}=i,r=bo(i,["challenge","allowCredentials"]),c=Ci(n).buffer,d=Object.assign(Object.assign({},r),{challenge:c});if(l&&l.length>0){d.allowCredentials=new Array(l.length);for(let f=0;f<l.length;f++){const g=l[f];d.allowCredentials[f]=Object.assign(Object.assign({},g),{id:Ci(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return d}function hb(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const l=i;return{id:i.id,rawId:i.id,response:{attestationObject:Ds(new Uint8Array(i.response.attestationObject)),clientDataJSON:Ds(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(n=l.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function fb(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const l=i,r=i.getClientExtensionResults(),c=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Ds(new Uint8Array(c.authenticatorData)),clientDataJSON:Ds(new Uint8Array(c.clientDataJSON)),signature:Ds(new Uint8Array(c.signature)),userHandle:c.userHandle?Ds(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=l.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function G0(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function d0(){var i,n;return!!(Mt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function mb(i){try{const n=await navigator.credentials.create(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new yo("Browser returned unexpected credential type",n)}:{data:null,error:new yo("Empty credential response",n)}}catch(n){return{data:null,error:lb({error:n,options:i})}}}async function gb(i){try{const n=await navigator.credentials.get(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new yo("Browser returned unexpected credential type",n)}:{data:null,error:new yo("Empty credential response",n)}}catch(n){return{data:null,error:rb({error:n,options:i})}}}const yb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},pb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function po(...i){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),l=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),r={};for(const c of i)if(c)for(const d in c){const f=c[d];if(f!==void 0)if(Array.isArray(f))r[d]=f;else if(l(f))r[d]=f;else if(n(f)){const g=r[d];n(g)?r[d]=po(g,f):r[d]=po(f)}else r[d]=f}return r}function vb(i,n){return po(yb,i,n||{})}function bb(i,n){return po(pb,i,n||{})}class xb{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:l,friendlyName:r,signal:c},d){var f;try{const{data:g,error:p}=await this.client.mfa.challenge({factorId:n,webauthn:l});if(!g)return{data:null,error:p};const y=c??ub.createNewAbortSignal();if(g.webauthn.type==="create"){const{user:b}=g.webauthn.credential_options.publicKey;if(!b.name){const S=r;if(S)b.name=`${b.id}:${S}`;else{const A=(await this.client.getUser()).data.user,U=((f=A?.user_metadata)===null||f===void 0?void 0:f.name)||A?.email||A?.id||"User";b.name=`${b.id}:${U}`}}b.displayName||(b.displayName=b.name)}switch(g.webauthn.type){case"create":{const b=vb(g.webauthn.credential_options.publicKey,d?.create),{data:S,error:N}=await mb({publicKey:b,signal:y});return S?{data:{factorId:n,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:S}},error:null}:{data:null,error:N}}case"request":{const b=bb(g.webauthn.credential_options.publicKey,d?.request),{data:S,error:N}=await gb(Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:b,signal:y}));return S?{data:{factorId:n,challengeId:g.id,webauthn:{type:g.webauthn.type,credential_response:S}},error:null}:{data:null,error:N}}}}catch(g){return fe(g)?{data:null,error:g}:{data:null,error:new Us("Unexpected error in challenge",g)}}}async _verify({challengeId:n,factorId:l,webauthn:r}){return this.client.mfa.verify({factorId:l,challengeId:n,webauthn:r})}async _authenticate({factorId:n,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!l)return{data:null,error:new zl("rpId is required for WebAuthn authentication")};try{if(!d0())return{data:null,error:new Us("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this.challenge({factorId:n,webauthn:{rpId:l,rpOrigins:r},signal:c},{request:d});if(!f)return{data:null,error:g};const{webauthn:p}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:p.type,rpId:l,rpOrigins:r,credential_response:p.credential_response}})}catch(f){return fe(f)?{data:null,error:f}:{data:null,error:new Us("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:l=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},d){if(!l)return{data:null,error:new zl("rpId is required for WebAuthn registration")};try{if(!d0())return{data:null,error:new Us("Browser does not support WebAuthn",null)};const{data:f,error:g}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(b=>{var S;return(S=b.data)===null||S===void 0?void 0:S.all.find(N=>N.factor_type==="webauthn"&&N.friendly_name===n&&N.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b?.id}):void 0),{data:null,error:g};const{data:p,error:y}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:l,rpOrigins:r},signal:c},{create:d});return p?this._verify({factorId:f.id,challengeId:p.challengeId,webauthn:{rpId:l,rpOrigins:r,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:y}}catch(f){return fe(f)?{data:null,error:f}:{data:null,error:new Us("Unexpected error in register",f)}}}}ab();const _b={url:pv,storageKey:vv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function h0(i,n,l){return await l()}const _i={};class Bl{get jwks(){var n,l;return(l=(n=_i[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&l!==void 0?l:{keys:[]}}set jwks(n){_i[this.storageKey]=Object.assign(Object.assign({},_i[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,l;return(l=(n=_i[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&l!==void 0?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){_i[this.storageKey]=Object.assign(Object.assign({},_i[this.storageKey]),{cachedAt:n})}constructor(n){var l,r,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},_b),n);if(this.storageKey=d.storageKey,this.instanceID=(l=Bl.nextInstanceID[this.storageKey])!==null&&l!==void 0?l:0,Bl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&Mt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new Fv({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=q0(d.fetch),this.lock=d.lock||h0,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,this.lockAcquireTimeout=d.lockAcquireTimeout,d.lock?this.lock=d.lock:this.persistSession&&Mt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=tb:this.lock=h0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new xb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:L0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=c0(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=c0(this.memoryStorage)),Mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f);try{await this._notifyAllSubscribers(f.data.event,f.data.session,!1)}catch(g){this._debug("#broadcastChannel","error",g)}})}this.initialize().catch(f=>{this._debug("#initialize()","error",f)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${M0}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let l={},r="none";if(Mt()&&(l=Uv(window.location.href),this._isImplicitGrantCallback(l)?r="implicit":await this._isPKCECallback(l)&&(r="pkce")),Mt()&&this.detectSessionInUrl&&r!=="none"){const{data:c,error:d}=await this._getSessionFromURL(l,r);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),Tv(d)){const p=(n=d.details)===null||n===void 0?void 0:n.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:d}}return{error:d}}const{session:f,redirectType:g}=c;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(l){return fe(l)?this._returnResult({error:l}):this._returnResult({error:new Us("Unexpected error during initialization",l)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var l,r,c;try{const d=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(l=n?.options)===null||l===void 0?void 0:l.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(c=n?.options)===null||c===void 0?void 0:c.captchaToken}},xform:$a}),{data:f,error:g}=d;if(g||!f)return this._returnResult({data:{user:null,session:null},error:g});const p=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(d){if(fe(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(n){var l,r,c;try{let d;if("email"in n){const{email:b,password:S,options:N}=n;let A=null,U=null;this.flowType==="pkce"&&([A,U]=await vi(this.storage,this.storageKey)),d=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:N?.emailRedirectTo,body:{email:b,password:S,data:(l=N?.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:N?.captchaToken},code_challenge:A,code_challenge_method:U},xform:$a})}else if("phone"in n){const{phone:b,password:S,options:N}=n;d=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:S,data:(r=N?.data)!==null&&r!==void 0?r:{},channel:(c=N?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:N?.captchaToken}},xform:$a})}else throw new ro("You must provide either an email or phone number and a password");const{data:f,error:g}=d;if(g||!f)return await Dt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const p=f.session,y=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(d){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),fe(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(n){try{let l;if("email"in n){const{email:d,password:f,options:g}=n;l=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:o0})}else if("phone"in n){const{phone:d,password:f,options:g}=n;l=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:o0})}else throw new ro("You must provide either an email or phone number and a password");const{data:r,error:c}=l;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!r||!r.session||!r.user){const d=new pi;return this._returnResult({data:{user:null,session:null},error:d})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:c})}catch(l){if(fe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOAuth(n){var l,r,c,d;return await this._handleProviderSignIn(n.provider,{redirectTo:(l=n.options)===null||l===void 0?void 0:l.redirectTo,scopes:(r=n.options)===null||r===void 0?void 0:r.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(d=n.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:l}=n;switch(l){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${l}"`)}}async signInWithEthereum(n){var l,r,c,d,f,g,p,y,b,S,N;let A,U;if("message"in n)A=n.message,U=n.signature;else{const{chain:H,wallet:Q,statement:Y,options:q}=n;let M;if(Mt())if(typeof Q=="object")M=Q;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")M=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof Q!="object"||!q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=Q}const P=new URL((l=q?.url)!==null&&l!==void 0?l:window.location.href),oe=await M.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!oe||oe.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const re=$0(oe[0]);let te=(r=q?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!te){const V=await M.request({method:"eth_chainId"});te=nb(V)}const _e={domain:P.host,address:re,statement:Y,uri:P.href,version:"1",chainId:te,nonce:(c=q?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(f=(d=q?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(g=q?.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(p=q?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(y=q?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(b=q?.signInWithEthereum)===null||b===void 0?void 0:b.resources};A=ib(_e),U=await M.request({method:"personal_sign",params:[sb(A),re]})}try{const{data:H,error:Q}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:A,signature:U},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(N=n.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:$a});if(Q)throw Q;if(!H||!H.session||!H.user){const Y=new pi;return this._returnResult({data:{user:null,session:null},error:Y})}return H.session&&(await this._saveSession(H.session),await this._notifyAllSubscribers("SIGNED_IN",H.session)),this._returnResult({data:Object.assign({},H),error:Q})}catch(H){if(fe(H))return this._returnResult({data:{user:null,session:null},error:H});throw H}}async signInWithSolana(n){var l,r,c,d,f,g,p,y,b,S,N,A;let U,H;if("message"in n)U=n.message,H=n.signature;else{const{chain:Q,wallet:Y,statement:q,options:M}=n;let P;if(Mt())if(typeof Y=="object")P=Y;else{const re=window;if("solana"in re&&typeof re.solana=="object"&&("signIn"in re.solana&&typeof re.solana.signIn=="function"||"signMessage"in re.solana&&typeof re.solana.signMessage=="function"))P=re.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof Y!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=Y}const oe=new URL((l=M?.url)!==null&&l!==void 0?l:window.location.href);if("signIn"in P&&P.signIn){const re=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:oe.host,uri:oe.href}),q?{statement:q}:null));let te;if(Array.isArray(re)&&re[0]&&typeof re[0]=="object")te=re[0];else if(re&&typeof re=="object"&&"signedMessage"in re&&"signature"in re)te=re;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in te&&"signature"in te&&(typeof te.signedMessage=="string"||te.signedMessage instanceof Uint8Array)&&te.signature instanceof Uint8Array)U=typeof te.signedMessage=="string"?te.signedMessage:new TextDecoder().decode(te.signedMessage),H=te.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");U=[`${oe.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...q?["",q,""]:[""],"Version: 1",`URI: ${oe.href}`,`Issued At: ${(c=(r=M?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((d=M?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((f=M?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((g=M?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((p=M?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((y=M?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((S=(b=M?.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||S===void 0)&&S.length?["Resources",...M.signInWithSolana.resources.map(te=>`- ${te}`)]:[]].join(`
`);const re=await P.signMessage(new TextEncoder().encode(U),"utf8");if(!re||!(re instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");H=re}}try{const{data:Q,error:Y}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:U,signature:Ds(H)},!((N=n.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(A=n.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:$a});if(Y)throw Y;if(!Q||!Q.session||!Q.user){const q=new pi;return this._returnResult({data:{user:null,session:null},error:q})}return Q.session&&(await this._saveSession(Q.session),await this._notifyAllSubscribers("SIGNED_IN",Q.session)),this._returnResult({data:Object.assign({},Q),error:Y})}catch(Q){if(fe(Q))return this._returnResult({data:{user:null,session:null},error:Q});throw Q}}async _exchangeCodeForSession(n){const l=await Os(this.storage,`${this.storageKey}-code-verifier`),[r,c]=(l??"").split("/");try{if(!r&&this.flowType==="pkce")throw new Ev;const{data:d,error:f}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:$a});if(await Dt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const g=new pi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:c??null}),error:f})}catch(d){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),fe(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(n){try{const{options:l,provider:r,token:c,access_token:d,nonce:f}=n,g=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:c,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:$a}),{data:p,error:y}=g;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!p||!p.session||!p.user){const b=new pi;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:y})}catch(l){if(fe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithOtp(n){var l,r,c,d,f;try{if("email"in n){const{email:g,options:p}=n;let y=null,b=null;this.flowType==="pkce"&&([y,b]=await vi(this.storage,this.storageKey));const{error:S}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(l=p?.data)!==null&&l!==void 0?l:{},create_user:(r=p?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:y,code_challenge_method:b},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:S})}if("phone"in n){const{phone:g,options:p}=n,{data:y,error:b}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(c=p?.data)!==null&&c!==void 0?c:{},create_user:(d=p?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(f=p?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y?.message_id},error:b})}throw new ro("You must provide either an email or phone number.")}catch(g){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),fe(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(n){var l,r;try{let c,d;"options"in n&&(c=(l=n.options)===null||l===void 0?void 0:l.redirectTo,d=(r=n.options)===null||r===void 0?void 0:r.captchaToken);const{data:f,error:g}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:d}}),redirectTo:c,xform:$a});if(g)throw g;if(!f)throw new Error("An error occurred on token verification.");const p=f.session,y=f.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(c){if(fe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var l,r,c,d,f;try{let g=null,p=null;this.flowType==="pkce"&&([g,p]=await vi(this.storage,this.storageKey));const y=await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(r=(l=n.options)===null||l===void 0?void 0:l.redirectTo)!==null&&r!==void 0?r:void 0}),!((c=n?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:p}),headers:this.headers,xform:Zv});return!((d=y.data)===null||d===void 0)&&d.url&&Mt()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(g){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),fe(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:l},error:r}=n;if(r)throw r;if(!l)throw new da;const{error:c}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:l.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(fe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const l=`${this.url}/resend`;if("email"in n){const{email:r,type:c,options:d}=n,{error:f}=await pe(this.fetch,"POST",l,{headers:this.headers,body:{email:r,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:r,type:c,options:d}=n,{data:f,error:g}=await pe(this.fetch,"POST",l,{headers:this.headers,body:{phone:r,type:c,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:g})}throw new ro("You must provide either an email or phone number and a type")}catch(l){if(fe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async l=>l))}async _acquireLock(n,l){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await r,await l()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=l();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const l=await this.__loadSession();return await n(l)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const l=await Os(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",l),l!==null&&(this._isValidSession(l)?n=l:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const r=n.expires_at?n.expires_at*1e3-Date.now()<Uc:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",n.expires_at),!r){if(this.userStorage){const f=await Os(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=zc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=Qv(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const l=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return l.data.user&&(this.suppressGetSessionWarning=!0),l}async _getUser(n){try{return n?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:is}):await this._useSession(async l=>{var r,c,d;const{data:f,error:g}=l;if(g)throw g;return!(!((r=f.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new da}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0,xform:is})})}catch(l){if(fe(l))return Dc(l)&&(await this._removeSession(),await Dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:l});throw l}}async updateUser(n,l={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,l))}async _updateUser(n,l={}){try{return await this._useSession(async r=>{const{data:c,error:d}=r;if(d)throw d;if(!c.session)throw new da;const f=c.session;let g=null,p=null;this.flowType==="pkce"&&n.email!=null&&([g,p]=await vi(this.storage,this.storageKey));const{data:y,error:b}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:l?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:g,code_challenge_method:p}),jwt:f.access_token,xform:is});if(b)throw b;return f.user=y.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(r){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),fe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new da;const l=Date.now()/1e3;let r=l,c=!0,d=null;const{payload:f}=uo(n.access_token);if(f.exp&&(r=f.exp,c=r<=l),c){const{data:g,error:p}=await this._callRefreshToken(n.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g)return{data:{user:null,session:null},error:null};d=g}else{const{data:g,error:p}=await this._getUser(n.access_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});d={access_token:n.access_token,refresh_token:n.refresh_token,user:g.user,token_type:"bearer",expires_in:r-l,expires_at:r},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(l){if(fe(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async l=>{var r;if(!n){const{data:f,error:g}=l;if(g)throw g;n=(r=f.session)!==null&&r!==void 0?r:void 0}if(!n?.refresh_token)throw new da;const{data:c,error:d}=await this._callRefreshToken(n.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(l){if(fe(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async _getSessionFromURL(n,l){try{if(!Mt())throw new oo("No browser detected.");if(n.error||n.error_description||n.error_code)throw new oo(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(l){case"implicit":if(this.flowType==="pkce")throw new t0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new oo("Not a valid implicit grant flow url.");break;default:}if(l==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new t0("No code detected.");const{data:q,error:M}=await this._exchangeCodeForSession(n.code);if(M)throw M;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:q.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:c,access_token:d,refresh_token:f,expires_in:g,expires_at:p,token_type:y}=n;if(!d||!g||!f||!y)throw new oo("No session defined in URL");const b=Math.round(Date.now()/1e3),S=parseInt(g);let N=b+S;p&&(N=parseInt(p));const A=N-b;A*1e3<=Ti&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${S}s`);const U=N-S;b-U>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",U,N,b):b-U<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",U,N,b);const{data:H,error:Q}=await this._getUser(d);if(Q)throw Q;const Y={provider_token:r,provider_refresh_token:c,access_token:d,expires_in:S,expires_at:N,refresh_token:f,token_type:y,user:H.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:Y,redirectType:n.type},error:null})}catch(r){if(fe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const l=await Os(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&l)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async l=>{var r;const{data:c,error:d}=l;if(d&&!Dc(d))return this._returnResult({error:d});const f=(r=c.session)===null||r===void 0?void 0:r.access_token;if(f){const{error:g}=await this.admin.signOut(f,n);if(g&&!(Sv(g)&&(g.status===404||g.status===401||g.status===403)||Dc(g)))return this._returnResult({error:g})}return n!=="others"&&(await this._removeSession(),await Dt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const l=Rv(),r={id:l,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",l),this.stateChangeEmitters.delete(l)}};return this._debug("#onAuthStateChange()","registered callback with id",l),this.stateChangeEmitters.set(l,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(l)})))(),{data:{subscription:r}}}async _emitInitialSession(n){return await this._useSession(async l=>{var r,c;try{const{data:{session:d},error:f}=l;if(f)throw f;await((r=this.stateChangeEmitters.get(n))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",n,"session",d)}catch(d){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",d),console.error(d)}})}async resetPasswordForEmail(n,l={}){let r=null,c=null;this.flowType==="pkce"&&([r,c]=await vi(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:r,code_challenge_method:c,gotrue_meta_security:{captcha_token:l.captchaToken}},headers:this.headers,redirectTo:l.redirectTo})}catch(d){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),fe(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var n;try{const{data:l,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(n=l.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(l){if(fe(l))return this._returnResult({data:null,error:l});throw l}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var l;try{const{data:r,error:c}=await this._useSession(async d=>{var f,g,p,y,b;const{data:S,error:N}=d;if(N)throw N;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(g=n.options)===null||g===void 0?void 0:g.scopes,queryParams:(p=n.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",A,{headers:this.headers,jwt:(b=(y=S.session)===null||y===void 0?void 0:y.access_token)!==null&&b!==void 0?b:void 0})});if(c)throw c;return Mt()&&!(!((l=n.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:n.provider,url:r?.url},error:null})}catch(r){if(fe(r))return this._returnResult({data:{provider:n.provider,url:null},error:r});throw r}}async linkIdentityIdToken(n){return await this._useSession(async l=>{var r;try{const{error:c,data:{session:d}}=l;if(c)throw c;const{options:f,provider:g,token:p,access_token:y,nonce:b}=n,S=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=d?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:g,id_token:p,access_token:y,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:$a}),{data:N,error:A}=S;return A?this._returnResult({data:{user:null,session:null},error:A}):!N||!N.session||!N.user?this._returnResult({data:{user:null,session:null},error:new pi}):(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("USER_UPDATED",N.session)),this._returnResult({data:N,error:A}))}catch(c){if(await Dt(this.storage,`${this.storageKey}-code-verifier`),fe(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async l=>{var r,c;const{data:d,error:f}=l;if(f)throw f;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(r=d.session)===null||r===void 0?void 0:r.access_token)!==null&&c!==void 0?c:void 0})})}catch(l){if(fe(l))return this._returnResult({data:null,error:l});throw l}}async _refreshAccessToken(n){const l=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(l,"begin");try{const r=Date.now();return await zv(async c=>(c>0&&await Mv(200*Math.pow(2,c-1)),this._debug(l,"refreshing attempt",c),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:$a})),(c,d)=>{const f=200*Math.pow(2,c);return d&&Mc(d)&&Date.now()+f-r<Ti})}catch(r){if(this._debug(l,"error",r),fe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(l,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,l){const r=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",l,"url",r),Mt()&&!l.skipBrowserRedirect&&window.location.assign(r),{data:{provider:n,url:r},error:null}}async _recoverAndRefresh(){var n,l;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const c=await Os(this.storage,this.storageKey);if(c&&this.userStorage){let f=await Os(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:c.user},await Ei(this.userStorage,this.storageKey+"-user",f)),c.user=(n=f?.user)!==null&&n!==void 0?n:zc()}else if(c&&!c.user&&!c.user){const f=await Os(this.storage,this.storageKey+"-user");f&&f?.user?(c.user=f.user,await Dt(this.storage,this.storageKey+"-user"),await Ei(this.storage,this.storageKey,c)):c.user=zc()}if(this._debug(r,"session from storage",c),!this._isValidSession(c)){this._debug(r,"session is not valid"),c!==null&&await this._removeSession();return}const d=((l=c.expires_at)!==null&&l!==void 0?l:1/0)*1e3-Date.now()<Uc;if(this._debug(r,`session has${d?"":" not"} expired with margin of ${Uc}s`),d){if(this.autoRefreshToken&&c.refresh_token){const{error:f}=await this._callRefreshToken(c.refresh_token);f&&(console.error(f),Mc(f)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:g}=await this._getUser(c.access_token);!g&&f?.user?(c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(r,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(r,"error",c),console.error(c);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var l,r;if(!n)throw new da;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new wo;const{data:d,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!d.session)throw new da;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const g={data:d.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(d){if(this._debug(c,"error",d),fe(d)){const f={data:null,error:d};return Mc(d)||await this._removeSession(),(l=this.refreshingDeferred)===null||l===void 0||l.resolve(f),f}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(d),d}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,l,r=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",l,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:n,session:l});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(n,l)}catch(p){d.push(p)}});if(await Promise.all(f),d.length>0){for(let g=0;g<d.length;g+=1)console.error(d[g]);throw d[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await Dt(this.storage,`${this.storageKey}-code-verifier`);const l=Object.assign({},n),r=l.user&&l.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&l.user&&await Ei(this.userStorage,this.storageKey+"-user",{user:l.user});const c=Object.assign({},l);delete c.user;const d=l0(c);await Ei(this.storage,this.storageKey,d)}else{const c=l0(l);await Ei(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Dt(this.storage,this.storageKey),await Dt(this.storage,this.storageKey+"-code-verifier"),await Dt(this.storage,this.storageKey+"-user"),this.userStorage&&await Dt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Mt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(l){console.error("removing visibilitychange callback failed",l)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Ti);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const l=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=l,l&&typeof l=="object"&&typeof l.unref=="function"?l.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(l)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const l=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,l&&clearTimeout(l)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async l=>{const{data:{session:r}}=l;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((r.expires_at*1e3-n)/Ti);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Ti}ms, refresh threshold is ${Qc} ticks`),c<=Qc&&await this._callRefreshToken(r.refresh_token)})}catch(l){console.error("Auto refresh tick failed with error. This is likely a transient error.",l)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof H0)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const l=`#_onVisibilityChanged(${n})`;this._debug(l,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(l,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,l,r){const c=[`provider=${encodeURIComponent(l)}`];if(r?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&c.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[d,f]=await vi(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});c.push(g.toString())}if(r?.queryParams){const d=new URLSearchParams(r.queryParams);c.push(d.toString())}return r?.skipBrowserRedirect&&c.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async l=>{var r;const{data:c,error:d}=l;return d?this._returnResult({data:null,error:d}):await pe(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token})})}catch(l){if(fe(l))return this._returnResult({data:null,error:l});throw l}}async _enroll(n){try{return await this._useSession(async l=>{var r,c;const{data:d,error:f}=l;if(f)return this._returnResult({data:null,error:f});const g=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:p,error:y}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(r=d?.session)===null||r===void 0?void 0:r.access_token});return y?this._returnResult({data:null,error:y}):(n.factorType==="totp"&&p.type==="totp"&&(!((c=p?.totp)===null||c===void 0)&&c.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(l){if(fe(l))return this._returnResult({data:null,error:l});throw l}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:d}=l;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?hb(n.webauthn.credential_response):fb(n.webauthn.credential_response)})}:{code:n.code}),{data:g,error:p}=await pe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:p}))})}catch(l){if(fe(l))return this._returnResult({data:null,error:l});throw l}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async l=>{var r;const{data:c,error:d}=l;if(d)return this._returnResult({data:null,error:d});const f=await pe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(r=c?.session)===null||r===void 0?void 0:r.access_token});if(f.error)return f;const{data:g}=f;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:cb(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:db(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(l){if(fe(l))return this._returnResult({data:null,error:l});throw l}})}async _challengeAndVerify(n){const{data:l,error:r}=await this._challenge({factorId:n.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:n.factorId,challengeId:l.id,code:n.code})}async _listFactors(){var n;const{data:{user:l},error:r}=await this.getUser();if(r)return{data:null,error:r};const c={all:[],phone:[],totp:[],webauthn:[]};for(const d of(n=l?.factors)!==null&&n!==void 0?n:[])c.all.push(d),d.status==="verified"&&c[d.factor_type].push(d);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(n){var l,r,c,d;if(n)try{const{payload:A}=uo(n);let U=null;A.aal&&(U=A.aal);let H=U;const{data:{user:Q},error:Y}=await this.getUser(n);if(Y)return this._returnResult({data:null,error:Y});((r=(l=Q?.factors)===null||l===void 0?void 0:l.filter(P=>P.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(H="aal2");const M=A.amr||[];return{data:{currentLevel:U,nextLevel:H,currentAuthenticationMethods:M},error:null}}catch(A){if(fe(A))return this._returnResult({data:null,error:A});throw A}const{data:{session:f},error:g}=await this.getSession();if(g)return this._returnResult({data:null,error:g});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=uo(f.access_token);let y=null;p.aal&&(y=p.aal);let b=y;((d=(c=f.user.factors)===null||c===void 0?void 0:c.filter(A=>A.status==="verified"))!==null&&d!==void 0?d:[]).length>0&&(b="aal2");const N=p.amr||[];return{data:{currentLevel:y,nextLevel:b,currentAuthenticationMethods:N},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async l=>{const{data:{session:r},error:c}=l;return c?this._returnResult({data:null,error:c}):r?await pe(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:r.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new da})})}catch(l){if(fe(l))return this._returnResult({data:null,error:l});throw l}}async _approveAuthorization(n,l){try{return await this._useSession(async r=>{const{data:{session:c},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new da});const f=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&Mt()&&!l?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(n,l){try{return await this._useSession(async r=>{const{data:{session:c},error:d}=r;if(d)return this._returnResult({data:null,error:d});if(!c)return this._returnResult({data:null,error:new da});const f=await pe(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return f.data&&f.data.redirect_url&&Mt()&&!l?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:l},error:r}=n;return r?this._returnResult({data:null,error:r}):l?await pe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new da})})}catch(n){if(fe(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async l=>{const{data:{session:r},error:c}=l;return c?this._returnResult({data:null,error:c}):r?(await pe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new da})})}catch(l){if(fe(l))return this._returnResult({data:null,error:l});throw l}}async fetchJwk(n,l={keys:[]}){let r=l.keys.find(g=>g.kid===n);if(r)return r;const c=Date.now();if(r=this.jwks.keys.find(g=>g.kid===n),r&&this.jwks_cached_at+_v>c)return r;const{data:d,error:f}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=c,r=d.keys.find(g=>g.kid===n),!r)?null:r}async getClaims(n,l={}){try{let r=n;if(!r){const{data:A,error:U}=await this.getSession();if(U||!A.session)return this._returnResult({data:null,error:U});r=A.session.access_token}const{header:c,payload:d,signature:f,raw:{header:g,payload:p}}=uo(r);l?.allowExpired||Vv(d.exp);const y=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,l?.keys?{keys:l.keys}:l?.jwks);if(!y){const{error:A}=await this.getUser(r);if(A)throw A;return{data:{claims:d,header:c,signature:f},error:null}}const b=Yv(c.alg),S=await crypto.subtle.importKey("jwk",y,b,!0,["verify"]);if(!await crypto.subtle.verify(b,S,f,Ov(`${g}.${p}`)))throw new Ic("Invalid JWT signature");return{data:{claims:d,header:c,signature:f},error:null}}catch(r){if(fe(r))return this._returnResult({data:null,error:r});throw r}}}Bl.nextInstanceID={};const wb=Bl,Sb="2.93.3";let Al="";typeof Deno<"u"?Al="deno":typeof document<"u"?Al="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Al="react-native":Al="node";const Tb={"X-Client-Info":`supabase-js-${Al}/${Sb}`},Eb={headers:Tb},jb={schema:"public"},Nb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ab={};function Ll(i){"@babel/helpers - typeof";return Ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ll(i)}function Cb(i,n){if(Ll(i)!="object"||!i)return i;var l=i[Symbol.toPrimitive];if(l!==void 0){var r=l.call(i,n);if(Ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function Ob(i){var n=Cb(i,"string");return Ll(n)=="symbol"?n:n+""}function kb(i,n,l){return(n=Ob(n))in i?Object.defineProperty(i,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[n]=l,i}function f0(i,n){var l=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);n&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(i,c).enumerable})),l.push.apply(l,r)}return l}function rt(i){for(var n=1;n<arguments.length;n++){var l=arguments[n]!=null?arguments[n]:{};n%2?f0(Object(l),!0).forEach(function(r){kb(i,r,l[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(l)):f0(Object(l)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(l,r))})}return i}const Rb=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Ub=()=>Headers,Db=(i,n,l)=>{const r=Rb(l),c=Ub();return async(d,f)=>{var g;const p=(g=await n())!==null&&g!==void 0?g:i;let y=new c(f?.headers);return y.has("apikey")||y.set("apikey",i),y.has("Authorization")||y.set("Authorization",`Bearer ${p}`),r(d,rt(rt({},f),{},{headers:y}))}};function Mb(i){return i.endsWith("/")?i:i+"/"}function zb(i,n){var l,r;const{db:c,auth:d,realtime:f,global:g}=i,{db:p,auth:y,realtime:b,global:S}=n,N={db:rt(rt({},p),c),auth:rt(rt({},y),d),realtime:rt(rt({},b),f),storage:{},global:rt(rt(rt({},S),g),{},{headers:rt(rt({},(l=S?.headers)!==null&&l!==void 0?l:{}),(r=g?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return i.accessToken?N.accessToken=i.accessToken:delete N.accessToken,N}function Bb(i){const n=i?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Mb(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Lb=class extends wb{constructor(i){super(i)}},qb=class{constructor(i,n,l){var r,c;this.supabaseUrl=i,this.supabaseKey=n;const d=Bb(i);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,g={db:jb,realtime:Ab,auth:rt(rt({},Nb),{},{storageKey:f}),global:Eb},p=zb(l??{},g);if(this.storageKey=(r=p.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(c=p.global.headers)!==null&&c!==void 0?c:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(b,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=p.auth)!==null&&y!==void 0?y:{},this.headers,p.global.fetch)}this.fetch=Db(n,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(rt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(b=>this.realtime.setAuth(b)).catch(b=>console.warn("Failed to set initial Realtime auth token:",b)),this.rest=new Sp(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new yv(this.storageUrl.href,this.headers,this.fetch,l?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new vp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,n={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,n,l)}channel(i,n={config:{}}){return this.realtime.channel(i,n)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,n,l;if(i.accessToken)return await i.accessToken();const{data:r}=await i.auth.getSession();return(n=(l=r.session)===null||l===void 0?void 0:l.access_token)!==null&&n!==void 0?n:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:n,detectSessionInUrl:l,storage:r,userStorage:c,storageKey:d,flowType:f,lock:g,debug:p,throwOnError:y},b,S){const N={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Lb({url:this.authUrl.href,headers:rt(rt({},N),b),storageKey:d,autoRefreshToken:i,persistSession:n,detectSessionInUrl:l,storage:r,userStorage:c,flowType:f,lock:g,debug:p,throwOnError:y,fetch:S,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new Hp(this.realtimeUrl.href,rt(rt({},i),{},{params:rt(rt({},{apikey:this.supabaseKey}),i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,n)=>{this._handleTokenChanged(i,"CLIENT",n?.access_token)})}_handleTokenChanged(i,n,l){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==l?(this.changedAccessToken=l,this.realtime.setAuth(l)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Hb=(i,n,l)=>new qb(i,n,l);function $b(){if(typeof window<"u")return!1;const i=globalThis.process;if(!i)return!1;const n=i.version;if(n==null)return!1;const l=n.match(/^v(\d+)\./);return l?parseInt(l[1],10)<=18:!1}$b()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Gb="https://nhkfflffufopqbzrlztm.supabase.co",Vb="sb_publishable_ZB94pH4PlQbagtjDxn44Cw_5_K6-Od9",Be=Hb(Gb,Vb),V0=j.createContext({});function Yb({children:i}){const[n,l]=j.useState(null),[r,c]=j.useState(!0);j.useEffect(()=>{Be.auth.getSession().then(({data:{session:b}})=>{l(b?.user??null),c(!1)});const{data:{subscription:y}}=Be.auth.onAuthStateChange((b,S)=>{l(S?.user??null)});return()=>y.unsubscribe()},[]);const d=async(y,b)=>{const{data:S,error:N}=await Be.auth.signUp({email:y,password:b});if(N)throw N;return S},f=async(y,b)=>{const{data:S,error:N}=await Be.auth.signInWithPassword({email:y,password:b});if(N)throw N;return S},g=async()=>{const{error:y}=await Be.auth.signOut();if(y)throw y},p=async y=>{const{error:b}=await Be.auth.resetPasswordForEmail(y,{redirectTo:`${window.location.origin}/playstats-basketball/`});if(b)throw b};return h.jsx(V0.Provider,{value:{user:n,loading:r,signUp:d,signIn:f,signOut:g,resetPassword:p},children:i})}function So(){return j.useContext(V0)}const Y0="playstats-sync-queue",K0="playstats-teams-cache",Zc="playstats-players-cache",Pc="playstats-games-cache",Kb=10,Qb=3e4;function ad(){try{return JSON.parse(localStorage.getItem(Y0)||"[]")}catch{return[]}}function Wc(i){localStorage.setItem(Y0,JSON.stringify(i))}function Cl(i){const n=ad();if(i.type==="upsert_game"&&i.data?.id){const l=n.findIndex(r=>r.type==="upsert_game"&&r.data?.id===i.data.id);if(l>=0){n[l]={...i,timestamp:Date.now(),retries:n[l].retries||0},Wc(n);return}}n.push({...i,timestamp:Date.now(),retries:0}),Wc(n)}function m0(){try{return JSON.parse(localStorage.getItem(K0)||"[]")}catch{return[]}}function Jb(i){localStorage.setItem(K0,JSON.stringify(i))}function g0(i){try{return JSON.parse(localStorage.getItem(Zc)||"{}")[i]||[]}catch{return[]}}function co(i,n){try{const l=JSON.parse(localStorage.getItem(Zc)||"{}");l[i]=n,localStorage.setItem(Zc,JSON.stringify(l))}catch{}}function y0(i){try{return JSON.parse(localStorage.getItem(Pc)||"{}")[i]||[]}catch{return[]}}function wi(i,n){try{const l=JSON.parse(localStorage.getItem(Pc)||"{}");l[i]=n,localStorage.setItem(Pc,JSON.stringify(l))}catch{}}async function Lc(){const i=ad();if(i.length===0)return;const n=[];for(const l of i)try{if(l.type==="upsert_game"){const{error:r}=await Be.from("games").upsert({id:l.data.id,team_id:l.data.team_id,created_by:l.data.created_by,status:l.data.status,home_team:l.data.home_team,away_team:l.data.away_team,home_score:l.data.home_score,away_score:l.data.away_score,is_home_team:l.data.is_home_team,current_quarter:l.data.current_quarter,game_data:l.data.game_data,updated_at:new Date().toISOString()});if(r)throw r}else if(l.type==="delete_game"){const{error:r}=await Be.from("games").delete().eq("id",l.data.id);if(r)throw r}}catch(r){const c=(l.retries||0)+1;c<Kb?n.push({...l,retries:c}):console.error("Operacion descartada tras alcanzar maximo de reintentos:",l,r)}Wc(n)}let ho=null;function Xb(){const i=()=>{Lc()};return window.addEventListener("online",i),navigator.onLine&&Lc(),ho=setInterval(()=>{navigator.onLine&&ad().length>0&&Lc()},Qb),()=>{window.removeEventListener("online",i),ho&&(clearInterval(ho),ho=null)}}function fo(){return navigator.onLine}const Q0=j.createContext({}),Ib=[{name:"Player 1",number:"1",position:"Base"},{name:"Player 2",number:"2",position:"Base"},{name:"Player 3",number:"3",position:"Base"},{name:"Player 4",number:"4",position:"Base"},{name:"Player 5",number:"5",position:"Base"},{name:"Player 6",number:"6",position:"Alero"},{name:"Player 7",number:"7",position:"Alero"},{name:"Player 8",number:"8",position:"Alero"},{name:"Player 9",number:"9",position:"Joker"},{name:"Player 10",number:"10",position:"Joker"},{name:"Player 11",number:"11",position:"Joker"},{name:"Player 12",number:"0",position:"Unselected"}];function Zb({children:i}){const{user:n}=So(),[l,r]=j.useState([]),[c,d]=j.useState(null),[f,g]=j.useState([]),[p,y]=j.useState([]),[b,S]=j.useState(!1),[N,A]=j.useState(navigator.onLine),U=j.useRef(null);j.useEffect(()=>{const I=()=>A(!0),C=()=>A(!1);return window.addEventListener("online",I),window.addEventListener("offline",C),()=>{window.removeEventListener("online",I),window.removeEventListener("offline",C)}},[]),j.useEffect(()=>Xb(),[]);const H=j.useCallback(async()=>{if(n){S(!0);try{if(fo()){const{data:I,error:C}=await Be.from("team_members").select("team_id, role, teams(id, name, icon, invite_code, created_by)").eq("user_id",n.id);if(C)throw C;const $=(I||[]).map(W=>({...W.teams,role:W.role}));r($),Jb($)}else r(m0())}catch(I){console.error("Error cargando equipos:",I),r(m0())}finally{S(!1)}}},[n]);j.useEffect(()=>{H()},[H]);const Q=j.useCallback(async(I,C="")=>{if(!n)return null;try{const{data:$,error:W}=await Be.from("teams").insert({name:I,icon:C,created_by:n.id}).select().single();if(W)throw W;const{error:he}=await Be.from("team_members").insert({team_id:$.id,user_id:n.id,role:"owner"});if(he)throw he;const Z=Ib.map((_,z)=>({team_id:$.id,name:_.name,number:_.number,position:_.position,sort_order:z}));return await Be.from("team_players").insert(Z),await H(),$}catch($){throw console.error("Error creando equipo:",$),$}},[n,H]),Y=j.useCallback(async I=>{d(I),S(!0),U.current&&(Be.removeChannel(U.current),U.current=null);try{if(fo()){const{data:C,error:$}=await Be.from("team_players").select("*").eq("team_id",I.id).order("sort_order");if($)throw $;g(C||[]),co(I.id,C||[]);const{data:W,error:he}=await Be.from("games").select("*").eq("team_id",I.id).order("updated_at",{ascending:!1});if(he)throw he;y(W||[]),wi(I.id,W||[]);const Z=Be.channel(`games-team-${I.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"games",filter:`team_id=eq.${I.id}`},_=>{y(z=>{if(z.some(ae=>ae.id===_.new.id))return z;const X=[_.new,...z];return wi(I.id,X),X})}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"games",filter:`team_id=eq.${I.id}`},_=>{y(z=>{const X=z.map(ae=>ae.id===_.new.id?_.new:ae);return wi(I.id,X),X})}).on("postgres_changes",{event:"DELETE",schema:"public",table:"games",filter:`team_id=eq.${I.id}`},_=>{y(z=>{const X=z.filter(ae=>ae.id!==_.old.id);return wi(I.id,X),X})}).subscribe();U.current=Z}else g(g0(I.id)),y(y0(I.id))}catch(C){console.error("Error cargando equipo:",C),g(g0(I.id)),y(y0(I.id))}finally{S(!1)}},[]),q=j.useCallback(()=>{U.current&&(Be.removeChannel(U.current),U.current=null),d(null),g([]),y([])},[]),M=j.useCallback(async I=>{if(!n)throw new Error("No autenticado");const{data:C,error:$}=await Be.rpc("join_team_by_invite_code",{code:I});if($)throw $;return await H(),C},[n,H]),P=j.useCallback(async I=>{const C=Array.from(crypto.getRandomValues(new Uint8Array(6))).map(W=>W.toString(16).padStart(2,"0")).join(""),{error:$}=await Be.from("teams").update({invite_code:C}).eq("id",I);if($)throw $;return await H(),C},[H]),oe=j.useCallback(async I=>{if(!c)return;const{data:C,error:$}=await Be.from("team_players").insert({...I,team_id:c.id}).select().single();if($)throw $;return g(W=>[...W,C]),co(c.id,[...f,C]),C},[c,f]),re=j.useCallback(async(I,C)=>{if(!c)return;const{error:$}=await Be.from("team_players").update(C).eq("id",I);if($)throw $;g(W=>{const he=W.map(Z=>Z.id===I?{...Z,...C}:Z);return co(c.id,he),he})},[c]),te=j.useCallback(async I=>{if(!c)return;const{error:C}=await Be.from("team_players").delete().eq("id",I);if(C)throw C;g($=>{const W=$.filter(he=>he.id!==I);return co(c.id,W),W})},[c]),_e=j.useCallback(async I=>{if(!c||!n)return;const C={id:I.id,team_id:c.id,created_by:n.id,status:I.status||"in_progress",home_team:I.homeTeam||"Home",away_team:I.awayTeam||"Away",home_score:I.homeScore||0,away_score:I.awayScore||0,is_home_team:I.isHomeTeam??!0,current_quarter:I.currentQuarter||1,game_data:I,updated_at:new Date().toISOString()};if(fo())try{const{error:$}=await Be.from("games").upsert(C);if($)throw $}catch{Cl({type:"upsert_game",data:C})}else Cl({type:"upsert_game",data:C});y($=>{const W=$.findIndex(Z=>Z.id===C.id);let he;return W>=0?(he=[...$],he[W]=C):he=[C,...$],wi(c.id,he),he})},[c,n]),V=j.useCallback(async I=>{if(c){if(fo())try{const{error:C}=await Be.from("games").delete().eq("id",I);if(C)throw C}catch{Cl({type:"delete_game",data:{id:I}})}else Cl({type:"delete_game",data:{id:I}});y(C=>{const $=C.filter(W=>W.id!==I);return wi(c.id,$),$})}},[c]),je=j.useCallback(async I=>{const{data:C,error:$}=await Be.rpc("get_team_by_invite_code",{code:I});if($)throw $;return C},[]),Ke=j.useCallback(async(I,C)=>{const{error:$}=await Be.from("teams").update(C).eq("id",I);if($)throw $;r(W=>W.map(he=>he.id===I?{...he,...C}:he)),c?.id===I&&d(W=>({...W,...C}))},[c]),Le=j.useCallback(async(I,C)=>{const $=C.name.split(".").pop(),W=`${I}/avatar.${$}`;await Be.storage.from("team-avatars").remove([W]);const{error:he}=await Be.storage.from("team-avatars").upload(W,C,{upsert:!0});if(he)throw he;const{data:{publicUrl:Z}}=Be.storage.from("team-avatars").getPublicUrl(W);return await Ke(I,{icon:Z}),Z},[Ke]),mt=j.useCallback(async I=>{const{error:C}=await Be.from("teams").delete().eq("id",I);if(C)throw C;await H(),c?.id===I&&q()},[H,c,q]),ot=j.useCallback(async()=>{c&&await Y(c)},[c,Y]);return h.jsx(Q0.Provider,{value:{teams:l,currentTeam:c,teamPlayers:f,teamGames:p,loading:b,online:N,loadTeams:H,createTeam:Q,selectTeam:Y,deselectTeam:q,deleteTeam:mt,joinTeam:M,regenerateInviteCode:P,getTeamByInviteCode:je,updateTeam:Ke,uploadTeamAvatar:Le,addPlayer:oe,updatePlayer:re,deletePlayer:te,saveGame:_e,deleteGame:V,refreshCurrentTeam:ot},children:i})}function Gl(){return j.useContext(Q0)}function ql({className:i="w-8 h-8"}){return h.jsxs("svg",{viewBox:"0 0 32 32",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",className:i,children:[h.jsxs("g",{strokeWidth:"2",children:[h.jsx("path",{d:"M8,4 L24,4 L22,16 C21,20 11,20 10,16 Z"}),h.jsx("path",{d:"M8,6 C4,6 3,10 6,13 L10,13"}),h.jsx("path",{d:"M24,6 C28,6 29,10 26,13 L22,13"}),h.jsx("line",{x1:"16",y1:"20",x2:"16",y2:"25"}),h.jsx("path",{d:"M11,25 L21,25 L22,28 L10,28 Z"})]}),h.jsx("g",{strokeWidth:"1.2",children:h.jsx("path",{d:"M16,8 L17.2,11 L20.5,11 L18,13 L19,16 L16,14 L13,16 L14,13 L11.5,11 L14.8,11 Z"})})]})}function Pb(){const{signIn:i,signUp:n,resetPassword:l}=So(),[r,c]=j.useState(!0),[d,f]=j.useState(""),[g,p]=j.useState(""),[y,b]=j.useState(""),[S,N]=j.useState(""),[A,U]=j.useState(!1),[H,Q]=j.useState(!1),Y=async q=>{q.preventDefault(),b(""),N(""),U(!0);try{H?(await l(d),N("Te hemos enviado un email para restablecer tu contrasena"),Q(!1)):r?await i(d,g):(await n(d,g),N("Cuenta creada correctamente"))}catch(M){const P=M.message||"Error desconocido";P.includes("Invalid login credentials")?b("Email o contrasena incorrectos"):P.includes("User already registered")?b("Este email ya esta registrado"):P.includes("Password should be at least")?b("La contrasena debe tener al menos 6 caracteres"):P.includes("Unable to validate email")?b("Email no valido"):b(P)}finally{U(!1)}};return H?h.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-gray-800 rounded-2xl p-6 sm:p-8 md:p-10 border-2 border-orange-500 max-w-md w-full",children:[h.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[h.jsx(ql,{className:"w-8 h-8 text-orange-500"}),h.jsx("h1",{className:"text-xl sm:text-2xl font-black text-orange-400",children:"PlayStats Basketball"})]}),h.jsx("h2",{className:"text-lg font-bold text-center mb-6 text-gray-300",children:"Restablecer contrasena"}),y&&h.jsx("div",{className:"bg-red-900/50 border border-red-500 rounded-lg p-3 mb-4 text-sm text-red-300",children:y}),S&&h.jsx("div",{className:"bg-green-900/50 border border-green-500 rounded-lg p-3 mb-4 text-sm text-green-300",children:S}),h.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-1",children:"Email"}),h.jsx("input",{type:"email",value:d,onChange:q=>f(q.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none",placeholder:"tu@email.com",required:!0})]}),h.jsx("button",{type:"submit",disabled:A,className:"w-full bg-orange-600 hover:bg-orange-500 active:bg-orange-400 py-3 rounded-lg font-bold text-lg disabled:opacity-50",children:A?"Enviando...":"Enviar email de recuperacion"})]}),h.jsx("button",{onClick:()=>{Q(!1),b(""),N("")},className:"w-full mt-4 text-gray-400 hover:text-white text-sm",children:"Volver al login"})]})}):h.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-gray-800 rounded-2xl p-6 sm:p-8 md:p-10 border-2 border-orange-500 max-w-md w-full",children:[h.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[h.jsx(ql,{className:"w-8 h-8 text-orange-500"}),h.jsx("h1",{className:"text-xl sm:text-2xl font-black text-orange-400",children:"PlayStats Basketball"})]}),h.jsxs("div",{className:"flex mb-6 bg-gray-700 rounded-lg p-1",children:[h.jsx("button",{onClick:()=>{c(!0),b(""),N("")},className:`flex-1 py-2 rounded-md font-bold text-sm transition-colors ${r?"bg-orange-600 text-white":"text-gray-400 hover:text-white"}`,children:"Iniciar Sesion"}),h.jsx("button",{onClick:()=>{c(!1),b(""),N("")},className:`flex-1 py-2 rounded-md font-bold text-sm transition-colors ${r?"text-gray-400 hover:text-white":"bg-orange-600 text-white"}`,children:"Registrarse"})]}),y&&h.jsx("div",{className:"bg-red-900/50 border border-red-500 rounded-lg p-3 mb-4 text-sm text-red-300",children:y}),S&&h.jsx("div",{className:"bg-green-900/50 border border-green-500 rounded-lg p-3 mb-4 text-sm text-green-300",children:S}),h.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-1",children:"Email"}),h.jsx("input",{type:"email",value:d,onChange:q=>f(q.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none",placeholder:"tu@email.com",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-1",children:"Contrasena"}),h.jsx("input",{type:"password",value:g,onChange:q=>p(q.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none",placeholder:"Minimo 6 caracteres",required:!0,minLength:6})]}),h.jsx("button",{type:"submit",disabled:A,className:"w-full bg-orange-600 hover:bg-orange-500 active:bg-orange-400 py-3 rounded-lg font-bold text-lg disabled:opacity-50",children:A?"Cargando...":r?"Entrar":"Crear cuenta"})]}),r&&h.jsx("button",{onClick:()=>{Q(!0),b(""),N("")},className:"w-full mt-4 text-gray-400 hover:text-white text-sm",children:"He olvidado mi contrasena"})]})})}const J0=(...i)=>i.filter((n,l,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===l).join(" ").trim();const Wb=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Fb=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,l,r)=>r?r.toUpperCase():l.toLowerCase());const p0=i=>{const n=Fb(i);return n.charAt(0).toUpperCase()+n.slice(1)};var ex={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tx=i=>{for(const n in i)if(n.startsWith("aria-")||n==="role"||n==="title")return!0;return!1};const ax=j.forwardRef(({color:i="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:r,className:c="",children:d,iconNode:f,...g},p)=>j.createElement("svg",{ref:p,...ex,width:n,height:n,stroke:i,strokeWidth:r?Number(l)*24/Number(n):l,className:J0("lucide",c),...!d&&!tx(g)&&{"aria-hidden":"true"},...g},[...f.map(([y,b])=>j.createElement(y,b)),...Array.isArray(d)?d:[d]]));const Je=(i,n)=>{const l=j.forwardRef(({className:r,...c},d)=>j.createElement(ax,{ref:d,iconNode:n,className:J0(`lucide-${Wb(p0(i))}`,`lucide-${i}`,r),...c}));return l.displayName=p0(i),l};const nx=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],sx=Je("arrow-left",nx);const ix=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],lx=Je("bell",ix);const rx=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ox=Je("camera",rx);const ux=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Oi=Je("check",ux);const cx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],qc=Je("circle-x",cx);const dx=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],hx=Je("copy",dx);const fx=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],mx=Je("download",fx);const gx=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yx=Je("eye",gx);const px=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],vx=Je("log-out",px);const bx=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],xx=Je("maximize",bx);const _x=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],wx=Je("pause",_x);const Sx=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],X0=Je("pen-line",Sx);const Tx=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Rl=Je("play",Tx);const Ex=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],I0=Je("plus",Ex);const jx=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Z0=Je("refresh-cw",jx);const Nx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],P0=Je("rotate-ccw",Nx);const Ax=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Cx=Je("settings",Ax);const Ox=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],kx=Je("share-2",Ox);const Rx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mo=Je("trash-2",Rx);const Ux=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],v0=Je("triangle-alert",Ux);const Dx=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Mx=Je("undo-2",Dx);const zx=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],W0=Je("users",zx);const Bx=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],F0=Je("wifi-off",Bx);const Lx=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],eg=Je("wifi",Lx);const qx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ki=Je("x",qx);const Hx=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],b0=Je("zoom-in",Hx);const $x=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],Gx=Je("zoom-out",$x);function vo({icon:i,size:n="text-3xl",imgSize:l="w-10 h-10",className:r=""}){return i&&(i.startsWith("http")||i.startsWith("data:"))?h.jsx("img",{src:i,alt:"Team",className:`${l} rounded-lg object-cover ${r}`}):h.jsx("span",{className:`${n} ${r}`,children:i||""})}function Vx(){const{signOut:i,user:n}=So(),{teams:l,loading:r,online:c,createTeam:d,joinTeam:f,selectTeam:g,getTeamByInviteCode:p}=Gl(),[y,b]=j.useState(!1),[S,N]=j.useState(""),[A,U]=j.useState(!1),[H,Q]=j.useState(""),[Y,q]=j.useState(""),[M,P]=j.useState(null);j.useEffect(()=>{const je=new URLSearchParams(window.location.search).get("join");je&&n&&(oe(je),window.history.replaceState({},"",window.location.pathname))},[n]);const oe=async V=>{P({code:V,teamInfo:null,loading:!0,joining:!1});try{const je=await p(V);je?P({code:V,teamInfo:je,loading:!1,joining:!1}):(Q("Codigo de invitacion no valido"),P(null))}catch{Q("Error al buscar el equipo"),P(null)}},re=async()=>{if(M){P(V=>({...V,joining:!0}));try{await f(M.code),q("Te has unido al equipo correctamente"),P(null),setTimeout(()=>q(""),3e3)}catch(V){Q(V.message||"Error al unirse"),P(null)}}},te=async V=>{if(V.preventDefault(),!!S.trim()){U(!0),Q("");try{const je=await d(S.trim());N(""),b(!1),je&&g(je)}catch(je){Q(je.message||"Error creando equipo")}finally{U(!1)}}},_e=async()=>{try{await i()}catch{}};return h.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-4",children:[h.jsxs("div",{className:"max-w-md md:max-w-2xl mx-auto",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ql,{className:"w-7 h-7 text-orange-500"}),h.jsx("h1",{className:"text-xl font-black text-orange-400",children:"PlayStats"})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[c?h.jsx(eg,{className:"w-4 h-4 text-green-400"}):h.jsx(F0,{className:"w-4 h-4 text-red-400"}),h.jsx("button",{onClick:_e,className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-lg",title:"Cerrar sesion",children:h.jsx(vx,{className:"w-4 h-4"})})]})]}),H&&h.jsx("div",{className:"bg-red-900/50 border border-red-500 rounded-lg p-3 mb-4 text-sm text-red-300",children:H}),Y&&h.jsx("div",{className:"bg-green-900/50 border border-green-500 rounded-lg p-3 mb-4 text-sm text-green-300",children:Y}),h.jsx("h2",{className:"text-lg font-bold mb-4 text-gray-300",children:"Mis Equipos"}),r?h.jsxs("div",{className:"text-center py-8",children:[h.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-orange-500 mx-auto mb-3"}),h.jsx("p",{className:"text-gray-400",children:"Cargando equipos..."})]}):l.length===0?h.jsxs("div",{className:"text-center py-8 bg-gray-800 rounded-2xl border-2 border-gray-700",children:[h.jsx("div",{className:"text-4xl mb-4",children:""}),h.jsx("p",{className:"text-gray-400 mb-2",children:"No tienes equipos todavia"}),h.jsx("p",{className:"text-gray-500 text-sm",children:"Crea tu primer equipo para empezar"})]}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:l.map(V=>h.jsx("button",{onClick:()=>g(V),className:"w-full bg-gray-800 hover:bg-gray-750 active:bg-gray-700 rounded-xl p-4 border-2 border-gray-700 hover:border-orange-500 text-left transition-colors",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(vo,{icon:V.icon,size:"text-3xl",imgSize:"w-10 h-10"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("div",{className:"font-bold text-white truncate",children:V.name}),h.jsx("div",{className:"text-xs text-gray-400",children:V.role==="owner"?"Creador":"Miembro"})]}),h.jsx("span",{className:"text-gray-500",children:""})]})},V.id))}),y?h.jsxs("form",{onSubmit:te,className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500 mt-4",children:[h.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:"Nombre del equipo"}),h.jsx("input",{type:"text",value:S,onChange:V=>N(V.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-orange-500 focus:outline-none mb-3",placeholder:"Ej: Panteras Alevin",autoFocus:!0,required:!0}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{type:"submit",disabled:A,className:"flex-1 bg-green-600 hover:bg-green-500 py-2 rounded-lg font-bold disabled:opacity-50",children:A?"Creando...":"Crear"}),h.jsx("button",{type:"button",onClick:()=>{b(!1),N("")},className:"flex-1 bg-gray-600 hover:bg-gray-500 py-2 rounded-lg font-bold",children:"Cancelar"})]})]}):h.jsxs("button",{onClick:()=>b(!0),className:"w-full bg-green-700 hover:bg-green-600 active:bg-green-500 rounded-xl p-4 border-2 border-green-400 mt-4 font-bold flex items-center justify-center gap-2",children:[h.jsx(I0,{className:"w-5 h-5"})," Crear Equipo"]})]}),M&&h.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-gray-800 rounded-xl p-5 border-2 border-orange-500 max-w-sm md:max-w-md w-full",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-lg font-black text-orange-400",children:"Invitacion a equipo"}),h.jsx("button",{onClick:()=>P(null),className:"p-1 bg-gray-700 rounded-lg hover:bg-gray-600",children:h.jsx(ki,{className:"w-5 h-5"})})]}),M.loading?h.jsxs("div",{className:"text-center py-6",children:[h.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-orange-500 mx-auto mb-3"}),h.jsx("p",{className:"text-gray-400",children:"Buscando equipo..."})]}):M.teamInfo?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"text-center py-4",children:[h.jsx(vo,{icon:M.teamInfo.icon,size:"text-5xl",imgSize:"w-16 h-16",className:"mx-auto"}),h.jsx("h4",{className:"text-xl font-bold text-white mt-3",children:M.teamInfo.name}),h.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Te han invitado a este equipo"})]}),h.jsxs("div",{className:"flex gap-2 mt-4",children:[h.jsx("button",{onClick:re,disabled:M.joining,className:"flex-1 bg-green-600 hover:bg-green-500 py-3 rounded-lg font-bold disabled:opacity-50",children:M.joining?"Uniendo...":"Unirme al equipo"}),h.jsx("button",{onClick:()=>P(null),className:"flex-1 bg-gray-600 hover:bg-gray-500 py-3 rounded-lg font-bold",children:"Cancelar"})]})]}):null]})})]})}function Yx({team:i,onClose:n}){const{regenerateInviteCode:l}=Gl(),[r,c]=j.useState(!1),[d,f]=j.useState(!1),g=`${window.location.origin}/playstats-basketball/?join=${i.invite_code}`,p=async()=>{try{await navigator.clipboard.writeText(g),c(!0),setTimeout(()=>c(!1),2e3)}catch{const b=document.createElement("input");b.value=g,document.body.appendChild(b),b.select(),document.execCommand("copy"),document.body.removeChild(b),c(!0),setTimeout(()=>c(!1),2e3)}},y=async()=>{f(!0);try{await l(i.id)}catch{}finally{f(!1)}};return h.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-gray-800 rounded-xl p-5 border-2 border-orange-500 max-w-sm md:max-w-md w-full",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-lg font-black text-orange-400",children:"Compartir equipo"}),h.jsx("button",{onClick:n,className:"p-1 bg-gray-700 rounded-lg hover:bg-gray-600",children:h.jsx(ki,{className:"w-5 h-5"})})]}),h.jsxs("p",{className:"text-sm text-gray-300 mb-4",children:["Comparte este enlace para que otros se unan a ",h.jsx("strong",{children:i.name}),":"]}),h.jsx("div",{className:"bg-gray-700 rounded-lg p-3 mb-4 break-all text-sm text-gray-200",children:g}),h.jsx("div",{className:"flex gap-2 mb-3",children:h.jsxs("button",{onClick:p,className:`flex-1 py-2 rounded-lg font-bold flex items-center justify-center gap-2 ${r?"bg-green-600":"bg-blue-600 hover:bg-blue-500"}`,children:[r?h.jsx(Oi,{className:"w-4 h-4"}):h.jsx(hx,{className:"w-4 h-4"}),r?"Copiado":"Copiar enlace"]})}),h.jsxs("button",{onClick:y,disabled:d,className:"w-full py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-sm text-gray-300 flex items-center justify-center gap-2 disabled:opacity-50",children:[h.jsx(Z0,{className:`w-4 h-4 ${d?"animate-spin":""}`}),"Generar nuevo codigo"]})]})})}function Kx(){const{teamPlayers:i,addPlayer:n,updatePlayer:l,deletePlayer:r}=Gl(),[c,d]=j.useState(null),[f,g]=j.useState({name:"",number:"",position:"Base"}),[p,y]=j.useState(!1),[b,S]=j.useState({name:"",number:"",position:"Base"}),N=q=>{d(q.id),g({name:q.name,number:q.number,position:q.position})},A=async()=>{if(f.name.trim())try{await l(c,{name:f.name.trim(),number:f.number.trim(),position:f.position}),d(null)}catch{}},U=async q=>{if(q.preventDefault(),!!b.name.trim())try{await n({name:b.name.trim(),number:b.number.trim(),position:b.position,sort_order:i.length}),S({name:"",number:"",position:"Base"}),y(!1)}catch{}},H=async q=>{if(confirm("Eliminar este jugador?"))try{await r(q)}catch{}},Q={Base:i.filter(q=>q.position==="Base"),Alero:i.filter(q=>q.position==="Alero"),Joker:i.filter(q=>q.position==="Joker"),Unselected:i.filter(q=>q.position==="Unselected")},Y=(q,M,P)=>M.length===0?null:h.jsxs("div",{className:"mb-3",children:[h.jsx("div",{className:`text-xs font-bold ${P} mb-1`,children:q.toUpperCase()}),h.jsx("div",{className:"space-y-1",children:M.map(oe=>h.jsx("div",{className:"bg-gray-800 rounded-lg p-2 flex items-center gap-2",children:c===oe.id?h.jsxs("div",{className:"flex-1 flex items-center gap-1",children:[h.jsx("input",{type:"text",value:f.name,onChange:re=>g({...f,name:re.target.value}),className:"flex-1 bg-gray-700 px-2 py-1 rounded text-sm text-white",placeholder:"Nombre"}),h.jsx("input",{type:"text",value:f.number,onChange:re=>g({...f,number:re.target.value}),className:"w-12 bg-gray-700 px-2 py-1 rounded text-sm text-white text-center",placeholder:"#"}),h.jsxs("select",{value:f.position,onChange:re=>g({...f,position:re.target.value}),className:"bg-gray-700 px-2 py-1 rounded text-sm text-white",children:[h.jsx("option",{value:"Base",children:"Base"}),h.jsx("option",{value:"Alero",children:"Alero"}),h.jsx("option",{value:"Joker",children:"Joker"}),h.jsx("option",{value:"Unselected",children:"No conv."})]}),h.jsx("button",{onClick:A,className:"p-1 bg-green-600 rounded",children:h.jsx(Oi,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>d(null),className:"p-1 bg-red-600 rounded",children:h.jsx(ki,{className:"w-4 h-4"})})]}):h.jsxs(h.Fragment,{children:[h.jsxs("span",{className:"text-xs font-black text-white bg-black/30 px-1.5 py-0.5 rounded",children:["#",oe.number]}),h.jsx("span",{className:"flex-1 text-sm font-bold text-white",children:oe.name}),h.jsx("button",{onClick:()=>N(oe),className:"p-1 hover:bg-gray-700 rounded",children:h.jsx(X0,{className:"w-3.5 h-3.5 text-gray-400"})}),h.jsx("button",{onClick:()=>H(oe.id),className:"p-1 hover:bg-gray-700 rounded",children:h.jsx(mo,{className:"w-3.5 h-3.5 text-red-400"})})]})},oe.id))})]},q);return h.jsxs("div",{children:[Y("Bases",Q.Base,"text-blue-400"),Y("Aleros",Q.Alero,"text-green-400"),Y("Joker",Q.Joker,"text-purple-400"),Y("No convocados",Q.Unselected,"text-gray-400"),p?h.jsxs("form",{onSubmit:U,className:"bg-gray-800 rounded-lg p-3 border border-green-500 mt-2",children:[h.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[h.jsx("input",{type:"text",value:b.name,onChange:q=>S({...b,name:q.target.value}),className:"flex-1 bg-gray-700 px-2 py-1.5 rounded text-sm text-white",placeholder:"Nombre",autoFocus:!0,required:!0}),h.jsx("input",{type:"text",value:b.number,onChange:q=>S({...b,number:q.target.value}),className:"w-14 bg-gray-700 px-2 py-1.5 rounded text-sm text-white text-center",placeholder:"#"}),h.jsxs("select",{value:b.position,onChange:q=>S({...b,position:q.target.value}),className:"bg-gray-700 px-2 py-1.5 rounded text-sm text-white",children:[h.jsx("option",{value:"Base",children:"Base"}),h.jsx("option",{value:"Alero",children:"Alero"}),h.jsx("option",{value:"Joker",children:"Joker"}),h.jsx("option",{value:"Unselected",children:"No conv."})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{type:"submit",className:"flex-1 bg-green-600 hover:bg-green-500 py-1.5 rounded font-bold text-sm",children:"Anadir"}),h.jsx("button",{type:"button",onClick:()=>y(!1),className:"flex-1 bg-gray-600 hover:bg-gray-500 py-1.5 rounded font-bold text-sm",children:"Cancelar"})]})]}):h.jsxs("button",{onClick:()=>y(!0),className:"w-full mt-2 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-sm font-bold flex items-center justify-center gap-2 text-gray-300",children:[h.jsx(I0,{className:"w-4 h-4"})," Anadir jugador"]})]})}function Qx({file:i,onCrop:n,onCancel:l}){const r=j.useRef(null),c=j.useRef(null),d=j.useRef(null),[f,g]=j.useState(!1),[p,y]=j.useState(1),[b,S]=j.useState({x:0,y:0}),[N,A]=j.useState(!1),[U,H]=j.useState({x:0,y:0}),[Q,Y]=j.useState(!1),q=280,M=256;j.useEffect(()=>{if(!i)return;const Z=new Image;return Z.onload=()=>{c.current=Z,g(!0),P(Z)},Z.src=URL.createObjectURL(i),()=>URL.revokeObjectURL(Z.src)},[i]);const P=j.useCallback(Z=>{const _=Z||c.current;if(!_)return;const z=Math.min(q/_.width,q/_.height);y(z),S({x:0,y:0})},[]),oe=j.useCallback(()=>{const Z=c.current;if(!Z)return;const _=Math.max(q/Z.width,q/Z.height);y(_),S({x:0,y:0})},[]);j.useEffect(()=>{if(!f||!c.current||!r.current)return;const Z=r.current.getContext("2d"),_=c.current;Z.clearRect(0,0,q,q),Z.fillStyle="#1f2937",Z.fillRect(0,0,q,q);const z=_.width*p,X=_.height*p,ae=(q-z)/2+b.x,ge=(q-X)/2+b.y;Z.drawImage(_,ae,ge,z,X)},[f,p,b]);const re=Z=>{Z.preventDefault(),A(!0),H({x:Z.clientX-b.x,y:Z.clientY-b.y})},te=j.useCallback(Z=>{N&&S({x:Z.clientX-U.x,y:Z.clientY-U.y})},[N,U]),_e=j.useCallback(()=>{A(!1)},[]),V=j.useRef(null),je=j.useRef(null),Ke=Z=>{if(Z.touches.length===1){const _=Z.touches[0];A(!0),H({x:_.clientX-b.x,y:_.clientY-b.y}),V.current={x:_.clientX,y:_.clientY}}else if(Z.touches.length===2){const _=Math.hypot(Z.touches[0].clientX-Z.touches[1].clientX,Z.touches[0].clientY-Z.touches[1].clientY);je.current=_}},Le=j.useCallback(Z=>{if(Z.preventDefault(),Z.touches.length===1&&N){const _=Z.touches[0];S({x:_.clientX-U.x,y:_.clientY-U.y})}else if(Z.touches.length===2&&je.current){const _=Math.hypot(Z.touches[0].clientX-Z.touches[1].clientX,Z.touches[0].clientY-Z.touches[1].clientY),z=_/je.current;y(X=>Math.max(.1,Math.min(5,X*z))),je.current=_}},[N,U]),mt=j.useCallback(()=>{A(!1),je.current=null},[]);j.useEffect(()=>{if(N)return window.addEventListener("mousemove",te),window.addEventListener("mouseup",_e),()=>{window.removeEventListener("mousemove",te),window.removeEventListener("mouseup",_e)}},[N,te,_e]);const ot=Z=>{y(parseFloat(Z.target.value))},I=()=>y(Z=>Math.min(5,Z+.15)),C=()=>y(Z=>Math.max(.1,Z-.15)),$=async()=>{if(c.current){Y(!0);try{const Z=document.createElement("canvas");Z.width=M,Z.height=M;const _=Z.getContext("2d"),z=c.current;_.fillStyle="#1f2937",_.fillRect(0,0,M,M);const X=M/q,ae=z.width*p*X,ge=z.height*p*X,be=(M-ae)/2+b.x*X,le=(M-ge)/2+b.y*X;_.drawImage(z,be,le,ae,ge),Z.toBlob(ue=>{if(ue){const ze=new File([ue],"team-avatar.png",{type:"image/png"});n(ze)}Y(!1)},"image/png",.9)}catch{Y(!1)}}},he=(()=>{const Z=c.current;if(!Z)return{min:.1,max:3};const _=Math.min(q/Z.width,q/Z.height);return{min:Math.max(.05,_*.3),max:Math.max(3,_*5)}})();return h.jsx("div",{className:"fixed inset-0 bg-black/90 flex items-center justify-center z-[60] p-4",children:h.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500 max-w-sm w-full",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("h3",{className:"text-lg font-black text-orange-400",children:"Ajustar imagen"}),h.jsx("button",{onClick:l,className:"p-1 bg-gray-700 rounded-lg hover:bg-gray-600",children:h.jsx(ki,{className:"w-5 h-5 text-white"})})]}),h.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Arrastra para mover. Usa el slider para hacer zoom."}),h.jsxs("div",{ref:d,className:"relative mx-auto mb-3 rounded-xl overflow-hidden border-2 border-gray-600",style:{width:q,height:q,cursor:N?"grabbing":"grab",touchAction:"none"},children:[h.jsx("canvas",{ref:r,width:q,height:q,onMouseDown:re,onTouchStart:Ke,onTouchMove:Le,onTouchEnd:mt,style:{width:q,height:q}}),h.jsx("div",{className:"absolute inset-0 pointer-events-none border-2 border-orange-500/40 rounded-xl"}),h.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:h.jsx("div",{className:"w-6 h-px bg-orange-500/20"})}),h.jsx("div",{className:"absolute inset-0 pointer-events-none flex items-center justify-center",children:h.jsx("div",{className:"h-6 w-px bg-orange-500/20"})})]}),h.jsxs("div",{className:"flex items-center gap-2 mb-3 px-1",children:[h.jsx("button",{onClick:C,className:"p-1.5 bg-gray-700 hover:bg-gray-600 rounded-lg",children:h.jsx(Gx,{className:"w-4 h-4 text-white"})}),h.jsx("input",{type:"range",min:he.min,max:he.max,step:.01,value:p,onChange:ot,className:"flex-1 accent-orange-500 h-2"}),h.jsx("button",{onClick:I,className:"p-1.5 bg-gray-700 hover:bg-gray-600 rounded-lg",children:h.jsx(b0,{className:"w-4 h-4 text-white"})})]}),h.jsxs("div",{className:"flex gap-2 mb-4",children:[h.jsxs("button",{onClick:()=>P(null),className:"flex-1 bg-gray-700 hover:bg-gray-600 py-2 rounded-lg text-sm font-bold flex items-center justify-center gap-1.5",children:[h.jsx(xx,{className:"w-4 h-4"})," Encajar"]}),h.jsxs("button",{onClick:oe,className:"flex-1 bg-gray-700 hover:bg-gray-600 py-2 rounded-lg text-sm font-bold flex items-center justify-center gap-1.5",children:[h.jsx(b0,{className:"w-4 h-4"})," Rellenar"]}),h.jsxs("button",{onClick:()=>{S({x:0,y:0}),y(1)},className:"flex-1 bg-gray-700 hover:bg-gray-600 py-2 rounded-lg text-sm font-bold flex items-center justify-center gap-1.5",children:[h.jsx(P0,{className:"w-4 h-4"})," Reset"]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:l,className:"flex-1 bg-gray-600 hover:bg-gray-500 py-2.5 rounded-lg font-bold",children:"Cancelar"}),h.jsxs("button",{onClick:$,disabled:Q||!f,className:"flex-1 bg-green-600 hover:bg-green-500 py-2.5 rounded-lg font-bold flex items-center justify-center gap-2 disabled:opacity-50",children:[h.jsx(Oi,{className:"w-5 h-5"}),Q?"Procesando...":"Guardar"]})]})]})})}function Jx({onStartGame:i,onContinueGame:n,onViewGame:l}){const{currentTeam:r,teamGames:c,teamPlayers:d,deselectTeam:f,deleteGame:g,online:p,deleteTeam:y,updateTeam:b,uploadTeamAvatar:S}=Gl(),[N,A]=j.useState(!1),[U,H]=j.useState("games"),[Q,Y]=j.useState(null),[q,M]=j.useState(!1),[P,oe]=j.useState(null),[re,te]=j.useState(!1),[_e,V]=j.useState(""),[je,Ke]=j.useState(!1),[Le,mt]=j.useState(""),[ot,I]=j.useState(!1),[C,$]=j.useState(null),W=j.useRef(null);if(!r)return null;const he=r.role==="owner",Z=(le,ue)=>{ue&&ue.stopPropagation(),oe(le)},_=()=>{P&&(g(P),oe(null),Y(null))},z=async()=>{try{await y(r.id)}catch{}M(!1)},X=async()=>{const le=_e.trim();if(!le||le===r.name){te(!1);return}try{await b(r.id,{name:le})}catch{}te(!1)},ae=async()=>{const le=Le.trim();if(le){try{await b(r.id,{icon:le})}catch{}Ke(!1),mt("")}},ge=le=>{const ue=le.target.files?.[0];ue&&($(ue),le.target.value="")},be=async le=>{I(!0),$(null);try{await S(r.id,le)}catch{}I(!1),Ke(!1)};return h.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-4",children:h.jsxs("div",{className:"max-w-md md:max-w-2xl mx-auto",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:f,className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:h.jsx(sx,{className:"w-5 h-5"})}),h.jsx("button",{onClick:()=>{Ke(!0),mt("")},className:"hover:opacity-80 transition-opacity",title:"Cambiar icono",children:h.jsx(vo,{icon:r.icon,size:"text-2xl",imgSize:"w-9 h-9"})}),re?h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("input",{type:"text",value:_e,onChange:le=>V(le.target.value),onKeyDown:le=>{le.key==="Enter"&&X(),le.key==="Escape"&&te(!1)},className:"bg-gray-700 border border-orange-500 rounded-lg px-2 py-1 text-white font-bold text-lg w-40 focus:outline-none",autoFocus:!0}),h.jsx("button",{onClick:X,className:"p-1 bg-green-600 rounded",children:h.jsx(Oi,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>te(!1),className:"p-1 bg-gray-600 rounded",children:h.jsx(ki,{className:"w-4 h-4"})})]}):h.jsx("h1",{onClick:()=>{te(!0),V(r.name)},className:"text-lg font-black text-orange-400 cursor-pointer hover:underline",title:"Pincha para editar",children:r.name})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[p?h.jsx(eg,{className:"w-4 h-4 text-green-400"}):h.jsx(F0,{className:"w-4 h-4 text-red-400"}),h.jsx("button",{onClick:()=>A(!0),className:"p-2 bg-blue-600 hover:bg-blue-500 rounded-lg",title:"Compartir equipo",children:h.jsx(kx,{className:"w-5 h-5"})})]})]}),h.jsxs("button",{onClick:()=>i(),className:"w-full mb-4 bg-green-700 hover:bg-green-600 active:bg-green-500 rounded-xl p-3 border-2 border-green-400 font-bold flex items-center justify-center gap-2",children:[h.jsx(Rl,{className:"w-5 h-5"})," NUEVO PARTIDO"]}),h.jsxs("div",{className:"flex mb-4 bg-gray-800 rounded-lg p-1",children:[h.jsxs("button",{onClick:()=>H("games"),className:`flex-1 py-2 rounded-md font-bold text-sm transition-colors ${U==="games"?"bg-orange-600 text-white":"text-gray-400 hover:text-white"}`,children:["Partidos (",c.length,")"]}),h.jsxs("button",{onClick:()=>H("roster"),className:`flex-1 py-2 rounded-md font-bold text-sm transition-colors flex items-center justify-center gap-1 ${U==="roster"?"bg-orange-600 text-white":"text-gray-400 hover:text-white"}`,children:[h.jsx(W0,{className:"w-4 h-4"})," Plantilla (",d.length,")"]})]}),U==="games"?h.jsx("div",{children:c.length===0?h.jsxs("div",{className:"text-center py-8 text-gray-500",children:[h.jsx("div",{className:"text-4xl mb-3",children:""}),h.jsx("p",{children:"No hay partidos todavia"}),h.jsx("p",{className:"text-sm",children:'Pulsa "Nuevo Partido" para empezar'})]}):h.jsxs("div",{className:"space-y-4",children:[(()=>{const le=c.filter(ue=>ue.status==="in_progress");return le.length===0?null:h.jsxs("div",{children:[h.jsxs("h3",{className:"text-sm font-bold text-yellow-400 mb-2 flex items-center gap-1.5",children:[h.jsx(Rl,{className:"w-4 h-4"})," En proceso (",le.length,")"]}),h.jsx("div",{className:"space-y-2",children:le.map(ue=>h.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-yellow-500",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsx("div",{className:"text-xs text-gray-400",children:new Date(ue.updated_at||ue.created_at).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),h.jsx("div",{className:"text-xs px-2 py-0.5 rounded font-bold bg-yellow-600",children:"En proceso"})]}),h.jsxs("div",{className:"text-lg font-bold mb-2",children:[ue.home_team," ",ue.home_score,h.jsx("span",{className:"text-gray-500",children:" - "}),ue.away_score," ",ue.away_team]}),h.jsxs("div",{className:"text-xs text-gray-500 mb-3",children:["Q",ue.current_quarter," ",ue.is_home_team?"- Home":"- Away"]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>n(ue),className:"flex-1 bg-yellow-600 hover:bg-yellow-500 active:bg-yellow-400 py-2 rounded-lg font-bold text-sm flex items-center justify-center gap-1",children:[h.jsx(Rl,{className:"w-4 h-4"})," Continuar"]}),h.jsx("button",{onClick:ze=>Z(ue.id,ze),className:"bg-red-600 hover:bg-red-500 px-3 py-2 rounded-lg font-bold text-sm",title:"Eliminar",children:h.jsx(mo,{className:"w-4 h-4"})})]})]},ue.id))})]})})(),(()=>{const le=c.filter(ue=>ue.status!=="in_progress");return le.length===0?null:h.jsxs("div",{children:[h.jsxs("h3",{className:"text-sm font-bold text-green-400 mb-2 flex items-center gap-1.5",children:[h.jsx(Oi,{className:"w-4 h-4"})," Finalizados (",le.length,")"]}),h.jsx("div",{className:"space-y-2",children:le.map(ue=>{const ze=ue.is_home_team?ue.home_score:ue.away_score,fa=ue.is_home_team?ue.away_score:ue.home_score,zt=ze>fa,ma=ze<fa;return h.jsxs("div",{onClick:()=>Y(ue),className:"bg-gray-800 rounded-xl p-4 border-2 border-gray-600 hover:border-gray-400 cursor-pointer transition-colors",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsx("div",{className:"text-xs text-gray-400",children:new Date(ue.updated_at||ue.created_at).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`text-xs px-2 py-0.5 rounded font-bold ${zt?"bg-green-600":ma?"bg-red-600":"bg-gray-600"}`,children:zt?"Victoria":ma?"Derrota":"Empate"}),h.jsx("button",{onClick:ga=>Z(ue.id,ga),className:"p-1 bg-red-600/80 hover:bg-red-500 rounded",title:"Eliminar",children:h.jsx(mo,{className:"w-3.5 h-3.5"})})]})]}),h.jsxs("div",{className:"text-lg font-bold mb-1",children:[h.jsxs("span",{className:ue.is_home_team?zt?"text-green-400":ma?"text-red-400":"text-white":"text-white",children:[ue.home_team," ",ue.home_score]}),h.jsx("span",{className:"text-gray-500",children:" - "}),h.jsxs("span",{className:ue.is_home_team?"text-white":zt?"text-green-400":ma?"text-red-400":"text-white",children:[ue.away_score," ",ue.away_team]})]}),h.jsxs("div",{className:"text-xs text-gray-500",children:["Q",ue.current_quarter," ",ue.is_home_team?"- Home":"- Away"]})]},ue.id)})})]})})()]})}):h.jsx(Kx,{}),he&&h.jsx("div",{className:"mt-8 pt-4 border-t border-gray-700",children:h.jsx("button",{onClick:()=>M(!0),className:"w-full py-2 bg-red-900/30 hover:bg-red-900/50 border border-red-700 rounded-lg text-red-400 text-sm font-bold",children:"Eliminar equipo"})}),N&&h.jsx(Yx,{team:r,onClose:()=>A(!1)}),q&&h.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-gray-800 rounded-xl p-5 border-2 border-red-500 max-w-sm md:max-w-md w-full",children:[h.jsx("h3",{className:"text-lg font-black text-red-400 mb-3",children:"Eliminar equipo"}),h.jsxs("p",{className:"text-gray-300 text-sm mb-4",children:["Se eliminaran todos los partidos y datos del equipo ",h.jsx("strong",{children:r.name}),". Esta accion no se puede deshacer."]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:z,className:"flex-1 bg-red-600 hover:bg-red-500 py-2 rounded-lg font-bold",children:"Si, eliminar"}),h.jsx("button",{onClick:()=>M(!1),className:"flex-1 bg-gray-600 hover:bg-gray-500 py-2 rounded-lg font-bold",children:"Cancelar"})]})]})}),Q&&h.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-gray-800 rounded-xl p-5 border-2 border-gray-500 max-w-sm md:max-w-md w-full",children:[h.jsxs("h3",{className:"text-lg font-black text-white mb-1",children:[Q.home_team," ",Q.home_score," - ",Q.away_score," ",Q.away_team]}),h.jsx("p",{className:"text-xs text-gray-400 mb-4",children:new Date(Q.updated_at||Q.created_at).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("button",{onClick:()=>{const le=Q;Y(null),n(le)},className:"w-full bg-blue-600 hover:bg-blue-500 active:bg-blue-400 py-3 rounded-lg font-bold flex items-center justify-center gap-2",children:[h.jsx(yx,{className:"w-5 h-5"})," Visualizar"]}),h.jsxs("button",{onClick:()=>{const le=Q;Y(null),n({...le,status:"in_progress"})},className:"w-full bg-yellow-600 hover:bg-yellow-500 active:bg-yellow-400 py-3 rounded-lg font-bold flex items-center justify-center gap-2",children:[h.jsx(P0,{className:"w-5 h-5"})," Reanudar partido"]}),h.jsxs("button",{onClick:()=>{oe(Q.id),Y(null)},className:"w-full bg-red-600 hover:bg-red-500 active:bg-red-400 py-3 rounded-lg font-bold flex items-center justify-center gap-2",children:[h.jsx(mo,{className:"w-5 h-5"})," Eliminar"]}),h.jsx("button",{onClick:()=>Y(null),className:"w-full bg-gray-600 hover:bg-gray-500 active:bg-gray-400 py-3 rounded-lg font-bold",children:"Cancelar"})]})]})}),P&&h.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-gray-800 rounded-xl p-5 border-2 border-red-500 max-w-sm md:max-w-md w-full",children:[h.jsx("h3",{className:"text-lg font-black text-red-400 mb-3",children:"Eliminar partido"}),h.jsx("p",{className:"text-gray-300 text-sm mb-4",children:"Este partido se eliminara permanentemente. Esta accion no se puede deshacer."}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:_,className:"flex-1 bg-red-600 hover:bg-red-500 py-2 rounded-lg font-bold",children:"Si, eliminar"}),h.jsx("button",{onClick:()=>oe(null),className:"flex-1 bg-gray-600 hover:bg-gray-500 py-2 rounded-lg font-bold",children:"Cancelar"})]})]})}),C&&h.jsx(Qx,{file:C,onCrop:be,onCancel:()=>$(null)}),je&&h.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-gray-800 rounded-xl p-5 border-2 border-orange-500 max-w-sm md:max-w-md w-full",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-lg font-black text-orange-400",children:"Cambiar icono"}),h.jsx("button",{onClick:()=>Ke(!1),className:"p-1 bg-gray-700 rounded-lg hover:bg-gray-600",children:h.jsx(ki,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"text-center mb-4",children:h.jsx(vo,{icon:r.icon,size:"text-5xl",imgSize:"w-16 h-16",className:"mx-auto"})}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-1",children:"Escribir un emoji"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"text",value:Le,onChange:le=>mt(le.target.value),className:"flex-1 bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white text-xl text-center focus:border-orange-500 focus:outline-none",placeholder:""}),h.jsx("button",{onClick:ae,disabled:!Le.trim(),className:"bg-green-600 hover:bg-green-500 px-4 py-2 rounded-lg font-bold disabled:opacity-50",children:h.jsx(Oi,{className:"w-5 h-5"})})]})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-1",children:"Emojis rapidos"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""].map(le=>h.jsx("button",{onClick:async()=>{try{await b(r.id,{icon:le})}catch{}Ke(!1)},className:"text-2xl p-1.5 bg-gray-700 hover:bg-gray-600 rounded-lg",children:le},le))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-1",children:"Subir una foto"}),h.jsx("input",{ref:W,type:"file",accept:"image/*",onChange:ge,className:"hidden"}),h.jsxs("button",{onClick:()=>W.current?.click(),disabled:ot,className:"w-full bg-blue-600 hover:bg-blue-500 py-2 rounded-lg font-bold flex items-center justify-center gap-2 disabled:opacity-50",children:[h.jsx(ox,{className:"w-5 h-5"}),ot?"Subiendo...":"Elegir foto"]})]})]})})]})})}const x0="basketball-rotation-app-state",tg="basketball-rotation-games-list",nd="basketball-rotation-game-",Xx=5e3,_0=()=>crypto.randomUUID(),Hl=()=>{try{const i=localStorage.getItem(tg);return i?JSON.parse(i).games||[]:[]}catch{return[]}},sd=i=>{localStorage.setItem(tg,JSON.stringify({games:i}))},w0=i=>{const n=Hl();n.push(i),sd(n)},S0=i=>{const n=Hl(),l=n.findIndex(r=>r.id===i.id);l>=0&&(n[l]={...n[l],...i}),sd(n)},T0=i=>{const n=Hl().filter(l=>l.id!==i);sd(n),localStorage.removeItem(`${nd}${i}`)},E0=i=>{try{const n=localStorage.getItem(`${nd}${i}`);return n?JSON.parse(n):null}catch{return null}},j0=(i,n)=>{localStorage.setItem(`${nd}${i}`,JSON.stringify(n))},Ix=[{id:1,name:"David",number:"2",position:"Base"},{id:2,name:"Coco",number:"4",position:"Base"},{id:3,name:"Clemen",number:"5",position:"Base"},{id:4,name:"Hugo",number:"12",position:"Base"},{id:5,name:"Lucas",number:"10",position:"Base"},{id:6,name:"Pablo",number:"9",position:"Alero"},{id:7,name:"Tommy",number:"3",position:"Alero"},{id:8,name:"Miguel",number:"11",position:"Alero"},{id:9,name:"Unai",number:"8",position:"Joker"},{id:10,name:"Nico",number:"6",position:"Joker"},{id:11,name:"Jorge",number:"7",position:"Joker"},{id:12,name:"Jugador 12",number:"0",position:"Unselected"}],jl=i=>({...i,onCourt:!1,currentMinutes:0,totalCourtTime:0,totalBenchTime:0,fouls:0,points:0,lastToggle:null,stints:[],stintPlusMinus:[],currentStintStart:null}),Nl={1:{first:{us:0,them:0,locked:!1},second:{us:0,them:0,locked:!1}},2:{first:{us:0,them:0,locked:!1},second:{us:0,them:0,locked:!1}},3:{first:{us:0,them:0,locked:!1},second:{us:0,them:0,locked:!1}},4:{first:{us:0,them:0,locked:!1},second:{us:0,them:0,locked:!1}}},ji=(i,n)=>n===1?i===0?"safe":i===1?"warning":"danger":n===2?i<=1?"safe":i===2?"warning":"danger":i<=2?"safe":i===3?"warning":"danger",Va=i=>{const n=Math.floor(i),l=Math.floor(i%1*60);return`${n}:${l.toString().padStart(2,"0")}`},Zx=i=>{const n=Math.floor(i/60),l=i%60;return`${n}:${l.toString().padStart(2,"0")}`},ag=(i,n)=>{const l=ji(i,n);return i>=5?"bg-red-800 border-2 border-red-400":l==="safe"?"bg-green-700 border-2 border-green-400":l==="warning"?"bg-yellow-600 border-2 border-yellow-300":"bg-red-700 border-2 border-red-400"},Px=i=>[...i].sort((n,l)=>n-l).join("-"),Ni=j.memo(({player:i,isRosterView:n,currentQuarter:l,editingPlayer:r,editingStats:c,editForm:d,statsForm:f,onEditFormChange:g,onStatsFormChange:p,onStartEditing:y,onStartEditingStats:b,onSaveEdit:S,onSaveStats:N,onCancelEdit:A,onToggleCourt:U,getCourtTimeStatus:H,getBenchTimeStatus:Q})=>{const Y=i.fouls>=5,q=i.position==="Unselected",M=r===i.id,P=c===i.id,oe=ag(i.fouls,l),re=j.useRef(null),_e=(()=>{if(q)return"border-gray-500";if(i.onCourt){const I=H(i);return I==="green"?"border-green-500":I==="yellow"?"border-yellow-500":"border-red-500"}else{const I=Q(i);return I==="green"?"border-green-500":I==="yellow"?"border-yellow-500":"border-red-500"}})(),V=n&&i.onCourt?"opacity-25":"",je=()=>{re.current=setTimeout(()=>{b(i)},600)},Ke=()=>{re.current&&(clearTimeout(re.current),P||y(i))},Le=()=>{re.current&&clearTimeout(re.current)},mt=I=>{I.preventDefault(),je()},ot=()=>{b(i)};return P?h.jsxs("div",{className:"rounded-lg p-2 border-2 border-orange-500 bg-orange-900",children:[h.jsx("div",{className:"text-xs font-bold text-orange-300 mb-2 text-center",children:"Editar Stats"}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"text-xs text-gray-300 w-12",children:" Pista:"}),h.jsx("input",{type:"number",min:"0",step:"0.1",value:f.totalCourtTime,onChange:I=>p({...f,totalCourtTime:parseFloat(I.target.value)||0}),className:"flex-1 bg-gray-800 text-white px-2 py-1 rounded text-xs"})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"text-xs text-gray-300 w-12",children:" Banco:"}),h.jsx("input",{type:"number",min:"0",step:"0.1",value:f.totalBenchTime,onChange:I=>p({...f,totalBenchTime:parseFloat(I.target.value)||0}),className:"flex-1 bg-gray-800 text-white px-2 py-1 rounded text-xs"})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"text-xs text-gray-300 w-12",children:"Faltas:"}),h.jsx("input",{type:"number",min:"0",max:"5",value:f.fouls,onChange:I=>p({...f,fouls:parseInt(I.target.value)||0}),className:"flex-1 bg-gray-800 text-white px-2 py-1 rounded text-xs"})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"text-xs text-gray-300 w-12",children:"Puntos:"}),h.jsx("input",{type:"number",min:"0",value:f.points,onChange:I=>p({...f,points:parseInt(I.target.value)||0}),className:"flex-1 bg-gray-800 text-white px-2 py-1 rounded text-xs"})]})]}),h.jsxs("div",{className:"flex gap-1 mt-2",children:[h.jsx("button",{onClick:N,className:"flex-1 py-1 bg-green-600 rounded text-xs font-bold",children:" Guardar"}),h.jsx("button",{onClick:A,className:"flex-1 py-1 bg-red-600 rounded text-xs font-bold",children:" Cancelar"})]})]}):M?h.jsxs("div",{className:"rounded-lg p-2 border-2 border-purple-500 bg-purple-900",children:[h.jsx("input",{type:"text",value:d.name,onChange:I=>g({...d,name:I.target.value}),className:"w-full bg-gray-800 text-white px-2 py-1 rounded text-xs mb-1",placeholder:"Nombre"}),h.jsx("input",{type:"text",value:d.number,onChange:I=>g({...d,number:I.target.value}),className:"w-full bg-gray-800 text-white px-2 py-1 rounded text-xs mb-1",placeholder:"#"}),h.jsxs("select",{value:d.position,onChange:I=>g({...d,position:I.target.value}),className:"w-full bg-gray-800 text-white px-2 py-1 rounded text-xs mb-1",children:[h.jsx("option",{value:"Base",children:"Base"}),h.jsx("option",{value:"Alero",children:"Alero"}),h.jsx("option",{value:"Joker",children:"Joker"}),h.jsx("option",{value:"Unselected",children:"No"})]}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx("button",{onClick:S,className:"flex-1 py-1 bg-green-600 rounded text-xs font-bold",children:""}),h.jsx("button",{onClick:A,className:"flex-1 py-1 bg-red-600 rounded text-xs font-bold",children:""})]})]}):h.jsxs("div",{className:`rounded-lg p-1.5 sm:p-2 border-3 ${_e} ${i.onCourt?"bg-blue-700":q?"bg-gray-700 opacity-50":"bg-gray-800"} ${V}`,children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsxs("div",{className:"flex items-center gap-1 min-w-0 flex-1",children:[h.jsxs("span",{className:"text-xs font-black text-white bg-black/30 px-1 rounded",children:["#",i.number]}),h.jsx("span",{className:"text-xs font-bold text-white truncate",children:i.name})]}),h.jsx("button",{onMouseDown:je,onMouseUp:Ke,onMouseLeave:Le,onTouchStart:mt,onTouchEnd:Ke,onTouchCancel:Le,className:"p-0.5 ml-1 flex-shrink-0",children:h.jsx(X0,{className:"w-3 h-3 text-gray-400"})})]}),Y&&h.jsx("div",{className:"bg-red-500 text-white text-center py-0.5 rounded mb-1 text-xs font-bold",children:"OUT"}),h.jsxs("div",{className:"flex gap-1 mb-1",children:[h.jsx("div",{className:"flex-1 bg-black/30 rounded px-1 py-1 text-center min-w-0",children:h.jsx("div",{className:"text-sm sm:text-base font-black text-white tabular-nums",children:Va(i.currentMinutes)})}),h.jsx("div",{onClick:ot,className:`${oe} rounded px-2 py-1 flex items-center justify-center min-w-[32px] cursor-pointer active:opacity-70 transition-opacity`,title:"Pulsa para editar stats",children:h.jsx("span",{className:"text-sm sm:text-base font-black text-white",children:i.fouls})})]}),h.jsxs("div",{className:"flex gap-1 mb-1",children:[h.jsxs("div",{className:"flex-1 bg-black/20 rounded px-1 py-1 text-center min-w-0",children:[h.jsx("div",{className:"text-sm leading-none mb-0.5",children:""}),h.jsx("div",{className:"text-xs font-bold text-gray-300 tabular-nums",children:Va(i.totalCourtTime)})]}),h.jsxs("div",{className:"flex-1 bg-black/20 rounded px-1 py-1 text-center min-w-0",children:[h.jsx("div",{className:"text-sm leading-none mb-0.5",children:""}),h.jsx("div",{className:"text-xs font-bold text-gray-300 tabular-nums",children:Va(i.totalBenchTime)})]})]}),h.jsx("div",{className:"bg-orange-600/50 border border-orange-400 rounded px-1 py-0.5 mb-1 text-center",children:h.jsxs("span",{className:"text-xs font-bold text-orange-200",children:[i.points," pts"]})}),h.jsx("button",{onClick:()=>U(i.id),disabled:Y||q||n&&i.onCourt,className:`w-full py-1.5 rounded font-bold text-xs ${Y||q||n&&i.onCourt?"bg-gray-600 opacity-50":i.onCourt?"bg-orange-600 active:bg-orange-500":"bg-green-600 active:bg-green-500"}`,children:q?"N/A":i.onCourt?"OUT":"IN"})]})});Ni.displayName="PlayerCard";function Wx({initialPlayers:i,onExit:n,onGameSaved:l,savedGameData:r,teamId:c,userId:d}){const f=i||Ix,[g,p]=j.useState(!1),[y,b]=j.useState(()=>r?"game":"team-selection"),[S,N]=j.useState(()=>r?.id||null),[A,U]=j.useState(!1),[H,Q]=j.useState(()=>r?.gameStarted??!1),[Y,q]=j.useState(()=>r?.isHomeTeam??null),[M,P]=j.useState(()=>r?.players?r.players:f.map(jl)),[oe,re]=j.useState(!1),[te,_e]=j.useState(()=>r?.gameTime??600),[V,je]=j.useState(()=>r?.currentQuarter??1),[Ke,Le]=j.useState(!1),[mt,ot]=j.useState(!1),[I,C]=j.useState(!1),[$,W]=j.useState(!1),[he,Z]=j.useState(!1),[_,z]=j.useState(!1),[X,ae]=j.useState(null),[ge,be]=j.useState(null),[le,ue]=j.useState(null),[ze,fa]=j.useState(!1),[zt,ma]=j.useState({minutes:0,seconds:0}),[ga,Aa]=j.useState(null),[Ca,ls]=j.useState(null),[Oa,Ka]=j.useState({name:"",number:"",position:""}),[Yt,ya]=j.useState({totalCourtTime:0,totalBenchTime:0,fouls:0,points:0}),[Ms,Vl]=j.useState(!1),[En,_t]=j.useState(null),[tt,jn]=j.useState(()=>r?.intervals||{green:{minutes:3,seconds:0},yellow:{minutes:4,seconds:30}}),[We,Qa]=j.useState(()=>r?.benchIntervals||{red:{minutes:3,seconds:0},yellow:{minutes:4,seconds:30}}),[ka,Nn]=j.useState(()=>r?.homeTeam||"Home"),[Ra,rs]=j.useState(()=>r?.awayTeam||"Away"),[At,at]=j.useState(()=>r?.homeScore??0),[gt,nt]=j.useState(()=>r?.awayScore??0),[zs,pa]=j.useState(()=>r?.rotationHistory||[]),[Ua,Kt]=j.useState(()=>r?.actionHistory||[]),[Da,tn]=j.useState(()=>r?.quintetHistory||[]),[Bt,Ja]=j.useState(()=>r?.currentQuintet||null),[va,an]=j.useState(()=>r?.substitutionsByQuarter||{1:0,2:0,3:0,4:0}),[nn,Ma]=j.useState(()=>r?.scoresByQuarter||{1:{us:0,them:0},2:{us:0,them:0},3:{us:0,them:0},4:{us:0,them:0}}),[Xa,Bs]=j.useState(()=>r?.leadChanges??0),[os,us]=j.useState(()=>r?.ties??0),[Ia,sn]=j.useState(()=>r?.biggestLead||{us:0,them:0}),[Ht,An]=j.useState(()=>r?.partialScores||Nl),Ls=j.useRef(null),za=j.useRef(Date.now());j.useEffect(()=>{try{const x=localStorage.getItem(x0);if(x){const E=JSON.parse(x);if(E.gameStarted){const L=_0(),F={...E,id:L};j0(L,F),w0({id:L,createdAt:E.savedAt||new Date().toISOString(),updatedAt:new Date().toISOString(),status:"in_progress",homeTeam:E.homeTeam||"Home",awayTeam:E.awayTeam||"Away",homeScore:E.homeScore||0,awayScore:E.awayScore||0,isHomeTeam:E.isHomeTeam,currentQuarter:E.currentQuarter||1}),console.log(" Datos migrados al nuevo formato")}localStorage.removeItem(x0)}}catch(x){console.error("Error en migracin:",x)}p(!0)},[]);const ut=j.useCallback(x=>{const E=E0(x);E&&(N(x),Q(E.gameStarted??!1),q(E.isHomeTeam),P(E.players||f.map(jl)),re(!1),_e(E.gameTime??600),je(E.currentQuarter??1),jn(E.intervals||{green:{minutes:3,seconds:0},yellow:{minutes:4,seconds:30}}),Qa(E.benchIntervals||{red:{minutes:3,seconds:0},yellow:{minutes:4,seconds:30}}),Nn(E.homeTeam||"Home"),rs(E.awayTeam||"Away"),at(E.homeScore??0),nt(E.awayScore??0),pa(E.rotationHistory||[]),Kt(E.actionHistory||[]),tn(E.quintetHistory||[]),Ja(E.currentQuintet||null),an(E.substitutionsByQuarter||{1:0,2:0,3:0,4:0}),Ma(E.scoresByQuarter||{1:{us:0,them:0},2:{us:0,them:0},3:{us:0,them:0},4:{us:0,them:0}}),Bs(E.leadChanges??0),us(E.ties??0),sn(E.biggestLead||{us:0,them:0}),An(E.partialScores||Nl),b("game"),console.log(" Partido cargado:",x))},[]),Ct=j.useCallback(x=>{const E=_0();if(N(E),Q(!0),q(x),P(f.map(jl)),re(!1),_e(600),je(1),Nn("Home"),rs("Away"),at(0),nt(0),pa([]),Kt([]),tn([]),Ja(null),an({1:0,2:0,3:0,4:0}),Ma({1:{us:0,them:0},2:{us:0,them:0},3:{us:0,them:0},4:{us:0,them:0}}),Bs(0),us(0),sn({us:0,them:0}),An(Nl),w0({id:E,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),status:"in_progress",homeTeam:"Home",awayTeam:"Away",homeScore:0,awayScore:0,isHomeTeam:x,currentQuarter:1}),b("game"),l){const L={id:E,gameStarted:!0,isHomeTeam:x,players:f.map(jl),gameRunning:!1,gameTime:600,currentQuarter:1,homeTeam:"Home",awayTeam:"Away",homeScore:0,awayScore:0,rotationHistory:[],actionHistory:[],quintetHistory:[],currentQuintet:null,substitutionsByQuarter:{1:0,2:0,3:0,4:0},scoresByQuarter:{1:{us:0,them:0},2:{us:0,them:0},3:{us:0,them:0},4:{us:0,them:0}},leadChanges:0,ties:0,biggestLead:{us:0,them:0},partialScores:Nl,status:"in_progress",savedAt:Date.now()};l(L).catch(F=>console.error("Error guardando partido nuevo en Supabase:",F))}},[f,l]),wt=j.useCallback(()=>{if(!(!g||!S))try{const x={id:S,gameStarted:H,isHomeTeam:Y,players:M,gameRunning:oe,gameTime:te,currentQuarter:V,intervals:tt,benchIntervals:We,homeTeam:ka,awayTeam:Ra,homeScore:At,awayScore:gt,rotationHistory:zs,actionHistory:Ua,quintetHistory:Da,currentQuintet:Bt,substitutionsByQuarter:va,scoresByQuarter:nn,leadChanges:Xa,ties:os,biggestLead:Ia,partialScores:Ht,savedAt:Date.now()};j0(S,x),S0({id:S,updatedAt:new Date().toISOString(),homeTeam:ka,awayTeam:Ra,homeScore:At,awayScore:gt,currentQuarter:V}),za.current=Date.now()}catch(x){console.error("Error guardando estado:",x)}},[g,S,H,Y,M,oe,te,V,tt,We,ka,Ra,At,gt,zs,Ua,Da,Bt,va,nn,Xa,os,Ia,Ht]),ea=j.useCallback(()=>({id:S,gameStarted:H,isHomeTeam:Y,players:M,gameRunning:!1,gameTime:te,currentQuarter:V,intervals:tt,benchIntervals:We,homeTeam:ka,awayTeam:Ra,homeScore:At,awayScore:gt,rotationHistory:zs,actionHistory:Ua,quintetHistory:Da,currentQuintet:Bt,substitutionsByQuarter:va,scoresByQuarter:nn,leadChanges:Xa,ties:os,biggestLead:Ia,partialScores:Ht,savedAt:Date.now()}),[S,H,Y,M,te,V,tt,We,ka,Ra,At,gt,zs,Ua,Da,Bt,va,nn,Xa,os,Ia,Ht]),To=j.useCallback(async()=>{wt();const x=ea();x.status="in_progress",l&&await l(x),U(!1),n?n():(b("home"),N(null),Q(!1))},[wt,ea,n,l]),Eo=j.useCallback(async()=>{wt();const x=ea();x.status="completed",l&&await l(x),S0({id:S,status:"completed",updatedAt:new Date().toISOString()}),U(!1),n?n():(b("home"),N(null),Q(!1))},[wt,ea,S,n,l]),Yl=j.useCallback(x=>{T0(x)},[]);j.useEffect(()=>{if(!g||!S||y!=="game")return;const x=setInterval(()=>{if(wt(),l){const E=ea();E.status="in_progress",l(E).catch(L=>console.error("Error en autosave a Supabase:",L))}},Xx);return()=>clearInterval(x)},[g,S,y,wt,l,ea]),j.useEffect(()=>{if(!g||!S||y!=="game")return;let x=0;const E=ie=>{const ne=Date.now();if(!(ne-x<2e3)&&(x=ne,l)){const Ce=ea();Ce.status="in_progress",l(Ce).catch(St=>{console.error(`Error guardando en Supabase (${ie}):`,St)})}},L=ie=>{if(wt(),E("beforeunload"),S&&c&&d){const ne=ea();Cl({type:"upsert_game",data:{id:S,team_id:c,created_by:d,status:"in_progress",home_team:ne.homeTeam||"Home",away_team:ne.awayTeam||"Away",home_score:ne.homeScore||0,away_score:ne.awayScore||0,is_home_team:ne.isHomeTeam??!0,current_quarter:ne.currentQuarter||1,game_data:ne,updated_at:new Date().toISOString()}})}ie.preventDefault(),ie.returnValue=""},F=()=>{document.visibilityState==="hidden"&&(wt(),E("visibilitychange"))},ee=()=>{wt(),document.visibilityState==="hidden"&&E("blur")};return window.addEventListener("beforeunload",L),document.addEventListener("visibilitychange",F),window.addEventListener("blur",ee),()=>{window.removeEventListener("beforeunload",L),document.removeEventListener("visibilitychange",F),window.removeEventListener("blur",ee)}},[g,S,y,wt,l,ea,c,d]),j.useEffect(()=>{g&&S&&y==="game"&&Date.now()-za.current>1e3&&wt()},[At,gt,M,V,te,g,S,y,wt]);const Xe=j.useCallback(()=>({ourScore:Y?At:gt,rivalScore:Y?gt:At}),[Y,At,gt]),Ba=j.useCallback(x=>{const E=x.currentMinutes,L=tt.green.minutes+tt.green.seconds/60,F=tt.yellow.minutes+tt.yellow.seconds/60;return E<L?"green":E<F?"yellow":"red"},[tt]),ct=j.useCallback(x=>{const E=x.currentMinutes,L=We.red.minutes+We.red.seconds/60,F=We.yellow.minutes+We.yellow.seconds/60;return E<L?"red":E<F?"yellow":"green"},[We]),$t=j.useCallback(x=>{let E=0;for(let L=1;L<V;L++)E+=nn[L][x==="us"?"us":"them"];return E},[V,nn]);j.useEffect(()=>{if(!oe)return;const x=setInterval(()=>{const E=Date.now();_e(L=>L<=0?(re(!1),V<4?(je(F=>F+1),600):0):L-1),P(L=>{let F=!1;const ee=L.map(ie=>{if(ie.lastToggle){F=!0;const ne=(E-ie.lastToggle)/1e3/60;return{...ie,currentMinutes:ie.currentMinutes+ne,totalCourtTime:ie.onCourt?ie.totalCourtTime+ne:ie.totalCourtTime,totalBenchTime:ie.onCourt?ie.totalBenchTime:ie.totalBenchTime+ne,lastToggle:E}}return ie});return F?ee:L})},1e3);return()=>clearInterval(x)},[oe,V]),j.useEffect(()=>{if(!H)return;const{ourScore:x,rivalScore:E}=Xe();if(te<=300&&!Ht[V].first.locked&&An(L=>({...L,[V]:{...L[V],first:{us:x-$t("us"),them:E-$t("them"),locked:!0}}})),te<=0&&!Ht[V].second.locked){const L=Ht[V].first.us,F=Ht[V].first.them,ee=x-$t("us"),ie=E-$t("them");An(ne=>({...ne,[V]:{...ne[V],second:{us:ee-L,them:ie-F,locked:!0}}}))}},[te,V,H,Xe,$t,Ht]);const Qt=j.useMemo(()=>M.filter(x=>x.onCourt),[M]),Za=Qt.length,dt=j.useMemo(()=>M.filter(x=>ji(x.fouls,V)==="warning"&&x.position!=="Unselected"),[M,V]),Ui=j.useMemo(()=>M.filter(x=>ji(x.fouls,V)==="danger"&&x.fouls<5&&x.position!=="Unselected"),[M,V]),Cn=Y?ka:Ra,ta=Y?Ra:ka,{bases:On,aleros:jo,jokers:Kl,unselected:Di}=j.useMemo(()=>({bases:M.filter(x=>x.position==="Base"),aleros:M.filter(x=>x.position==="Alero"),jokers:M.filter(x=>x.position==="Joker"),unselected:M.filter(x=>x.position==="Unselected")}),[M]),Ql=j.useMemo(()=>{const x=[],E=M.filter(ee=>!ee.onCourt&&ee.fouls<5&&ji(ee.fouls,V)==="safe"&&ee.position!=="Unselected"),L=Qt.filter(ee=>ee.position==="Joker").length,F=["Jorge","Unai"];return Qt.forEach(ee=>{const ie=Ba(ee),ne=ji(ee.fouls,V),Ce=ie==="red";if(ne==="danger"||ne==="warning"||Ce){let ke=E.filter(Fe=>Fe.position===ee.position),De=[];if(ee.position==="Alero"){const Fe=E.filter(aa=>aa.position==="Joker"&&F.includes(aa.name));L>=1&&(De=Fe.map(aa=>({...aa,isPlayingOutOfPosition:!0,originalPosition:"Joker",playingAs:"Alero"})))}if(ke.length>0||De.length>0){const Fe={green:0,yellow:1,red:2},aa=[...ke].sort((Dn,Mn)=>Fe[ct(Dn)]-Fe[ct(Mn)]),na=[...De].sort((Dn,Mn)=>Fe[ct(Dn)]-Fe[ct(Mn)]),se=[...aa,...na];let $e="",Tt=0,Jt=!1;ne==="danger"?($e=`FALTAS (${ee.fouls}/5 en Q${V})`,Tt=4,Jt=!0):ne==="warning"?($e=`Faltas (${ee.fouls}/5 en Q${V})`,Tt=3,Jt=!0):Ce&&($e=`DESCANSO (${Va(ee.currentMinutes)} seguidos)`,Tt=1),x.push({out:ee,suggestions:se,reason:$e,priority:Tt,isFoulIssue:Jt})}}}),x.sort((ee,ie)=>ie.priority-ee.priority)},[M,Qt,V,Ba,ct]),qs=j.useMemo(()=>{if(!En)return[];const x=M.filter(L=>!L.onCourt&&L.fouls<5&&ji(L.fouls,V)==="safe"&&L.position!=="Unselected"),E={green:0,yellow:1,red:2};return x.filter(L=>L.position===En.position).sort((L,F)=>E[ct(L)]-E[ct(F)])},[En,M,V,ct]),Hs=j.useCallback(()=>{const{ourScore:x,rivalScore:E}=Xe(),L={};for(let F=1;F<=4;F++){const ee=Ht[F];if(F<V)L[F]={first:{us:ee.first.us,them:ee.first.them},second:{us:ee.second.us,them:ee.second.them}};else if(F===V){const ie=$t("us"),ne=$t("them"),Ce=x-ie,St=E-ne;ee.first.locked?L[F]={first:{us:ee.first.us,them:ee.first.them},second:{us:Ce-ee.first.us,them:St-ee.first.them}}:L[F]={first:{us:Ce,them:St},second:{us:0,them:0}}}else L[F]={first:{us:0,them:0},second:{us:0,them:0}}}return L},[Xe,V,Ht,$t]),Lt=j.useCallback((x,E,L)=>{Ja({key:Px(x),playerIds:[...x],startTime:Date.now(),startOurScore:E,startRivalScore:L,quarter:V})},[V]),st=j.useCallback((x,E)=>{Ja(L=>{if(L){const F=(Date.now()-L.startTime)/1e3/60;tn(ee=>[...ee,{...L,endTime:Date.now(),duration:F,pointsScored:x-L.startOurScore,pointsAllowed:E-L.startRivalScore,differential:x-L.startOurScore-(E-L.startRivalScore)}])}return null})},[]),cs=j.useCallback((x,E)=>{const{ourScore:L,rivalScore:F}=Xe(),ee=L-F,ie=x-E;ie===0&&ee!==0&&us(ne=>ne+1),(ee>0&&ie<0||ee<0&&ie>0)&&Bs(ne=>ne+1),ie>Ia.us&&sn(ne=>({...ne,us:ie})),-ie>Ia.them&&sn(ne=>({...ne,them:-ie}))},[Xe,Ia]),ln=j.useCallback(x=>{const E=M.find(ne=>ne.id===x);if(!E||E.fouls>=5||E.position==="Unselected")return;const L=M.filter(ne=>ne.onCourt).length;if(!E.onCourt&&L>=5)return;re(!1);const F=Date.now(),{ourScore:ee,rivalScore:ie}=Xe();L===5&&st(ee,ie),Kt(ne=>[...ne,{type:"substitution",playerId:x,wasOnCourt:E.onCourt,scoreAtAction:{ourScore:ee,rivalScore:ie}}]),an(ne=>({...ne,[V]:ne[V]+1})),P(ne=>{const Ce=ne.map(ke=>{if(ke.id===x)if(ke.onCourt){const De=ke.currentStintStart?ee-ke.currentStintStart.ourScore-(ie-ke.currentStintStart.rivalScore):0;return pa(Fe=>[...Fe,{time:`Q${V}`,type:"OUT",player:`#${ke.number} ${ke.name}`}]),{...ke,onCourt:!1,currentMinutes:0,lastToggle:oe?F:null,stints:[...ke.stints,ke.currentMinutes],stintPlusMinus:[...ke.stintPlusMinus,De],currentStintStart:null}}else return pa(De=>[...De,{time:`Q${V}`,type:"IN",player:`#${ke.number} ${ke.name}`}]),{...ke,onCourt:!0,currentMinutes:0,lastToggle:oe?F:null,currentStintStart:{ourScore:ee,rivalScore:ie}};return ke}),St=Ce.filter(ke=>ke.onCourt);return St.length===5&&Lt(St.map(ke=>ke.id),ee,ie),Ce})},[M,Xe,st,Lt,V,oe]),Mi=j.useCallback(()=>{const x=M.filter(F=>F.onCourt).length;if(!oe&&x!==5)return;const{ourScore:E,rivalScore:L}=Xe();if(oe)st(E,L);else{P(ee=>ee.map(ie=>({...ie,lastToggle:Date.now()})));const F=M.filter(ee=>ee.onCourt);F.length===5&&!Bt&&Lt(F.map(ee=>ee.id),E,L)}re(!oe)},[M,oe,Xe,Bt,Lt,st]),Jl=j.useCallback(x=>{const E=M.find(ie=>ie.id===x);if(!E||E.fouls>=5)return;const L=E.fouls+1,{ourScore:F,rivalScore:ee}=Xe();Kt(ie=>[...ie,{type:"foul",playerId:x,delta:1,previousFouls:E.fouls,wasOnCourt:E.onCourt,scoreAtAction:{ourScore:F,rivalScore:ee}}]),L>=5&&E.onCourt?(st(F,ee),P(ie=>ie.map(ne=>{if(ne.id===x){const Ce=ne.currentStintStart?F-ne.currentStintStart.ourScore-(ee-ne.currentStintStart.rivalScore):0;return{...ne,fouls:L,onCourt:!1,currentMinutes:0,lastToggle:oe?Date.now():null,stints:[...ne.stints,ne.currentMinutes],stintPlusMinus:[...ne.stintPlusMinus,Ce],currentStintStart:null}}return ne})),pa(ie=>[...ie,{time:`Q${V}`,type:"FOULED OUT",player:`#${E.number} ${E.name}`}]),_t({...E,fouls:L}),Z(!1),z(!0)):(P(ie=>ie.map(ne=>ne.id===x?{...ne,fouls:L}:ne)),Z(!1))},[M,Xe,st,V,oe]),ds=j.useCallback(()=>{if(Ua.length===0)return;const x=Ua[Ua.length-1];x.type==="score"?x.isOurTeam?(Y?at(E=>E-x.points):nt(E=>E-x.points),x.playerId&&P(E=>E.map(L=>L.id===x.playerId?{...L,points:L.points-x.points}:L)),Ma(E=>({...E,[V]:{...E[V],us:E[V].us-x.points}}))):(Y?nt(E=>E-x.points):at(E=>E-x.points),Ma(E=>({...E,[V]:{...E[V],them:E[V].them-x.points}}))):x.type==="foul"?(P(E=>E.map(L=>L.id===x.playerId?{...L,fouls:x.previousFouls,onCourt:x.wasOnCourt!==void 0?x.wasOnCourt:L.onCourt}:L)),x.previousFouls===4&&x.wasOnCourt&&(pa(E=>E.slice(0,-1)),_t(null),z(!1))):x.type==="substitution"?(P(E=>E.map(L=>L.id===x.playerId?{...L,onCourt:x.wasOnCourt,currentMinutes:0}:L)),pa(E=>E.slice(0,-1)),an(E=>({...E,[V]:Math.max(0,E[V]-1)}))):x.type==="swap"&&(P(E=>E.map(L=>L.id===x.outId?{...L,onCourt:!0,currentMinutes:0}:L.id===x.inId?{...L,onCourt:!1,currentMinutes:0}:L)),pa(E=>E.slice(0,-2)),an(E=>({...E,[V]:Math.max(0,E[V]-2)}))),Kt(E=>E.slice(0,-1))},[Ua,Y,V]),Xl=j.useCallback(()=>{Vl(!1),Ls.current=setTimeout(()=>{Vl(!0),Le(!0)},800)},[]),Gt=j.useCallback(()=>{clearTimeout(Ls.current),Ms||ds()},[Ms,ds]),zi=j.useCallback(()=>{clearTimeout(Ls.current)},[]),Il=j.useCallback(()=>{S&&T0(S),P(f.map(jl)),_e(600),je(1),re(!1),Le(!1),pa([]),Nn("Home"),rs("Away"),at(0),nt(0),Q(!1),q(null),Kt([]),_t(null),z(!1),tn([]),Ja(null),an({1:0,2:0,3:0,4:0}),Ma({1:{us:0,them:0},2:{us:0,them:0},3:{us:0,them:0},4:{us:0,them:0}}),Bs(0),us(0),sn({us:0,them:0}),An(Nl),N(null),n?n():b("home")},[S,f,n]),Bi=j.useCallback(x=>{const{ourScore:E,rivalScore:L}=Xe();cs(E+X,L),Kt(F=>[...F,{type:"score",playerId:x,points:X,isOurTeam:!0}]),P(F=>F.map(ee=>ee.id===x?{...ee,points:ee.points+X}:ee)),Y?at(F=>F+X):nt(F=>F+X),Ma(F=>({...F,[V]:{...F[V],us:F[V].us+X}})),W(!1),ae(null)},[Xe,cs,X,Y,V]),kn=j.useCallback(()=>{const{ourScore:x,rivalScore:E}=Xe();cs(x,E+X),Kt(L=>[...L,{type:"score",playerId:null,points:X,isOurTeam:!1}]),Y?nt(L=>L+X):at(L=>L+X),Ma(L=>({...L,[V]:{...L[V],them:L[V].them+X}})),W(!1),ae(null)},[Xe,cs,X,Y,V]),Zl=j.useCallback((x,E)=>{const L=M.find(Ce=>Ce.id===x),F=M.find(Ce=>Ce.id===E);if(!L||!F)return;re(!1);const ee=Date.now(),{ourScore:ie,rivalScore:ne}=Xe();st(ie,ne),Kt(Ce=>[...Ce,{type:"swap",outId:x,inId:E,scoreAtAction:{ourScore:ie,rivalScore:ne}}]),an(Ce=>({...Ce,[V]:Ce[V]+2})),P(Ce=>{const St=Ce.map(De=>{if(De.id===x){const Fe=De.currentStintStart?ie-De.currentStintStart.ourScore-(ne-De.currentStintStart.rivalScore):0;return{...De,onCourt:!1,currentMinutes:0,lastToggle:oe?ee:null,stints:[...De.stints,De.currentMinutes],stintPlusMinus:[...De.stintPlusMinus,Fe],currentStintStart:null}}return De.id===E?{...De,onCourt:!0,currentMinutes:0,lastToggle:oe?ee:null,currentStintStart:{ourScore:ie,rivalScore:ne}}:De}),ke=St.filter(De=>De.onCourt);return ke.length===5&&Lt(ke.map(De=>De.id),ie,ne),St}),pa(Ce=>[...Ce,{time:`Q${V}`,type:"OUT",player:`#${L.number} ${L.name}`},{time:`Q${V}`,type:"IN",player:`#${F.number} ${F.name}`}])},[M,Xe,st,Lt,V,oe]),Pl=j.useCallback(x=>{ln(x),_t(null),z(!1)},[ln]),ba=j.useCallback(x=>{Aa(x.id),Ka({name:x.name,number:x.number,position:x.position})},[]),hs=j.useCallback(()=>{P(x=>x.map(E=>E.id===ga?{...E,name:Oa.name,number:Oa.number,position:Oa.position}:E)),Aa(null)},[ga,Oa]),Rn=j.useCallback(()=>{Aa(null),ls(null),Ka({name:"",number:"",position:""}),ya({totalCourtTime:0,totalBenchTime:0,fouls:0,points:0})},[]),Un=j.useCallback(x=>{re(!1),ls(x.id),ya({totalCourtTime:x.totalCourtTime,totalBenchTime:x.totalBenchTime,fouls:x.fouls,points:x.points})},[]),rn=j.useCallback(()=>{P(x=>x.map(E=>E.id===Ca?{...E,totalCourtTime:Yt.totalCourtTime,totalBenchTime:Yt.totalBenchTime,fouls:Math.min(5,Math.max(0,Yt.fouls)),points:Math.max(0,Yt.points)}:E)),ls(null),ya({totalCourtTime:0,totalBenchTime:0,fouls:0,points:0})},[Ca,Yt]),Wl=j.useCallback(()=>{const{ourScore:x,rivalScore:E}=Xe();Bt&&oe&&st(x,E);const L=M.map(se=>{if(se.onCourt&&se.currentStintStart){const $e=x-se.currentStintStart.ourScore-(E-se.currentStintStart.rivalScore);return{...se,stints:[...se.stints,se.currentMinutes],stintPlusMinus:[...se.stintPlusMinus,$e]}}return se}),F={};Da.forEach(se=>{F[se.key]||(F[se.key]={playerIds:se.playerIds,totalTime:0,totalPointsScored:0,totalPointsAllowed:0,occurrences:0}),F[se.key].totalTime+=se.duration,F[se.key].totalPointsScored+=se.pointsScored,F[se.key].totalPointsAllowed+=se.pointsAllowed,F[se.key].occurrences+=1});const ee=Object.values(F).map(se=>({...se,differential:se.totalPointsScored-se.totalPointsAllowed,playerNames:se.playerIds.map($e=>{const Tt=M.find(Jt=>Jt.id===$e);return Tt?`#${Tt.number} ${Tt.name}`:"Unknown"})})),ie=[...ee].sort((se,$e)=>$e.totalTime-se.totalTime),ne=[...ee].sort((se,$e)=>$e.differential-se.differential),Ce=L.filter(se=>se.position!=="Unselected"&&se.stints.length>0).map(se=>{const $e=se.stintPlusMinus.reduce((Tt,Jt)=>Tt+Jt,0);return{name:`#${se.number} ${se.name}`,position:se.position,stintCount:se.stints.length,stints:se.stints,avgStint:se.stints.reduce((Tt,Jt)=>Tt+Jt,0)/se.stints.length,totalTime:se.stints.reduce((Tt,Jt)=>Tt+Jt,0),totalPlusMinus:$e}}),St=Object.values(va).reduce((se,$e)=>se+$e,0),ke=Math.max(0,St-5),De=`<!DOCTYPE html><html><head><meta charset="UTF-8"><title>Report - ${Cn} vs ${ta}</title>
<style>
body{font-family:Arial,sans-serif;padding:20px;color:#333;font-size:12px;max-width:900px;margin:0 auto}
h1{color:#f97316;border-bottom:3px solid #f97316;padding-bottom:10px;font-size:24px}
h2{color:#3b82f6;margin-top:30px;border-bottom:2px solid #3b82f6;padding-bottom:5px;font-size:16px}
table{width:100%;border-collapse:collapse;margin:15px 0;font-size:11px}
th,td{border:1px solid #ddd;padding:8px;text-align:left}
th{background-color:#1f2937;color:white}
tr:nth-child(even){background-color:#f3f4f6}
.score-box{display:inline-block;padding:15px 25px;background:linear-gradient(135deg,#1f2937,#374151);color:white;border-radius:10px;margin:5px;font-size:28px;font-weight:bold}
.positive{color:#16a34a;font-weight:bold}
.negative{color:#dc2626;font-weight:bold}
.section{margin-bottom:30px}
.stat-box{display:inline-block;background:#f3f4f6;padding:15px 20px;border-radius:8px;margin:10px;text-align:center}
.stat-value{font-size:28px;font-weight:bold;color:#1f2937}
.stat-label{font-size:11px;color:#6b7280;text-transform:uppercase;margin-top:5px}
.stint-times{font-size:10px;color:#666}
@media print{.section{page-break-inside:avoid}}
</style></head><body>
<h1> Game Report</h1>
<div style="text-align:center;margin:20px 0">
<div class="score-box">${Cn}<br/>${x}</div>
<span style="font-size:24px;margin:0 15px;vertical-align:middle">VS</span>
<div class="score-box">${ta}<br/>${E}</div>
</div>
<div style="text-align:center;margin:30px 0">
<div class="stat-box">
<div class="stat-value">${ke}</div>
<div class="stat-label">Cambios en el partido</div>
</div>
</div>
<div class="section">
<h2> Quintetos - Tiempo compartido en pista</h2>
<table>
<tr><th>#</th><th>Jugadores</th><th>Tiempo juntos</th></tr>
${ie.map((se,$e)=>`<tr><td>${$e+1}</td><td>${se.playerNames.join(", ")}</td><td><strong>${Va(se.totalTime)}</strong></td></tr>`).join("")}
</table>
</div>
<div class="section">
<h2> Quintetos - +/- en pista</h2>
<table>
<tr><th>#</th><th>Jugadores</th><th>Tiempo</th><th>A favor</th><th>En contra</th><th>+/-</th></tr>
${ne.map((se,$e)=>`<tr><td>${$e+1}</td><td>${se.playerNames.join(", ")}</td><td>${Va(se.totalTime)}</td><td>${se.totalPointsScored}</td><td>${se.totalPointsAllowed}</td><td class="${se.differential>=0?"positive":"negative"}" style="font-size:14px">${se.differential>=0?"+":""}${se.differential}</td></tr>`).join("")}
</table>
</div>
<div class="section">
<h2> Stints por jugador</h2>
<table>
<tr><th>Jugador</th><th>Pos</th><th>N Stints</th><th>Duracin de cada stint</th><th>Media</th><th>Total</th></tr>
${Ce.sort((se,$e)=>$e.totalTime-se.totalTime).map(se=>`<tr><td><strong>${se.name}</strong></td><td>${se.position}</td><td style="text-align:center">${se.stintCount}</td><td class="stint-times">${se.stints.map($e=>Va($e)).join("  ")}</td><td><strong>${Va(se.avgStint)}</strong></td><td>${Va(se.totalTime)}</td></tr>`).join("")}
</table>
</div>
<div style="margin-top:40px;text-align:center;color:#9ca3af;font-size:11px;border-top:1px solid #e5e7eb;padding-top:15px">
<p>Basketball Rotation Tracker - ${new Date().toLocaleString()}</p>
</div>
</body></html>`,Fe=new Blob([De],{type:"text/html;charset=utf-8"}),aa=URL.createObjectURL(Fe),na=document.createElement("a");na.href=aa,na.download=`report-${Cn}-vs-${ta}-${new Date().toISOString().split("T")[0]}.html`,document.body.appendChild(na),na.click(),document.body.removeChild(na),URL.revokeObjectURL(aa)},[Xe,Bt,oe,st,M,Da,va,Cn,ta]);if(!g)return h.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),h.jsx("p",{children:"Cargando..."})]})});if(y==="home"&&!n){const x=Hl(),E=x.find(L=>L.status==="in_progress");return h.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-gray-800 rounded-2xl p-6 sm:p-8 border-2 border-orange-500 max-w-md w-full",children:[h.jsxs("div",{className:"flex items-center justify-center gap-2 mb-8",children:[h.jsx(ql,{className:"w-8 h-8 text-orange-500"}),h.jsx("h1",{className:"text-xl sm:text-2xl font-black text-orange-400",children:"PlayStats Basketball"})]}),E&&h.jsxs("button",{onClick:()=>ut(E.id),className:"w-full mb-4 bg-yellow-700 hover:bg-yellow-600 active:bg-yellow-500 rounded-xl p-4 border-2 border-yellow-400 text-left",children:[h.jsxs("div",{className:"text-lg font-black flex items-center gap-2",children:[h.jsx(Rl,{className:"w-5 h-5"})," CONTINUAR PARTIDO"]}),h.jsxs("div",{className:"text-sm text-yellow-200 mt-1",children:[E.homeTeam," ",E.homeScore," - ",E.awayScore," ",E.awayTeam,h.jsxs("span",{className:"ml-2 opacity-75",children:[" Q",E.currentQuarter]})]})]}),h.jsxs("button",{onClick:()=>b("team-selection"),className:"w-full mb-4 bg-green-700 hover:bg-green-600 active:bg-green-500 rounded-xl p-6 border-2 border-green-400",children:[h.jsx("div",{className:"text-3xl mb-2",children:""}),h.jsx("div",{className:"text-xl font-black",children:"NUEVO PARTIDO"}),h.jsx("div",{className:"text-sm text-green-300",children:"Empezar a trackear"})]}),h.jsxs("button",{onClick:()=>b("history"),className:"w-full bg-blue-700 hover:bg-blue-600 active:bg-blue-500 rounded-xl p-6 border-2 border-blue-400",children:[h.jsx("div",{className:"text-3xl mb-2",children:""}),h.jsxs("div",{className:"text-xl font-black",children:["VER PARTIDOS (",x.length,")"]}),h.jsx("div",{className:"text-sm text-blue-300",children:"Historial guardado"})]})]})})}if(y==="home"&&n)return n(),null;if(y==="team-selection")return h.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-gray-800 rounded-2xl p-6 sm:p-8 border-2 border-orange-500 max-w-md w-full",children:[h.jsx("button",{onClick:()=>n?n():b("home"),className:"mb-4 text-gray-400 hover:text-white flex items-center gap-2",children:" Volver"}),h.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[h.jsx(ql,{className:"w-8 h-8 text-orange-500"}),h.jsx("h1",{className:"text-xl sm:text-2xl font-black text-orange-400",children:"Nuevo Partido"})]}),h.jsx("h2",{className:"text-lg font-bold text-center mb-6 text-gray-300",children:"Your team plays as..."}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("button",{onClick:()=>Ct(!0),className:"bg-blue-700 hover:bg-blue-600 active:bg-blue-500 rounded-xl p-4 sm:p-6 font-black text-center border-2 border-blue-400",children:[h.jsx("div",{className:"text-3xl sm:text-4xl mb-2",children:""}),h.jsx("div",{className:"text-lg sm:text-xl",children:"HOME"})]}),h.jsxs("button",{onClick:()=>Ct(!1),className:"bg-red-700 hover:bg-red-600 active:bg-red-500 rounded-xl p-4 sm:p-6 font-black text-center border-2 border-red-400",children:[h.jsx("div",{className:"text-3xl sm:text-4xl mb-2",children:""}),h.jsx("div",{className:"text-lg sm:text-xl",children:"AWAY"})]})]})]})});if(y==="history"&&!n){const x=Hl().sort((E,L)=>new Date(L.updatedAt)-new Date(E.updatedAt));return h.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-4",children:h.jsxs("div",{className:"max-w-md mx-auto",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[h.jsx("button",{onClick:()=>b("home"),className:"p-2 bg-gray-700 hover:bg-gray-600 rounded-lg",children:""}),h.jsx("h1",{className:"text-xl font-black text-orange-400",children:" Historial de Partidos"})]}),x.length===0?h.jsxs("div",{className:"text-center text-gray-500 py-8",children:[h.jsx("div",{className:"text-4xl mb-4",children:""}),h.jsx("p",{children:"No hay partidos guardados"}),h.jsx("button",{onClick:()=>b("team-selection"),className:"mt-4 bg-green-700 hover:bg-green-600 px-4 py-2 rounded-lg font-bold",children:"Crear primer partido"})]}):h.jsx("div",{className:"space-y-3",children:x.map(E=>{const L=E.status==="in_progress",F=E.isHomeTeam?E.homeScore:E.awayScore,ee=E.isHomeTeam?E.awayScore:E.homeScore,ie=F>ee,ne=F<ee;return h.jsxs("div",{className:`bg-gray-800 rounded-xl p-4 border-2 ${L?"border-yellow-500":"border-gray-600"} relative`,children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsxs("div",{className:"text-xs text-gray-400",children:[" ",new Date(E.updatedAt).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),h.jsx("div",{className:`text-xs px-2 py-0.5 rounded font-bold ${L?"bg-yellow-600":"bg-green-600"}`,children:L?" En progreso":" Finalizado"})]}),h.jsxs("div",{className:"text-lg font-bold mb-2",children:[h.jsxs("span",{className:E.isHomeTeam?ie?"text-green-400":ne?"text-red-400":"text-white":"text-white",children:[E.homeTeam," ",E.homeScore]}),h.jsx("span",{className:"text-gray-500",children:" - "}),h.jsxs("span",{className:E.isHomeTeam?"text-white":ie?"text-green-400":ne?"text-red-400":"text-white",children:[E.awayScore," ",E.awayTeam]})]}),h.jsxs("div",{className:"text-xs text-gray-500 mb-3",children:["Q",E.currentQuarter," ",L?"- En progreso":"- Completado",E.isHomeTeam?"  Home":"  Away"]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>ut(E.id),className:"flex-1 bg-blue-600 hover:bg-blue-500 active:bg-blue-400 py-2 rounded-lg font-bold text-sm",children:L?" Continuar":" Ver"}),h.jsx("button",{onClick:()=>{E0(E.id)&&(ut(E.id),setTimeout(()=>Wl(),100))},className:"bg-purple-600 hover:bg-purple-500 active:bg-purple-400 px-3 py-2 rounded-lg font-bold text-sm",title:"Descargar reporte",children:""}),h.jsx("button",{onClick:()=>{confirm("Eliminar este partido?")&&(Yl(E.id),b("history"))},className:"bg-red-600 hover:bg-red-500 active:bg-red-400 px-3 py-2 rounded-lg font-bold text-sm",title:"Eliminar",children:""})]})]},E.id)})})]})})}return h.jsxs(h.Fragment,{children:[A&&h.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 border-2 border-orange-500 max-w-sm w-full",children:[h.jsx("h3",{className:"text-xl font-black text-center mb-4 text-orange-400",children:"Qu quieres hacer?"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("button",{onClick:To,className:"w-full bg-yellow-600 hover:bg-yellow-500 active:bg-yellow-400 py-3 rounded-lg font-bold",children:[" GUARDAR Y SALIR",h.jsx("div",{className:"text-xs font-normal opacity-75",children:"Podrs continuar despus"})]}),h.jsxs("button",{onClick:Eo,className:"w-full bg-green-600 hover:bg-green-500 active:bg-green-400 py-3 rounded-lg font-bold",children:[" FINALIZAR PARTIDO",h.jsx("div",{className:"text-xs font-normal opacity-75",children:"Se guarda en el historial"})]}),h.jsx("button",{onClick:()=>U(!1),className:"w-full bg-gray-600 hover:bg-gray-500 active:bg-gray-400 py-3 rounded-lg font-bold",children:" CANCELAR"})]})]})}),h.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-2 sm:p-4",children:h.jsxs("div",{className:"max-w-7xl mx-auto space-y-2 sm:space-y-3",children:[h.jsxs("div",{className:"bg-gray-800 rounded-lg p-2 sm:p-3 border border-gray-700",children:[h.jsxs("h3",{className:"font-black text-sm mb-2 text-yellow-400 flex items-center gap-2",children:[h.jsx(v0,{className:"w-4 h-4"}),"FALTAS - Q",V]}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("div",{className:"bg-yellow-900/30 border border-yellow-600 rounded-lg p-2",children:[h.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[h.jsx(v0,{className:"w-3 h-3 text-yellow-400"}),h.jsx("span",{className:"font-bold text-yellow-400 text-xs",children:"WARNING"})]}),h.jsxs("div",{className:"flex flex-wrap gap-1",children:[dt.map(x=>h.jsxs("span",{className:"text-xs font-semibold text-white bg-yellow-800/60 px-2 py-0.5 rounded",children:["#",x.number," ",x.name]},x.id)),dt.length===0&&h.jsx("span",{className:"text-xs text-gray-500",children:"-"})]})]}),h.jsxs("div",{className:"bg-red-900/30 border border-red-600 rounded-lg p-2",children:[h.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[h.jsx(qc,{className:"w-3 h-3 text-red-400"}),h.jsx("span",{className:"font-bold text-red-400 text-xs",children:"DANGER"})]}),h.jsxs("div",{className:"flex flex-wrap gap-1",children:[Ui.map(x=>h.jsxs("span",{className:"text-xs font-semibold text-white bg-red-800/60 px-2 py-0.5 rounded",children:["#",x.number," ",x.name]},x.id)),Ui.length===0&&h.jsx("span",{className:"text-xs text-gray-500",children:"-"})]})]})]})]}),h.jsxs("div",{className:"bg-gray-800 rounded-lg p-2 sm:p-3 border border-cyan-700",children:[h.jsxs("h3",{className:"font-black text-sm mb-2 text-cyan-400 flex items-center gap-2",children:[h.jsx(Z0,{className:"w-4 h-4"}),"RECOMENDACIONES DE CAMBIO"]}),Ql.length>0?h.jsx("div",{className:"space-y-3",children:Ql.map((x,E)=>h.jsxs("div",{className:`${x.isFoulIssue?"bg-orange-900/30 border-orange-600":"bg-cyan-900/30 border-cyan-600"} border rounded-xl p-3`,children:[h.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[h.jsxs("span",{className:"text-sm font-black text-white bg-gray-700 px-3 py-1 rounded",children:["#",x.out.number," ",x.out.name]}),h.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded ${x.isFoulIssue?"bg-orange-600 text-white":"bg-cyan-600 text-white"}`,children:x.reason}),h.jsx("span",{className:"text-red-400 font-black text-sm",children:" SACAR"})]}),h.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[h.jsx("span",{className:"text-green-400 font-black text-xs",children:"METER:"}),x.suggestions.map(L=>{const F=ct(L),ee=F==="green"?"bg-green-600 border-green-400 hover:bg-green-500":F==="yellow"?"bg-yellow-600 border-yellow-400 hover:bg-yellow-500":"bg-red-600 border-red-400 hover:bg-red-500",ie=L.isPlayingOutOfPosition;return h.jsxs("button",{onClick:()=>Zl(x.out.id,L.id),className:`text-xs font-bold text-white ${ie?"bg-purple-600 border-purple-400 hover:bg-purple-500":ee} border-2 px-3 py-1.5 rounded cursor-pointer transition-colors active:opacity-80`,children:["#",L.number," ",L.name," (",Va(L.currentMinutes)," | ",L.fouls,"F)",ie&&h.jsx("span",{className:"ml-1 text-yellow-300",children:" JokerAlero"})]},L.id)}),x.suggestions.length===0&&h.jsx("span",{className:"text-xs text-gray-400",children:"No hay jugadores disponibles en esta posicin sin problemas de faltas"})]})]},E))}):h.jsx("div",{className:"text-center py-4 text-gray-500 text-sm",children:" No hay recomendaciones de cambio en este momento"})]}),h.jsxs("div",{className:"bg-gray-800 rounded-lg p-2 sm:p-3 border border-gray-700",children:[h.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-2",children:[h.jsxs("div",{className:`${Y?"bg-blue-800 border-blue-400":"bg-blue-900/50 border-blue-600"} border-2 rounded-lg p-2 text-center`,children:[ge==="home"?h.jsx("input",{type:"text",defaultValue:ka,onBlur:x=>{Nn(x.target.value||"Home"),be(null)},onKeyDown:x=>{x.key==="Enter"&&(Nn(x.target.value||"Home"),be(null))},className:"bg-gray-900 px-2 py-1.5 rounded text-center font-bold text-white w-full text-sm",autoFocus:!0}):h.jsx("div",{className:"text-xs sm:text-sm text-blue-300 truncate cursor-pointer py-1",onClick:()=>be("home"),children:ka}),le==="home"?h.jsx("input",{type:"number",min:"0",defaultValue:At,onBlur:x=>{at(parseInt(x.target.value)||0),ue(null)},onKeyDown:x=>{x.key==="Enter"&&(at(parseInt(x.target.value)||0),ue(null))},className:"bg-gray-900 px-2 py-2 rounded text-center font-black text-white w-full text-2xl",autoFocus:!0}):h.jsx("div",{className:"text-2xl sm:text-3xl font-black cursor-pointer",onClick:()=>ue("home"),children:At})]}),h.jsxs("div",{className:"flex flex-col items-center justify-center",children:[h.jsxs("div",{onClick:()=>ot(!mt),className:"text-sm font-bold text-orange-400 cursor-pointer",children:["Q",V]}),ze?h.jsxs("div",{className:"flex flex-col items-center gap-2",children:[h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("input",{type:"number",min:"0",max:"10",value:zt.minutes,onChange:x=>ma({...zt,minutes:parseInt(x.target.value)||0}),className:"w-12 sm:w-14 bg-gray-900 px-2 py-2 rounded text-center font-black text-white text-lg",autoFocus:!0}),h.jsx("span",{className:"font-black text-xl",children:":"}),h.jsx("input",{type:"number",min:"0",max:"59",value:zt.seconds,onChange:x=>ma({...zt,seconds:Math.min(59,parseInt(x.target.value)||0)}),className:"w-12 sm:w-14 bg-gray-900 px-2 py-2 rounded text-center font-black text-white text-lg"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>{const x=zt.minutes*60+zt.seconds;_e(Math.max(0,Math.min(600,x))),fa(!1)},className:"bg-green-600 px-4 py-2 rounded text-sm font-bold active:bg-green-500",children:""}),h.jsx("button",{onClick:()=>fa(!1),className:"bg-red-600 px-4 py-2 rounded text-sm font-bold active:bg-red-500",children:""})]})]}):h.jsx("div",{className:"text-xl sm:text-2xl font-black cursor-pointer",onClick:()=>{re(!1),ma({minutes:Math.floor(te/60),seconds:te%60}),fa(!0)},children:Zx(te)}),mt&&h.jsx("div",{className:"absolute mt-16 bg-gray-800 rounded-lg shadow-xl z-20 p-1 flex gap-1",children:[1,2,3,4].map(x=>h.jsx("button",{onClick:()=>{je(x),ot(!1)},className:`px-3 py-1 rounded text-sm font-bold ${V===x?"bg-orange-600":"bg-gray-700"}`,children:x},x))})]}),h.jsxs("div",{className:`${Y?"bg-red-900/50 border-red-600":"bg-red-800 border-red-400"} border-2 rounded-lg p-2 text-center`,children:[ge==="away"?h.jsx("input",{type:"text",defaultValue:Ra,onBlur:x=>{rs(x.target.value||"Away"),be(null)},onKeyDown:x=>{x.key==="Enter"&&(rs(x.target.value||"Away"),be(null))},className:"bg-gray-900 px-2 py-1.5 rounded text-center font-bold text-white w-full text-sm",autoFocus:!0}):h.jsx("div",{className:"text-xs sm:text-sm text-red-300 truncate cursor-pointer py-1",onClick:()=>be("away"),children:Ra}),le==="away"?h.jsx("input",{type:"number",min:"0",defaultValue:gt,onBlur:x=>{nt(parseInt(x.target.value)||0),ue(null)},onKeyDown:x=>{x.key==="Enter"&&(nt(parseInt(x.target.value)||0),ue(null))},className:"bg-gray-900 px-2 py-2 rounded text-center font-black text-white w-full text-2xl",autoFocus:!0}):h.jsx("div",{className:"text-2xl sm:text-3xl font-black cursor-pointer",onClick:()=>ue("away"),children:gt})]})]}),(()=>{const x=Hs(),E=(F,ee)=>F===0&&ee===0?"bg-gray-700 text-gray-400":F>ee?"bg-green-700 text-green-100":F<ee?"bg-red-700 text-red-100":"bg-orange-600 text-orange-100",L=te>300?"first":"second";return h.jsx("div",{className:"grid grid-cols-4 gap-1 mb-2",children:[1,2,3,4].map(F=>{const ee=x[F],ie=E(ee.first.us,ee.first.them),ne=E(ee.second.us,ee.second.them),Ce=F===V,St=Ce&&L==="first",ke=Ce&&L==="second";return h.jsxs("div",{className:"rounded p-1",children:[h.jsxs("div",{className:"text-xs text-center text-gray-400 font-bold mb-0.5",children:["Q",F]}),h.jsxs("div",{className:"flex gap-0.5",children:[h.jsx("div",{className:`flex-1 ${ie} rounded px-1 py-0.5 text-center ${St?"ring-2 ring-orange-400":""}`,children:h.jsxs("span",{className:"text-xs font-bold",children:[ee.first.us,"-",ee.first.them]})}),h.jsx("div",{className:`flex-1 ${ne} rounded px-1 py-0.5 text-center ${ke?"ring-2 ring-orange-400":""}`,children:h.jsxs("span",{className:"text-xs font-bold",children:[ee.second.us,"-",ee.second.them]})})]})]},F)})})})(),h.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[h.jsxs("button",{onClick:Mi,className:`flex-1 min-w-[60px] px-2 py-2 rounded-lg font-bold text-sm flex items-center justify-center gap-1 ${oe?"bg-orange-600":"bg-green-600"}`,children:[oe?h.jsx(wx,{className:"w-4 h-4"}):h.jsx(Rl,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:oe?"PAUSE":"PLAY"})]}),h.jsx("button",{onMouseDown:Xl,onMouseUp:Gt,onMouseLeave:zi,onTouchStart:Xl,onTouchEnd:Gt,className:`px-2 py-2 rounded-lg font-bold text-sm flex items-center justify-center ${Ua.length>0?"bg-red-600":"bg-gray-600"}`,children:h.jsx(Mx,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>C(!0),className:"px-2 py-2 bg-gray-600 rounded-lg",children:h.jsx(Cx,{className:"w-4 h-4"})}),h.jsx("button",{onClick:Wl,className:"px-2 py-2 bg-blue-600 rounded-lg",children:h.jsx(mx,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>U(!0),className:"px-2 py-2 bg-orange-600 rounded-lg",title:"Salir del partido",children:h.jsx(qc,{className:"w-4 h-4"})}),h.jsxs("div",{className:"flex items-center bg-gray-700 rounded-lg px-2 py-1",children:[h.jsx(W0,{className:"w-4 h-4 text-blue-400"}),h.jsxs("span",{className:`text-sm font-bold ml-1 ${Za===5?"text-green-400":"text-red-400"}`,children:[Za,"/5"]})]})]}),h.jsxs("div",{className:"grid grid-cols-4 gap-1.5",children:[h.jsx("button",{onClick:()=>{ae(3),W(!0)},className:"py-2.5 bg-purple-600 active:bg-purple-500 rounded-lg font-black text-sm",children:"+3"}),h.jsx("button",{onClick:()=>{ae(2),W(!0)},className:"py-2.5 bg-blue-600 active:bg-blue-500 rounded-lg font-black text-sm",children:"+2"}),h.jsx("button",{onClick:()=>{ae(1),W(!0)},className:"py-2.5 bg-green-600 active:bg-green-500 rounded-lg font-black text-sm",children:"+1"}),h.jsx("button",{onClick:()=>Z(!0),className:"py-2.5 bg-yellow-600 active:bg-yellow-500 rounded-lg font-black text-sm flex items-center justify-center",children:h.jsx(lx,{className:"w-4 h-4"})})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 sm:gap-3",children:[h.jsxs("div",{className:"bg-blue-900/30 rounded-lg p-2 border border-blue-700",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{className:"bg-blue-600 px-2 py-0.5 rounded text-xs font-bold",children:"EN PISTA"}),h.jsxs("span",{className:"text-xs font-bold",children:[Za,"/5"]})]}),h.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-1.5",children:Qt.length===0?h.jsx("div",{className:"col-span-3 sm:col-span-5 text-center py-4 text-gray-500 text-sm",children:"Selecciona 5 jugadores"}):Qt.map(x=>h.jsx(Ni,{player:x,isRosterView:!1,currentQuarter:V,editingPlayer:ga,editingStats:Ca,editForm:Oa,statsForm:Yt,onEditFormChange:Ka,onStatsFormChange:ya,onStartEditing:ba,onStartEditingStats:Un,onSaveEdit:hs,onSaveStats:rn,onCancelEdit:Rn,onToggleCourt:ln,getCourtTimeStatus:Ba,getBenchTimeStatus:ct},x.id))})]}),h.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-2 border border-gray-700",children:[h.jsx("div",{className:"mb-2",children:h.jsx("span",{className:"bg-gray-600 px-2 py-0.5 rounded text-xs font-bold",children:"BANQUILLO"})}),h.jsxs("div",{className:"mb-2",children:[h.jsx("div",{className:"text-xs font-bold text-blue-400 mb-1",children:"BASES"}),h.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-1.5",children:On.map(x=>h.jsx(Ni,{player:x,isRosterView:!0,currentQuarter:V,editingPlayer:ga,editingStats:Ca,editForm:Oa,statsForm:Yt,onEditFormChange:Ka,onStatsFormChange:ya,onStartEditing:ba,onStartEditingStats:Un,onSaveEdit:hs,onSaveStats:rn,onCancelEdit:Rn,onToggleCourt:ln,getCourtTimeStatus:Ba,getBenchTimeStatus:ct},x.id))})]}),h.jsxs("div",{className:"mb-2",children:[h.jsx("div",{className:"text-xs font-bold text-green-400 mb-1",children:"ALEROS"}),h.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-1.5",children:jo.map(x=>h.jsx(Ni,{player:x,isRosterView:!0,currentQuarter:V,editingPlayer:ga,editingStats:Ca,editForm:Oa,statsForm:Yt,onEditFormChange:Ka,onStatsFormChange:ya,onStartEditing:ba,onStartEditingStats:Un,onSaveEdit:hs,onSaveStats:rn,onCancelEdit:Rn,onToggleCourt:ln,getCourtTimeStatus:Ba,getBenchTimeStatus:ct},x.id))})]}),h.jsxs("div",{className:"mb-2",children:[h.jsx("div",{className:"text-xs font-bold text-purple-400 mb-1",children:"JOKER"}),h.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-1.5",children:Kl.map(x=>h.jsx(Ni,{player:x,isRosterView:!0,currentQuarter:V,editingPlayer:ga,editingStats:Ca,editForm:Oa,statsForm:Yt,onEditFormChange:Ka,onStatsFormChange:ya,onStartEditing:ba,onStartEditingStats:Un,onSaveEdit:hs,onSaveStats:rn,onCancelEdit:Rn,onToggleCourt:ln,getCourtTimeStatus:Ba,getBenchTimeStatus:ct},x.id))})]}),Di.length>0&&h.jsxs("div",{children:[h.jsx("div",{className:"text-xs font-bold text-gray-400 mb-1",children:"NO CONV."}),h.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-1.5",children:Di.map(x=>h.jsx(Ni,{player:x,isRosterView:!0,currentQuarter:V,editingPlayer:ga,editingStats:Ca,editForm:Oa,statsForm:Yt,onEditFormChange:Ka,onStatsFormChange:ya,onStartEditing:ba,onStartEditingStats:Un,onSaveEdit:hs,onSaveStats:rn,onCancelEdit:Rn,onToggleCourt:ln,getCourtTimeStatus:Ba,getBenchTimeStatus:ct},x.id))})]})]})]}),_&&En&&h.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-red-500 max-w-sm w-full",children:[h.jsxs("div",{className:"text-center mb-3",children:[h.jsx(qc,{className:"w-12 h-12 text-red-500 mx-auto mb-2"}),h.jsx("h3",{className:"text-xl font-black text-red-400",children:"FOULED OUT"}),h.jsxs("p",{className:"font-bold",children:["#",En.number," ",En.name]})]}),h.jsx("div",{className:"grid grid-cols-2 gap-2 mb-3",children:qs.map(x=>h.jsxs("button",{onClick:()=>Pl(x.id),className:"bg-green-600 active:bg-green-500 rounded-lg p-3 font-bold text-left",children:[h.jsxs("div",{children:["#",x.number," ",x.name]}),h.jsx("div",{className:"text-xs opacity-80",children:Va(x.currentMinutes)})]},x.id))}),h.jsx("button",{onClick:()=>{z(!1),_t(null)},className:"w-full py-2 bg-gray-600 rounded-lg font-bold",children:"CERRAR"})]})}),he&&h.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-yellow-500 max-w-sm w-full",children:[h.jsx("h3",{className:"text-lg font-black mb-3 text-yellow-400 text-center",children:"Quin hizo falta?"}),h.jsx("div",{className:"grid grid-cols-2 gap-2 mb-3",children:Qt.map(x=>h.jsx("button",{onClick:()=>Jl(x.id),className:"bg-yellow-700 active:bg-yellow-600 rounded-lg p-3 font-bold text-left",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("span",{children:["#",x.number," ",x.name]}),h.jsx("span",{className:`${ag(x.fouls,V)} px-2 py-0.5 rounded text-sm`,children:x.fouls})]})},x.id))}),h.jsx("button",{onClick:()=>Z(!1),className:"w-full py-2 bg-gray-600 rounded-lg font-bold",children:"CANCELAR"})]})}),$&&h.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-orange-500 max-w-sm w-full",children:[h.jsxs("h3",{className:"text-lg font-black mb-3 text-orange-400 text-center",children:["Quin anot ",X,"?"]}),h.jsxs("div",{className:"mb-3",children:[h.jsx("div",{className:"text-xs font-bold text-blue-400 mb-1",children:Cn}),h.jsx("div",{className:"grid grid-cols-2 gap-2",children:Qt.map(x=>h.jsxs("button",{onClick:()=>Bi(x.id),className:"bg-blue-700 active:bg-blue-600 rounded-lg p-2 font-bold text-sm",children:["#",x.number," ",x.name]},x.id))})]}),h.jsxs("button",{onClick:kn,className:"w-full py-2 bg-red-700 active:bg-red-600 rounded-lg font-bold mb-2",children:["+",X," ",ta]}),h.jsx("button",{onClick:()=>{W(!1),ae(null)},className:"w-full py-2 bg-gray-600 rounded-lg font-bold",children:"CANCELAR"})]})}),Ke&&h.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-red-500 max-w-xs w-full",children:[h.jsx("h3",{className:"text-lg font-black mb-2 text-red-400 text-center",children:" RESET"}),h.jsx("p",{className:"text-center text-gray-300 mb-4",children:"Resetear todo?"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:Il,className:"flex-1 py-2 bg-red-600 rounded-lg font-bold",children:"S"}),h.jsx("button",{onClick:()=>Le(!1),className:"flex-1 py-2 bg-gray-600 rounded-lg font-bold",children:"NO"})]})]})}),I&&h.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 border-2 border-gray-500 max-w-xs w-full",children:[h.jsx("h3",{className:"text-lg font-black mb-3 text-center",children:"Configurar Stints"}),h.jsxs("div",{className:"space-y-3 mb-4",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-xs font-bold text-blue-400 mb-1",children:" EN PISTA"}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-green-400",children:"VerdeAmarillo"}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx("input",{type:"number",min:"0",max:"10",value:tt.green.minutes,onChange:x=>jn({...tt,green:{...tt.green,minutes:parseInt(x.target.value)||0}}),className:"w-full bg-gray-700 px-2 py-1 rounded"}),h.jsx("input",{type:"number",min:"0",max:"59",value:tt.green.seconds,onChange:x=>jn({...tt,green:{...tt.green,seconds:parseInt(x.target.value)||0}}),className:"w-full bg-gray-700 px-2 py-1 rounded"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-yellow-400",children:"AmarilloRojo"}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx("input",{type:"number",min:"0",max:"10",value:tt.yellow.minutes,onChange:x=>jn({...tt,yellow:{...tt.yellow,minutes:parseInt(x.target.value)||0}}),className:"w-full bg-gray-700 px-2 py-1 rounded"}),h.jsx("input",{type:"number",min:"0",max:"59",value:tt.yellow.seconds,onChange:x=>jn({...tt,yellow:{...tt.yellow,seconds:parseInt(x.target.value)||0}}),className:"w-full bg-gray-700 px-2 py-1 rounded"})]})]})]})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xs font-bold text-gray-400 mb-1",children:" BANQUILLO"}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-red-400",children:"RojoAmarillo"}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx("input",{type:"number",min:"0",max:"10",value:We.red.minutes,onChange:x=>Qa({...We,red:{...We.red,minutes:parseInt(x.target.value)||0}}),className:"w-full bg-gray-700 px-2 py-1 rounded"}),h.jsx("input",{type:"number",min:"0",max:"59",value:We.red.seconds,onChange:x=>Qa({...We,red:{...We.red,seconds:parseInt(x.target.value)||0}}),className:"w-full bg-gray-700 px-2 py-1 rounded"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-yellow-400",children:"AmarilloVerde"}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx("input",{type:"number",min:"0",max:"10",value:We.yellow.minutes,onChange:x=>Qa({...We,yellow:{...We.yellow,minutes:parseInt(x.target.value)||0}}),className:"w-full bg-gray-700 px-2 py-1 rounded"}),h.jsx("input",{type:"number",min:"0",max:"59",value:We.yellow.seconds,onChange:x=>Qa({...We,yellow:{...We.yellow,seconds:parseInt(x.target.value)||0}}),className:"w-full bg-gray-700 px-2 py-1 rounded"})]})]})]})]})]}),h.jsx("button",{onClick:()=>C(!1),className:"w-full py-2 bg-gray-600 rounded-lg font-bold",children:"CERRAR"})]})})]})})]})}function Fx(){const{user:i,loading:n}=So(),{currentTeam:l,teamPlayers:r,saveGame:c,refreshCurrentTeam:d}=Gl(),[f,g]=j.useState(null),p=j.useCallback(()=>!r||r.length===0?null:r.map((A,U)=>({id:U+1,name:A.name,number:A.number||"0",position:A.position||"Unselected"})),[r]),y=j.useCallback(()=>{g({type:"new"})},[]),b=j.useCallback(A=>{const U=A.game_data||{};g({type:"continue",savedData:{...U,id:A.id,gameStarted:U.gameStarted??!0,isHomeTeam:U.isHomeTeam??A.is_home_team,homeTeam:U.homeTeam||A.home_team||"Home",awayTeam:U.awayTeam||A.away_team||"Away",homeScore:U.homeScore??A.home_score??0,awayScore:U.awayScore??A.away_score??0,currentQuarter:U.currentQuarter??A.current_quarter??1,status:A.status}})},[]),S=j.useCallback(()=>{g(null),d()},[d]),N=j.useCallback(async A=>{l&&await c(A)},[l,c]);return n?h.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),h.jsx("p",{children:"Cargando..."})]})}):i?f?h.jsx(Wx,{initialPlayers:p(),savedGameData:f.type==="continue"?f.savedData:null,onExit:S,onGameSaved:N,teamId:l?.id,userId:i?.id},f.savedData?.id||"new"):l?h.jsx(Jx,{onStartGame:y,onContinueGame:b}):h.jsx(Vx,{}):h.jsx(Pb,{})}function e_(){return h.jsx(Yb,{children:h.jsx(Zb,{children:h.jsx(Fx,{})})})}mp.createRoot(document.getElementById("root")).render(h.jsx(j.StrictMode,{children:h.jsx(e_,{})}));
